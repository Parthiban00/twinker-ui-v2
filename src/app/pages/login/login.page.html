<ion-content class="login-content" [scrollY]="false">

  <!-- Top gradient hero -->
  <div class="hero-section">
    <div class="hero-bg"></div>
    <div class="hero-decor">
      <div class="circle c1"></div>
      <div class="circle c2"></div>
      <div class="circle c3"></div>
    </div>
    <div class="hero-content">
      <div class="logo-wrap">
        <ion-icon name="bicycle-outline" class="logo-icon"></ion-icon>
      </div>
      <h1 class="brand-name">Twinker</h1>
      <p class="brand-tag">Order Online</p>
    </div>
  </div>

  <!-- Form card -->
  <div class="form-card">
    <h2 class="form-title">Welcome</h2>
    <p class="form-subtitle">Enter your phone number to get started</p>

    <form [formGroup]="signInForm">
      <!-- Phone field -->
      <div class="phone-field" [class.focused]="phoneInputFocused" [class.has-value]="signInForm.get('mobileNo')?.value">
        <div class="country-prefix">
          <span>+91</span>
        </div>
        <div class="divider"></div>
        <ion-input
          formControlName="mobileNo"
          type="tel"
          placeholder="Enter mobile number"
          [maxlength]="10"
          inputmode="numeric"
          (ionFocus)="phoneInputFocused = true"
          (ionBlur)="phoneInputFocused = false"
        ></ion-input>
      </div>

      <!-- Validation error -->
      <div class="error-row" *ngIf="signInForm.get('mobileNo')?.invalid && (signInForm.get('mobileNo')?.dirty || signInForm.get('mobileNo')?.touched)">
        <ion-icon name="alert-circle-outline"></ion-icon>
        <span *ngIf="signInForm.get('mobileNo')?.errors?.['required']">Mobile number is required</span>
        <span *ngIf="signInForm.get('mobileNo')?.errors?.['minlength']">Enter a valid 10-digit number</span>
      </div>

      <!-- CTA -->
      <button class="cta-btn" [class.disabled]="signInForm.invalid" [disabled]="loading" (click)="requestOTP()">
        <span *ngIf="!loading">Get OTP</span>
        <ion-spinner *ngIf="loading" name="crescent"></ion-spinner>
      </button>
    </form>

    <p class="terms">
      By continuing, you agree to our
      <span class="link">Terms of Service</span> & <span class="link">Privacy Policy</span>
    </p>
  </div>

</ion-content>
