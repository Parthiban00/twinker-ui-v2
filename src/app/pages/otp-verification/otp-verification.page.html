<ion-content class="otp-content">
  <div class="otp-wrapper">
    <!-- Back Button -->
    <ion-button class="back-btn" fill="clear" routerLink="/login" routerDirection="back">
      <ion-icon slot="icon-only" name="arrow-back-outline" color="medium"></ion-icon>
    </ion-button>

    <!-- Title & Subtitle -->
    <h1 class="page-title">Verification Code</h1>
    <p class="page-subtitle">We have sent the verification code to your mobile number</p>

    <!-- OTP Input Boxes -->
    <div class="otp-boxes">
      <ion-input
        class="otp-box"
        #otp1
        maxlength="1"
        inputmode="numeric"
        [(ngModel)]="otp.first"
        (keyup)="otpController($event, otp2, otp1, '')"
      ></ion-input>
      <ion-input
        class="otp-box"
        #otp2
        maxlength="1"
        inputmode="numeric"
        [(ngModel)]="otp.second"
        (keyup)="otpController($event, otp3, otp1, otp1)"
      ></ion-input>
      <ion-input
        class="otp-box"
        #otp3
        maxlength="1"
        inputmode="numeric"
        [(ngModel)]="otp.third"
        (keyup)="otpController($event, otp4, otp2, otp2)"
      ></ion-input>
      <ion-input
        class="otp-box"
        #otp4
        maxlength="1"
        inputmode="numeric"
        [(ngModel)]="otp.fourth"
        (keyup)="otpController($event, '', otp3, otp3)"
      ></ion-input>
    </div>

    <!-- Resend -->
    <div class="resend-section">
      <span class="resend-text">Didn't receive code? </span>
      <span *ngIf="resendDisabled" class="resend-timer">Resend OTP in {{ resendCountdown }}s</span>
      <span *ngIf="!resendDisabled" class="resend-link" (click)="resentOtp()">Resend OTP</span>
    </div>

    <!-- Confirm Button -->
    <ion-button class="confirm-btn" expand="block" (click)="verifyOtpAndLogin()">Confirm</ion-button>
  </div>
</ion-content>
