import{a as J}from"./chunk-XP5VWEMW.js";import{a as xe}from"./chunk-UC7VOA4V.js";import{a as Q}from"./chunk-EE54FCRT.js";import{a as Y}from"./chunk-5L56GRTK.js";import{a as ue}from"./chunk-RUV2QHWV.js";import{a as G}from"./chunk-G4UC2DN7.js";import{a as F}from"./chunk-4TOLQR2K.js";import{$ as w,B as c,C as n,D as i,Da as re,E as p,Ea as ce,Gb as fe,Ha as T,I as h,Ia as le,J as u,K as d,Ka as se,Lb as A,Ma as de,P as ee,Pb as _e,S as l,Sa as U,T as f,U as P,Ua as pe,Ub as q,V as H,Va as ge,W as ne,Wa as me,X as ie,Xb as W,Y as ae,Z as k,_ as E,ha as oe,ka as V,kb as N,la as L,m as b,o as x,p as v,pa as $,pb as j,qb as R,t as M,u as a,va as D,w as C,x as B,y as O,z as m}from"./chunk-GJ24JKLH.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{a as X,b as Z,e as te}from"./chunk-JHI3MBHO.js";var ke=t=>({"background-color":t}),ve=t=>({color:t});function Ee(t,s){if(t&1){let e=h();n(0,"button",13),u("click",function(){x(e);let r=d();return r.searchTerm="",v(r.handleSearch(""))}),p(1,"ion-icon",14),i()}}function Te(t,s){if(t&1&&(n(0,"span",25),l(1),i()),t&2){let e=d(3);a(),f(e.bestCoupon.code)}}function Fe(t,s){if(t&1&&(n(0,"div",18)(1,"div",19),p(2,"ion-icon",20),i(),n(3,"div",21)(4,"span",22),l(5),i(),n(6,"span",23),l(7),i()(),m(8,Te,2,1,"span",24),i()),t&2){let e=d(2);a(5),f(e.getCouponLabel()),a(2),f(e.bestCoupon.title),a(),c("ngIf",e.bestCoupon.code)}}function ze(t,s){if(t&1&&p(0,"img",44),t&2){let e=d().$implicit,o=d(3);c("src",o.imgBaseUrl+e.imageUrl,M)("alt",e.productName)}}function Be(t,s){t&1&&(n(0,"div",45),p(1,"ion-icon",46),i())}function He(t,s){if(t&1&&(n(0,"span",47),l(1),i()),t&2){let e=d().$implicit;a(),f((e.vendor==null?null:e.vendor.name)||e.vendorName)}}function Ve(t,s){if(t&1&&(n(0,"span",48),l(1),i()),t&2){let e=d().$implicit;a(),P("\u20B9",e.actualPrice)}}function Le(t,s){if(t&1&&(n(0,"span",49),l(1),i()),t&2){let e=d().$implicit,o=d(3);a(),f(o.getDiscountLabel(e))}}function $e(t,s){if(t&1){let e=h();n(0,"div",30)(1,"div",31),m(2,ze,1,2,"img",32)(3,Be,2,0,"div",33),i(),n(4,"div",34)(5,"span",35),l(6),i(),m(7,He,2,1,"span",36),n(8,"div",37)(9,"div",38)(10,"span",39),l(11),i(),m(12,Ve,2,1,"span",40),i(),n(13,"button",41),u("click",function(r){let g=x(e).$implicit;return d(3).addToCart(g),v(r.stopPropagation())}),p(14,"ion-icon",42),i()(),m(15,Le,2,1,"span",43),i()()}if(t&2){let e=s.$implicit;a(2),c("ngIf",e.imageUrl),a(),c("ngIf",!e.imageUrl),a(3),f(e.productName),a(),c("ngIf",(e.vendor==null?null:e.vendor.name)||e.vendorName),a(4),P("\u20B9",e.price),a(),c("ngIf",e.actualPrice>e.price),a(3),c("ngIf",e.discount)}}function De(t,s){if(t&1&&(n(0,"div",26)(1,"span",27),l(2,"Today's deals"),i(),n(3,"div",28),m(4,$e,16,7,"div",29),i()()),t&2){let e=d(2);a(4),c("ngForOf",e.deals.slice(0,8))}}function Ue(t,s){if(t&1&&(n(0,"div",15),m(1,Fe,9,3,"div",16)(2,De,5,1,"div",17),i()),t&2){let e=d();a(),c("ngIf",e.bestCoupon),a(),c("ngIf",e.deals.length)}}function Ne(t,s){t&1&&(n(0,"span",53),l(1,"Browse by category"),i())}function je(t,s){if(t&1&&p(0,"img",62),t&2){let e=d().$implicit,o=d(2);c("src",o.imgBaseUrl+e.imageUrl,M)("alt",e.categoryName)}}function Re(t,s){if(t&1&&p(0,"ion-icon",63),t&2){let e=d(),o=e.$implicit,r=e.index,g=d(2);c("name",g.getIcon(o.categoryName))("ngStyle",w(2,ve,g.getAccentColor(o.categoryName,r)))}}function Ae(t,s){if(t&1&&(n(0,"span",64),p(1,"ion-icon",46),l(2),i()),t&2){let e=d(),o=e.$implicit,r=e.index,g=d(2);c("ngStyle",w(3,ve,g.getAccentColor(o.categoryName,r))),a(2),H(" ",g.getDealCount(o._id)," ",g.getDealCount(o._id)===1?"offer":"offers"," ")}}function qe(t,s){if(t&1){let e=h();n(0,"div",54),u("click",function(){let r=x(e).$implicit,g=d(2);return v(g.selectCategory(r))}),n(1,"div",55),m(2,je,1,2,"img",56)(3,Re,1,4,"ion-icon",57),i(),n(4,"div",58)(5,"span",59),l(6),i(),m(7,Ae,3,5,"span",60),i(),p(8,"ion-icon",61),i()}if(t&2){let e=s.$implicit,o=s.index,r=d(2);a(),c("ngStyle",w(5,ke,r.getBgColor(e.categoryName,o))),a(),c("ngIf",e.imageUrl),a(),c("ngIf",!e.imageUrl),a(3),f(e.categoryName),a(),c("ngIf",r.getDealCount(e._id))}}function We(t,s){if(t&1&&(n(0,"div",50),m(1,Ne,2,0,"span",51)(2,qe,9,7,"div",52),i()),t&2){let e=d();a(),c("ngIf",!e.searchTerm),a(),c("ngForOf",e.filteredCategories)}}function Ge(t,s){t&1&&(n(0,"div",65),p(1,"ion-icon",66),n(2,"span",67),l(3,"No categories found"),i(),n(4,"span",68),l(5,"Try a different search term"),i()())}var K=(()=>{class t{constructor(e,o,r,g,_,I){this.modalCtrl=e,this.navParams=o,this.storageService=r,this.commonService=g,this.eventBus=_,this.platform=I,this.categories=[],this.filteredCategories=[],this.localityId="",this.imgBaseUrl=G.imageBaseUrl,this.searchTerm="",this.deals=[],this.bestCoupon=null,this.dealCountMap={},this.iconMap={food:"restaurant-outline",groceries:"cart-outline",medicine:"medkit-outline",desserts:"ice-cream-outline",beverages:"cafe-outline"},this.colorMap={food:{bg:"#FFF0F0",accent:"#F85C70"},groceries:{bg:"#F0FFF4",accent:"#2ecc71"},medicine:{bg:"#F0F4FF",accent:"#4A5BF5"},desserts:{bg:"#FFF0F8",accent:"#E91E8C"},beverages:{bg:"#FFF5F0",accent:"#FF8C42"}},this.defaultColors=[{bg:"#F5F0FF",accent:"#7C4DFF"},{bg:"#FFF8E1",accent:"#FFB300"},{bg:"#E0F7FA",accent:"#00ACC1"},{bg:"#FBE9E7",accent:"#FF5722"},{bg:"#E8F5E9",accent:"#43A047"}]}ngOnInit(){this.categories=this.navParams.get("categories")||[],this.localityId=this.navParams.get("localityId")||"",this.deals=this.navParams.get("deals")||[],this.bestCoupon=this.navParams.get("bestCoupon")||null,this.filteredCategories=[...this.categories],this.buildDealCountMap()}ionViewDidEnter(){this.backButtonSub=this.platform.backButton.subscribeWithPriority(10001,()=>{this.cancel()})}ngOnDestroy(){this.backButtonSub&&(this.backButtonSub.unsubscribe(),this.backButtonSub=void 0)}cancel(){return this.modalCtrl.dismiss(null,"cancel")}handleSearch(e){let o=(e.target?.value||e||"").toLowerCase().trim();this.searchTerm=o,o?this.filteredCategories=this.categories.filter(r=>r.categoryName?.toLowerCase().includes(o)):this.filteredCategories=[...this.categories]}selectCategory(e){this.modalCtrl.dismiss(e,"navigate")}getIcon(e){return this.iconMap[e?.toLowerCase()]||"grid-outline"}getBgColor(e,o){let r=this.colorMap[e?.toLowerCase()];return r?r.bg:this.defaultColors[o%this.defaultColors.length].bg}getAccentColor(e,o){let r=this.colorMap[e?.toLowerCase()];return r?r.accent:this.defaultColors[o%this.defaultColors.length].accent}getDiscountLabel(e){return e.discount?e.discountType==="in-percentage"?`${e.discount}% OFF`:e.discountType==="in-price"?`\u20B9${e.discount} OFF`:`${e.discount}% OFF`:""}getCouponLabel(){return this.bestCoupon?this.bestCoupon.discountType==="percentage"?`${this.bestCoupon.discountValue}% OFF`:`\u20B9${this.bestCoupon.discountValue} OFF`:""}getDealCount(e){return this.dealCountMap[e]||0}addToCart(e){let o=this.storageService.getItem("cart-items")||[],r=e.vendor||{},g=e.vendorId||r._id||"unknown",_=o.find(y=>y._id===e._id&&(y.vendorId||"unknown")===g&&!y.cartItemId);_?_.itemCount=(_.itemCount||_.quantity||1)+1:o.push({_id:e._id,productName:e.productName||e.name||"",price:e.price||0,basePrice:e.actualPrice||e.basePrice||void 0,itemCount:1,imageUrl:e.imageUrl||"",type:e.type||"",vendorId:g,vendorName:e.vendorName||r.businessName||r.name||"",vendorImage:e.vendorImage||r.imageUrl||"",vendorCuisine:e.vendorCuisine||r.cuisineType||""}),this.storageService.setItem("cart-items",o);let I=o.reduce((y,S)=>y+(S.itemCount||S.quantity||1),0);this.eventBus.emit("cart:updated",I),this.commonService.presentToast("bottom",`${e.productName||e.name||"Item"} added to cart`,"success")}buildDealCountMap(){this.dealCountMap={},this.deals.forEach(e=>{let o=e.category?._id||e.category;o&&(this.dealCountMap[o]=(this.dealCountMap[o]||0)+1)})}static{this.\u0275fac=function(o){return new(o||t)(C(q),C(me),C(F),C(Y),C(Q),C(pe))}}static{this.\u0275cmp=B({type:t,selectors:[["app-category-list"]],standalone:!1,decls:16,vars:5,consts:[[1,"ion-no-border"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","close-outline"],[1,"modal-title"],[1,"search-wrap"],["name","search-outline",1,"search-icon"],["type","text","placeholder","Search categories...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-btn",3,"click",4,"ngIf"],["class","offers-section",4,"ngIf"],["class","cat-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[2,"height","24px"],[1,"clear-btn",3,"click"],["name","close-circle"],[1,"offers-section"],["class","coupon-banner",4,"ngIf"],["class","deals-scroll",4,"ngIf"],[1,"coupon-banner"],[1,"coupon-left"],["name","pricetag"],[1,"coupon-info"],[1,"coupon-value"],[1,"coupon-title"],["class","coupon-code",4,"ngIf"],[1,"coupon-code"],[1,"deals-scroll"],[1,"offers-title"],[1,"deals-list"],["class","deal-chip",4,"ngFor","ngForOf"],[1,"deal-chip"],[1,"deal-chip-img"],[3,"src","alt",4,"ngIf"],["class","deal-chip-placeholder",4,"ngIf"],[1,"deal-chip-info"],[1,"deal-chip-name"],["class","deal-chip-vendor",4,"ngIf"],[1,"deal-chip-price-row"],[1,"price-group"],[1,"deal-chip-price"],["class","deal-chip-original",4,"ngIf"],[1,"add-btn",3,"click"],["name","add-outline"],["class","deal-chip-badge",4,"ngIf"],[3,"src","alt"],[1,"deal-chip-placeholder"],["name","pricetag-outline"],[1,"deal-chip-vendor"],[1,"deal-chip-original"],[1,"deal-chip-badge"],[1,"cat-grid"],["class","cat-section-title",4,"ngIf"],["class","cat-card",3,"click",4,"ngFor","ngForOf"],[1,"cat-section-title"],[1,"cat-card",3,"click"],[1,"cat-icon-wrap",3,"ngStyle"],["class","cat-img",3,"src","alt",4,"ngIf"],[3,"name","ngStyle",4,"ngIf"],[1,"cat-details"],[1,"cat-name"],["class","cat-offer-badge",3,"ngStyle",4,"ngIf"],["name","chevron-forward-outline",1,"cat-chevron"],[1,"cat-img",3,"src","alt"],[3,"name","ngStyle"],[1,"cat-offer-badge",3,"ngStyle"],[1,"empty-state"],["name","search-outline",1,"empty-icon"],[1,"empty-title"],[1,"empty-sub"]],template:function(o,r){o&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1)(3,"button",2),u("click",function(){return r.cancel()}),p(4,"ion-icon",3),i(),n(5,"span",4),l(6,"All categories"),i()(),n(7,"div",5),p(8,"ion-icon",6),n(9,"input",7),ae("ngModelChange",function(_){return ie(r.searchTerm,_)||(r.searchTerm=_),_}),u("input",function(_){return r.handleSearch(_)}),i(),m(10,Ee,2,0,"button",8),i()()(),n(11,"ion-content"),m(12,Ue,3,2,"div",9)(13,We,3,2,"div",10)(14,Ge,6,0,"div",11),p(15,"div",12),i()),o&2&&(a(9),ne("ngModel",r.searchTerm),a(),c("ngIf",r.searchTerm),a(2),c("ngIf",!r.searchTerm&&(r.deals.length||r.bestCoupon)),a(),c("ngIf",r.filteredCategories.length),a(),c("ngIf",!r.filteredCategories.length))},dependencies:[V,L,$,le,se,de,N,j,R,A],styles:["ion-toolbar[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--min-height: auto;--background: #fff;padding:calc(var(--ion-safe-area-top, 20px) + 8px) 16px 12px}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:14px}.close-btn[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;border:none;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0;cursor:pointer}.close-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#1a1a1a}.modal-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:19px;color:#1a1a1a}.search-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f5f5f5;border-radius:25px;padding:10px 16px;gap:10px}.search-wrap[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:20px;color:#aaa;flex-shrink:0}.search-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;font-family:latoRegular;font-size:15px;color:#1a1a1a}.search-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#aaa}.search-wrap[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;display:flex;cursor:pointer}.search-wrap[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#bbb}ion-content[_ngcontent-%COMP%]{--background: #fff}.offers-section[_ngcontent-%COMP%]{padding:16px 16px 0}.coupon-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:linear-gradient(135deg,#f85c70,#fc8c5c);border-radius:14px;padding:14px 16px;margin-bottom:16px}.coupon-banner[_ngcontent-%COMP%]   .coupon-left[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;flex-shrink:0}.coupon-banner[_ngcontent-%COMP%]   .coupon-left[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff}.coupon-banner[_ngcontent-%COMP%]   .coupon-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px;min-width:0}.coupon-banner[_ngcontent-%COMP%]   .coupon-info[_ngcontent-%COMP%]   .coupon-value[_ngcontent-%COMP%]{font-family:latoBold;font-size:16px;color:#fff}.coupon-banner[_ngcontent-%COMP%]   .coupon-info[_ngcontent-%COMP%]   .coupon-title[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#ffffffd9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.coupon-banner[_ngcontent-%COMP%]   .coupon-code[_ngcontent-%COMP%]{font-family:latoBold;font-size:11px;color:#f85c70;background:#fff;padding:4px 10px;border-radius:20px;flex-shrink:0}.deals-scroll[_ngcontent-%COMP%]{margin-bottom:8px}.offers-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;display:block;margin-bottom:12px}.deals-list[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:10px;padding-bottom:4px}.deals-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.deal-chip[_ngcontent-%COMP%]{width:130px;flex-shrink:0;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 10px #0000000f}.deal-chip-img[_ngcontent-%COMP%]{width:100%;height:80px;background:#f5f5f5;overflow:hidden}.deal-chip-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.deal-chip-img[_ngcontent-%COMP%]   .deal-chip-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.deal-chip-img[_ngcontent-%COMP%]   .deal-chip-placeholder[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;color:#ddd}.deal-chip-info[_ngcontent-%COMP%]{padding:8px;display:flex;flex-direction:column;gap:3px}.deal-chip-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.deal-chip-vendor[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#999;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.deal-chip-price-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.deal-chip-price-row[_ngcontent-%COMP%]   .price-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;min-width:0}.deal-chip-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#1a1a1a}.deal-chip-original[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#bbb;text-decoration:line-through}.deal-chip-badge[_ngcontent-%COMP%]{font-family:latoBold;font-size:10px;color:#f85c70;background:#fff0f0;padding:2px 6px;border-radius:4px;align-self:flex-start}.add-btn[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;border-radius:50%;border:2px solid #2ecc71;background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.add-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#2ecc71}.add-btn[_ngcontent-%COMP%]:active{background:#2ecc71}.add-btn[_ngcontent-%COMP%]:active   ion-icon[_ngcontent-%COMP%]{color:#fff}.cat-grid[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:4px}.cat-section-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;margin-bottom:8px}.cat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:14px 12px;border-radius:14px;cursor:pointer;transition:background .15s ease,transform .15s ease}.cat-card[_ngcontent-%COMP%]:active{background:#fafafa;transform:scale(.98)}.cat-icon-wrap[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden}.cat-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.cat-icon-wrap[_ngcontent-%COMP%]   .cat-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:14px}.cat-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:3px;min-width:0}.cat-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:16px;color:#1a1a1a}.cat-offer-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;font-family:latoBold;font-size:11px}.cat-offer-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.cat-chevron[_ngcontent-%COMP%]{font-size:18px;color:#ccc;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:60px 32px 24px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:56px;color:#ddd;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:17px;color:#1a1a1a;margin-bottom:6px}.empty-state[_ngcontent-%COMP%]   .empty-sub[_ngcontent-%COMP%]{font-family:latoRegular;font-size:14px;color:#888}"]})}}return t})();var Ye=()=>["/location-setup"],Qe=()=>[1,2,3,4,5],Je=()=>[1,2,3],Ke=()=>[1,2,3,4,5,6,7,8],Xe=()=>({"background-color":"#FFF0F0"}),Ze=t=>({"background-color":t}),he=t=>({color:t});function et(t,s){if(t&1&&(n(0,"span"),l(1),i()),t&2){let e=d(2);a(),P(", ",e.userName)}}function tt(t,s){if(t&1&&(n(0,"div",15)(1,"span",16),l(2),m(3,et,2,1,"span",13),l(4,"!"),i()()),t&2){let e=d();a(2),f(e.greeting),a(),c("ngIf",e.userName)}}function nt(t,s){if(t&1&&(n(0,"div",17)(1,"span",18),l(2),i(),p(3,"ion-icon",19),i()),t&2){let e=d();a(2),f(e.defaultAddress.fullAddress)}}function it(t,s){t&1&&(n(0,"div",31),p(1,"ion-skeleton-text",32)(2,"ion-skeleton-text",33),i()),t&2&&(a(),c("animated",!0),a(),c("animated",!0))}function at(t,s){t&1&&(n(0,"div",34),p(1,"ion-skeleton-text",35)(2,"ion-skeleton-text",36)(3,"ion-skeleton-text",37),i()),t&2&&(a(),c("animated",!0),a(),c("animated",!0),a(),c("animated",!0))}function ot(t,s){t&1&&(n(0,"div",38),p(1,"ion-skeleton-text",39)(2,"ion-skeleton-text",40),i()),t&2&&(a(),c("animated",!0),a(),c("animated",!0))}function rt(t,s){t&1&&(n(0,"div",20)(1,"div",21)(2,"div",22),m(3,it,3,2,"div",23),i()(),n(4,"div",24),p(5,"ion-skeleton-text",25),i(),n(6,"div",24),p(7,"ion-skeleton-text",26),n(8,"div",27),m(9,at,4,3,"div",28),i()(),n(10,"div",24),p(11,"ion-skeleton-text",26),n(12,"div",29),m(13,ot,3,2,"div",30),i()()()),t&2&&(a(3),c("ngForOf",E(6,Qe)),a(2),c("animated",!0),a(2),c("animated",!0),a(2),c("ngForOf",E(7,Je)),a(2),c("animated",!0),a(2),c("ngForOf",E(8,Ke)))}function ct(t,s){if(t&1&&p(0,"img",72),t&2){let e=d().$implicit,o=d(3);c("alt",k(e.categoryName))("src",o.imgBaseUrl+e.imageUrl,M)}}function lt(t,s){t&1&&p(0,"ion-icon",73)}function st(t,s){if(t&1&&(n(0,"span",74),l(1),i()),t&2){let e=d().$implicit;a(),P("",e.vendorDetails.length," stores")}}function dt(t,s){if(t&1){let e=h();n(0,"div",66),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigateService(r))}),n(1,"div",67),m(2,ct,1,3,"img",68)(3,lt,1,0,"ion-icon",69),i(),n(4,"span",70),l(5),i(),m(6,st,2,1,"span",71),i()}if(t&2){let e=s.$implicit,o=s.index;ee("animation-delay",o*.05+"s"),a(),c("ngStyle",E(7,Xe)),a(),c("ngIf",e.imageUrl),a(),c("ngIf",!e.imageUrl),a(2),f(e.categoryName),a(),c("ngIf",e.vendorDetails==null?null:e.vendorDetails.length)}}function pt(t,s){if(t&1){let e=h();n(0,"div",61)(1,"div",62)(2,"span",63),l(3,"Our services"),i(),n(4,"span",64),u("click",function(){x(e);let r=d(2);return v(r.exploreCategories())}),l(5,"See all"),i()(),n(6,"div",22),m(7,dt,7,8,"div",65),i()()}if(t&2){let e=d(2);a(7),c("ngForOf",e.categories)}}function gt(t,s){if(t&1&&p(0,"img",90),t&2){let e=d().$implicit,o=d(3);c("alt",k(e.productName))("src",o.imgBaseUrl+e.imageUrl,M)}}function mt(t,s){t&1&&(n(0,"div",91),p(1,"ion-icon",92),i())}function ft(t,s){if(t&1&&(n(0,"div",93),l(1),i()),t&2){let e=d().$implicit,o=d(3);a(),f(o.getDiscountLabel(e))}}function _t(t,s){if(t&1&&(n(0,"p"),l(1),i()),t&2){let e=d().$implicit;a(),f(e.vendor.name)}}function ut(t,s){if(t&1&&(n(0,"span",94),l(1),i()),t&2){let e=d().$implicit;a(),P("\u20B9",e.actualPrice)}}function xt(t,s){if(t&1&&(n(0,"div",95),l(1),i()),t&2){let e=d().$implicit;a(),f(e.category.categoryName)}}function vt(t,s){if(t&1){let e=h();n(0,"swiper-slide")(1,"div",78),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigateRestaurant(r.vendor))}),n(2,"div",79),m(3,gt,1,3,"img",80)(4,mt,2,0,"div",81),i(),n(5,"div",82),m(6,ft,2,1,"div",83),n(7,"div",84)(8,"h3"),l(9),i(),m(10,_t,2,1,"p",13),n(11,"div",85)(12,"span",86),l(13),i(),m(14,ut,2,1,"span",87),i()(),n(15,"span",88),l(16,"Tap to order"),i()(),m(17,xt,2,1,"div",89),i()()}if(t&2){let e=s.$implicit;a(3),c("ngIf",e.imageUrl),a(),c("ngIf",!e.imageUrl),a(2),c("ngIf",e.discount),a(3),f(e.productName),a(),c("ngIf",e.vendor),a(3),P("\u20B9",e.price),a(),c("ngIf",e.actualPrice>e.price),a(3),c("ngIf",e.category)}}function ht(t,s){if(t&1&&(n(0,"div",75)(1,"swiper-container",76),m(2,vt,18,8,"swiper-slide",77),i()()),t&2){let e=d(2);a(2),c("ngForOf",e.deals)}}function Ct(t,s){if(t&1&&(n(0,"span",109),l(1),i()),t&2){let e=d().$implicit;a(),f(e.code)}}function Pt(t,s){if(t&1){let e=h();n(0,"div",100),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigateFlashDeal(r))}),n(1,"div",101),p(2,"ion-icon",102),l(3),i(),n(4,"div",103)(5,"div",104),l(6),i(),n(7,"h4",105),l(8),i(),n(9,"p",106),l(10),i(),m(11,Ct,2,1,"span",107),i(),n(12,"div",108),l(13,"Grab now"),i()()}if(t&2){let e=s.$implicit;a(3),P(" ",e.timeLeft," "),a(3),f(e.discountType==="percentage"?e.discountValue+"% OFF":"\u20B9"+e.discountValue+" OFF"),a(2),f(e.title),a(2),f(e.description),a(),c("ngIf",e.code)}}function yt(t,s){if(t&1&&(n(0,"div",96)(1,"div",51)(2,"h2"),p(3,"ion-icon",97),l(4," Flash Deals "),i()(),n(5,"div",98),m(6,Pt,14,5,"div",99),i()()),t&2){let e=d(2);a(6),c("ngForOf",e.flashDeals)}}function Mt(t,s){t&1&&(n(0,"div",110)(1,"div",111)(2,"div",112),p(3,"ion-icon",113),i(),n(4,"div",114)(5,"div",115),l(6,"Your Wallet"),i(),n(7,"div",116),l(8,"Rp699.000"),i()()(),p(9,"div",117),n(10,"div",111)(11,"div",118),p(12,"ion-icon",119),i(),n(13,"div",114)(14,"div",115),l(15,"Your Coins"),i(),n(16,"div",116),l(17,"1.200"),i()()()())}function bt(t,s){if(t&1&&p(0,"img",90),t&2){let e=d().$implicit,o=d(3);c("alt",k(e.productName))("src",o.imgBaseUrl+e.imageUrl,M)}}function Ot(t,s){t&1&&(n(0,"div",138),p(1,"ion-icon",139),i())}function wt(t,s){if(t&1&&(n(0,"div",140),l(1),i()),t&2){let e=d().$implicit;a(),f(e.tag)}}function It(t,s){if(t&1&&(n(0,"span",141),l(1),i()),t&2){let e=d().$implicit;a(),f(e.vendor.name)}}function St(t,s){if(t&1&&(n(0,"span",142),l(1),i()),t&2){let e=d().$implicit;a(),P("\u20B9",e.actualPrice)}}function kt(t,s){if(t&1&&(n(0,"div",143),p(1,"ion-icon",92),n(2,"span"),l(3),i()()),t&2){let e=d().$implicit,o=d(3);a(3),f(o.getDiscountLabel(e))}}function Et(t,s){if(t&1){let e=h();n(0,"div",124),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigatePopularItem(r))}),n(1,"div",125),m(2,bt,1,3,"img",80)(3,Ot,2,0,"div",126)(4,wt,2,1,"div",127),i(),n(5,"div",128)(6,"span",129),l(7),i(),m(8,It,2,1,"span",130),n(9,"div",131)(10,"div",132)(11,"span",133),l(12),i(),m(13,St,2,1,"span",134),i(),n(14,"button",135),u("click",function(r){let g=x(e).$implicit;return d(3).addToCart(g),v(r.stopPropagation())}),p(15,"ion-icon",136),i()(),m(16,kt,4,1,"div",137),i()()}if(t&2){let e=s.$implicit;a(2),c("ngIf",e.imageUrl),a(),c("ngIf",!e.imageUrl),a(),c("ngIf",e.tag&&e.tag!=="none"),a(3),f(e.productName),a(),c("ngIf",e.vendor),a(4),P("\u20B9",e.price),a(),c("ngIf",e.discount&&e.actualPrice>e.price),a(3),c("ngIf",e.discount)}}function Tt(t,s){if(t&1){let e=h();n(0,"div",120)(1,"div",51)(2,"h2"),l(3,"Popular in your area"),i(),n(4,"span",121),u("click",function(){x(e);let r=d(2);return v(r.navigateToPopularItems())}),l(5,"See all"),i()(),n(6,"div",122),m(7,Et,17,8,"div",123),i()()}if(t&2){let e=d(2);a(7),c("ngForOf",e.popularItems)}}function Ft(t,s){if(t&1){let e=h();n(0,"div",144)(1,"div",145)(2,"div",146),p(3,"ion-icon",147),i(),n(4,"div",148)(5,"span",149),l(6,"Best offer for you"),i(),n(7,"span",150),l(8),i(),n(9,"span",151),l(10),i()(),n(11,"div",152)(12,"div",153)(13,"span",154),l(14),i(),n(15,"button",155),u("click",function(){x(e);let r=d(2);return v(r.copyCode(r.bestCoupon.code))}),l(16),i()()()()()}if(t&2){let e=d(2);a(8),f(e.bestCoupon.discountType==="percentage"?e.bestCoupon.discountValue+"% OFF":"\u20B9"+e.bestCoupon.discountValue+" OFF"),a(2),f(e.bestCoupon.title),a(4),f(e.bestCoupon.code),a(2),P(" ",e.couponCopied?"Copied!":"COPY"," ")}}function zt(t,s){if(t&1&&p(0,"img",165),t&2){let e=d().$implicit,o=d(3);c("alt",k(e.name))("src",o.imgBaseUrl+e.imageUrl,M)}}function Bt(t,s){if(t&1&&p(0,"ion-icon",166),t&2){let e=d().$implicit;c("name",e.icon)("ngStyle",w(2,he,e.accentColor))}}function Ht(t,s){if(t&1&&p(0,"ion-icon",167),t&2){let e=d().$implicit;c("ngStyle",w(1,he,e.accentColor))}}function Vt(t,s){if(t&1){let e=h();n(0,"div",159),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigateCuisine(r))}),n(1,"div",160),m(2,zt,1,3,"img",161)(3,Bt,1,4,"ion-icon",162)(4,Ht,1,3,"ion-icon",163),i(),n(5,"span",164),l(6),i()()}if(t&2){let e=s.$implicit;a(),c("ngStyle",w(5,Ze,e.bgColor)),a(),c("ngIf",e.imageUrl),a(),c("ngIf",!e.imageUrl&&e.icon),a(),c("ngIf",!e.imageUrl&&!e.icon),a(2),f(e.name)}}function Lt(t,s){if(t&1&&(n(0,"div",156)(1,"div",51)(2,"h2"),l(3,"What's on your mind?"),i()(),n(4,"div",157),m(5,Vt,7,7,"div",158),i()()),t&2){let e=d(2);a(5),c("ngForOf",e.cuisines)}}function $t(t,s){if(t&1&&p(0,"img",90),t&2){let e=d().$implicit,o=d(3);c("alt",k(e.name))("src",o.imgBaseUrl+e.profileImgUrl,M)}}function Dt(t,s){t&1&&(n(0,"div",138),p(1,"ion-icon",181),i())}function Ut(t,s){if(t&1&&(n(0,"div",182),p(1,"ion-icon",102),n(2,"span"),l(3),i()()),t&2){let e=d().$implicit;a(3),P("~",e.approxDeliveryTime," min")}}function Nt(t,s){if(t&1&&(n(0,"span",183),l(1),i()),t&2){let e=d().$implicit;a(),f(e.address)}}function jt(t,s){if(t&1&&(n(0,"span",186),l(1),i()),t&2){let e=s.$implicit;a(),f(e.categoryName)}}function Rt(t,s){if(t&1&&(n(0,"div",184),m(1,jt,2,1,"span",185),i()),t&2){let e=d().$implicit;a(),c("ngForOf",e.categories.slice(0,3))}}function At(t,s){if(t&1){let e=h();n(0,"div",171),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigateRestaurant(r))}),n(1,"div",172),m(2,$t,1,3,"img",80)(3,Dt,2,0,"div",126),n(4,"div",173),p(5,"ion-icon",174),n(6,"span"),l(7),i()(),m(8,Ut,4,1,"div",175),i(),n(9,"div",176)(10,"div",177)(11,"span",178),l(12),i()(),m(13,Nt,2,1,"span",179)(14,Rt,2,1,"div",180),i()()}if(t&2){let e=s.$implicit;a(2),c("ngIf",e.profileImgUrl),a(),c("ngIf",!e.profileImgUrl),a(4),f(e.rating||"4.5"),a(),c("ngIf",e.approxDeliveryTime),a(4),f(e.name),a(),c("ngIf",e.address),a(),c("ngIf",e.categories==null?null:e.categories.length)}}function qt(t,s){if(t&1){let e=h();n(0,"div",168)(1,"div",51)(2,"h2"),l(3,"Popular near you"),i(),n(4,"span",121),u("click",function(){x(e);let r=d(2);return v(r.navigateToPopularVendors())}),l(5,"See all"),i()(),n(6,"div",169),m(7,At,15,7,"div",170),i()()}if(t&2){let e=d(2);a(7),c("ngForOf",e.popularVendors)}}function Wt(t,s){if(t&1&&p(0,"img",90),t&2){let e=d().$implicit,o=d(3);c("alt",k(e.name))("src",o.imgBaseUrl+e.profileImgUrl,M)}}function Gt(t,s){t&1&&(n(0,"div",138),p(1,"ion-icon",181),i())}function Yt(t,s){if(t&1&&(n(0,"span",183),l(1),i()),t&2){let e=d().$implicit;a(),f(e.address)}}function Qt(t,s){if(t&1&&(n(0,"span",186),l(1),i()),t&2){let e=s.$implicit;a(),f(e.categoryName)}}function Jt(t,s){if(t&1&&(n(0,"div",184),m(1,Qt,2,1,"span",185),i()),t&2){let e=d().$implicit;a(),c("ngForOf",e.categories.slice(0,3))}}function Kt(t,s){if(t&1&&(n(0,"span",192),l(1),i()),t&2){let e=d().$implicit;a(),P("",e.distance," km away")}}function Xt(t,s){if(t&1){let e=h();n(0,"div",189),u("click",function(){let r=x(e).$implicit,g=d(3);return v(g.navigateRestaurant(r))}),n(1,"div",172),m(2,Wt,1,3,"img",80)(3,Gt,2,0,"div",126),n(4,"div",190),p(5,"ion-icon",174),n(6,"span"),l(7),i()()(),n(8,"div",176)(9,"div",177)(10,"span",178),l(11),i()(),m(12,Yt,2,1,"span",179)(13,Jt,2,1,"div",180)(14,Kt,2,1,"span",191),i()()}if(t&2){let e=s.$implicit;a(2),c("ngIf",e.profileImgUrl),a(),c("ngIf",!e.profileImgUrl),a(4),f(e.rating||"4.5"),a(4),f(e.name),a(),c("ngIf",e.address),a(),c("ngIf",e.categories==null?null:e.categories.length),a(),c("ngIf",e.distance)}}function Zt(t,s){if(t&1&&(n(0,"div",187)(1,"div",51)(2,"h2"),l(3,"Top rated near you"),i()(),n(4,"div",169),m(5,Xt,15,7,"div",188),i()()),t&2){let e=d(2);a(5),c("ngForOf",e.topRatedVendors)}}function en(t,s){t&1&&(n(0,"div",193)(1,"div",51)(2,"h2"),l(3,"MoMo Buddy Services"),i()(),n(4,"div",194)(5,"div",195)(6,"div",196),p(7,"img",197),i(),n(8,"div",198)(9,"span",199),l(10,"Send/Receive Items"),i(),n(11,"span",200),l(12,"Quick delivery to anyone"),i()(),p(13,"ion-icon",201),i(),n(14,"div",195)(15,"div",196),p(16,"img",202),i(),n(17,"div",198)(18,"span",199),l(19,"Your needs"),i(),n(20,"span",200),l(21,"Tell us what you need"),i()(),p(22,"ion-icon",201),i(),n(23,"div",195)(24,"div",196),p(25,"img",203),i(),n(26,"div",198)(27,"span",199),l(28,"Buddy for you"),i(),n(29,"span",200),l(30,"Personal assistant service"),i()(),p(31,"ion-icon",201),i()()())}function tn(t,s){if(t&1){let e=h();n(0,"div"),m(1,pt,8,1,"div",41)(2,ht,3,1,"div",42)(3,yt,7,1,"div",43)(4,Mt,18,0,"div",44)(5,Tt,8,1,"div",45)(6,Ft,17,4,"div",46)(7,Lt,6,1,"div",47)(8,qt,8,1,"div",48)(9,Zt,6,1,"div",49),n(10,"div",50)(11,"div",51)(12,"h2"),l(13,"Essentials at your doorstep"),i()(),n(14,"div",52)(15,"div",53),u("click",function(){x(e);let r=d();return v(r.navigateEssential("groceries"))}),n(16,"div",54)(17,"div",55),p(18,"ion-icon",56),i(),n(19,"h3"),l(20,"Groceries"),i(),n(21,"p"),l(22,"Fresh fruits, veggies & daily essentials"),i(),n(23,"button",57),l(24,"Shop now"),i()()(),n(25,"div",58),u("click",function(){x(e);let r=d();return v(r.navigateEssential("medicine"))}),n(26,"div",54)(27,"div",55),p(28,"ion-icon",59),i(),n(29,"h3"),l(30,"Medicines"),i(),n(31,"p"),l(32,"Get it in 20 mins. Upload prescription"),i(),n(33,"button",57),l(34,"Order now"),i()()()()(),m(35,en,32,0,"div",60),i()}if(t&2){let e=d();a(),c("ngIf",e.categories.length),a(),c("ngIf",e.deals.length),a(),c("ngIf",e.flashDeals.length),a(),c("ngIf",e.showWallet),a(),c("ngIf",e.popularItems.length),a(),c("ngIf",e.bestCoupon),a(),c("ngIf",e.cuisines.length),a(),c("ngIf",e.popularVendors.length),a(),c("ngIf",e.topRatedVendors.length),a(26),c("ngIf",e.showBuddy)}}function nn(t,s){if(t&1){let e=h();n(0,"div",204),u("click",function(){x(e);let r=d();return v(r.navigateToCart())}),n(1,"div",205),p(2,"ion-icon",206),n(3,"span",207),l(4),i(),n(5,"span",208),l(6,"|"),i(),n(7,"span",209),l(8),i()(),n(9,"div",210)(10,"span"),l(11,"View Cart"),i(),p(12,"ion-icon",211),i()()}if(t&2){let e=d();a(4),H("",e.cartItemCount," item",e.cartItemCount>1?"s":""),a(4),P("\u20B9",e.cartTotal.toFixed(2))}}xe();var Ce=(()=>{class t{constructor(e,o,r,g,_,I,y,S){this.router=e,this.modalCtrl=o,this.storageService=r,this.homeService=g,this.commonService=_,this.navController=I,this.eventBus=y,this.cdr=S,this.categories=[],this.imgBaseUrl=G.imageBaseUrl,this.todayDate=new Date,this.greeting="",this.userName="",this.deals=[],this.popularItems=[],this.cuisines=[],this.popularVendors=[],this.topRatedVendors=[],this.flashDeals=[],this.bestCoupon=null,this.couponCopied=!1,this.isLoading=!0,this.cartItems=[],this.cartTotal=0,this.cartItemCount=0,this.showWallet=!1,this.showBuddy=!0}ngOnInit(){this.setGreeting(),this.eventSubscription=this.eventBus.on("address-updated").subscribe(e=>{this.ionViewWillEnter()}),this.cartSubscription=this.eventBus.on("cart:updated").subscribe(()=>{this.loadCart(),this.cdr.detectChanges()})}ionViewWillEnter(){if(this.setGreeting(),this.loadCart(),!this.storageService.getToken()){this.router.navigate(["/login"],{replaceUrl:!0});return}let o=this.storageService.getUser();o?._id?o.addresses&&o.addresses.length?(this.userName=o.name||o.fullName||"",this.getDefaultAddressByUserId(o._id)):this.router.navigate(["/shared/location-setup"],{replaceUrl:!0}):this.router.navigate(["/login"],{replaceUrl:!0})}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.cartSubscription&&this.cartSubscription.unsubscribe(),this.flashTimerInterval&&clearInterval(this.flashTimerInterval)}setGreeting(){let e=new Date().getHours();e<12?this.greeting="Good morning":e<17?this.greeting="Good afternoon":this.greeting="Good evening"}loadCart(){let e=this.storageService.getItem("cart-items");e&&e.length>0?(this.cartItems=e,this.cartItemCount=e.reduce((o,r)=>o+(r.itemCount||r.quantity||1),0),this.cartTotal=e.reduce((o,r)=>o+(r.price||0)*(r.itemCount||r.quantity||1),0)):(this.cartItems=[],this.cartItemCount=0,this.cartTotal=0)}navigateToCart(){this.router.navigate(["/tabs/cart"])}navigateService(e){this.router.navigate(["/home-land"],{queryParams:{title:e.categoryName,localityId:this.defaultAddress?.locality?._id,categoryId:e._id}})}navigateCuisine(e){this.router.navigate(["/search"],{queryParams:{localityId:this.defaultAddress?.locality?._id||"",q:e.name}})}navigateRestaurant(e){this.router.navigate(["/items"],{queryParams:{vendorId:e._id||""}})}navigatePopularItem(e){e.vendor?._id&&this.router.navigate(["/items"],{queryParams:{vendorId:e.vendor._id}})}navigateToPopularItems(){this.router.navigate(["/popular-items"],{queryParams:{localityId:this.defaultAddress?.locality?._id||""}})}navigateToPopularVendors(){this.router.navigate(["/popular-vendors"],{queryParams:{localityId:this.defaultAddress?.locality?._id||""}})}navigateEssential(e){let r={groceries:"Groceries",medicine:"Medicine"}[e]||e,g=this.categories.find(_=>_.categoryName?.toLowerCase()===r.toLowerCase());this.router.navigate(["/home-land"],{queryParams:{title:r,localityId:this.defaultAddress?.locality?._id,categoryId:g?._id||""}})}addToCart(e){let o=this.storageService.getItem("cart-items")||[],r=e.vendor||{},g=e.vendorId||r._id||"unknown",_=o.find(y=>y._id===e._id&&(y.vendorId||"unknown")===g&&!y.cartItemId);_?_.itemCount=(_.itemCount||_.quantity||1)+1:o.push({_id:e._id,productName:e.productName||e.name||"",price:e.price||0,basePrice:e.actualPrice||e.basePrice||void 0,itemCount:1,imageUrl:e.imageUrl||"",type:e.type||"",vendorId:g,vendorName:e.vendorName||r.businessName||r.name||"",vendorImage:e.vendorImage||r.imageUrl||"",vendorCuisine:e.vendorCuisine||r.cuisineType||""}),this.storageService.setItem("cart-items",o);let I=o.reduce((y,S)=>y+(S.itemCount||S.quantity||1),0);this.eventBus.emit("cart:updated",I),this.loadCart(),this.commonService.presentToast("bottom",`${e.productName||e.name||"Item"} added to cart`,"success")}getDiscountLabel(e){return e.discount?e.discountType==="in-percentage"?`${e.discount}% OFF`:e.discountType==="in-price"?`\u20B9${e.discount} OFF`:"":""}getRatingStars(e){return Array(Math.floor(e)).fill(0)}getDefaultAddressByUserId(e){this.homeService.getDefaultAddressByUserId(e).subscribe({next:o=>{o.status&&(o.data?(this.defaultAddress=o.data,this.defaultAddress.coords?this.homeService.checkServiceArea(this.defaultAddress.coords).subscribe({next:r=>{r.status&&r.data&&!r.data.serviceAvailable?this.router.navigate(["/service-not-available"]):this.loadDashboard()},error:()=>{this.loadDashboard()}}):this.loadDashboard()):this.defaultAddress=null),this.cdr.detectChanges()},error:o=>{this.cdr.detectChanges()},complete:()=>{}})}loadDashboard(){if(!this.defaultAddress?.locality?._id){this.isLoading=!1,this.cdr.detectChanges();return}this.isLoading=!0;let e=this.defaultAddress.locality._id;this.homeService.getDashboard(e).subscribe({next:o=>{o.status&&o.data?(this.categories=o.data.categories||[],this.deals=o.data.deals||[],this.popularItems=o.data.popularItems||[],this.cuisines=o.data.cuisines||[],this.popularVendors=o.data.popularVendors||[],this.topRatedVendors=o.data.topRatedVendors||[],this.flashDeals=(o.data.flashDeals||[]).map(r=>Z(X({},r),{timeLeft:this.calcTimeLeft(r.endDate)})),this.bestCoupon=o.data.bestCoupon||null,this.enrichVendors(this.popularVendors),this.enrichVendors(this.topRatedVendors),this.startFlashTimer()):this.resetDashboard(),this.isLoading=!1,this.cdr.detectChanges()},error:o=>{this.resetDashboard(),this.isLoading=!1,this.cdr.detectChanges()}})}getImageSource(e){switch(e){case"Home":return"assets/home.png";case"officeWork":return"assets/office.png";case"others":return"assets/others.png";default:return"assets/default.png"}}navigateToSearch(){this.router.navigate(["/search"],{queryParams:{localityId:this.defaultAddress?.locality?._id||""}})}goToHome(e){this.router.navigate(["/home"],{queryParams:{category:e}})}exploreCategories(){return te(this,null,function*(){let e=yield this.modalCtrl.create({component:K,componentProps:{categories:this.categories,localityId:this.defaultAddress?.locality?._id||"",deals:this.deals,bestCoupon:this.bestCoupon}});e.present();let{data:o,role:r}=yield e.onWillDismiss();r==="navigate"&&o&&this.navigateService(o)})}resetDashboard(){this.categories=[],this.deals=[],this.popularItems=[],this.cuisines=[],this.popularVendors=[],this.topRatedVendors=[],this.flashDeals=[],this.bestCoupon=null}enrichVendors(e){if(!this.defaultAddress?.coords)return;let o=this.defaultAddress.coords.lat,r=this.defaultAddress.coords.lng;e.forEach(g=>{g.latitude&&g.longitude&&(g.distance=this.commonService.calculateDistance(o,r,g.latitude,g.longitude),g.approxDeliveryTime=Math.ceil(parseFloat(g.distance))*3+15)})}calcTimeLeft(e){let o=new Date(e).getTime()-Date.now();if(o<=0)return"Expired";let r=Math.floor(o/(1e3*60*60)),g=Math.floor(o%(1e3*60*60)/(1e3*60));return r>0?`${r}h ${g}m left`:`${g}m left`}startFlashTimer(){this.flashTimerInterval&&clearInterval(this.flashTimerInterval),this.flashDeals.length&&(this.flashTimerInterval=setInterval(()=>{this.flashDeals=this.flashDeals.map(e=>Z(X({},e),{timeLeft:this.calcTimeLeft(e.endDate)})).filter(e=>e.timeLeft!=="Expired"),this.cdr.detectChanges()},6e4))}copyCode(e){navigator.clipboard.writeText(e).then(()=>{this.couponCopied=!0,this.commonService.presentToast("bottom",`Code ${e} copied!`,"success"),setTimeout(()=>{this.couponCopied=!1,this.cdr.detectChanges()},2e3)})}navigateFlashDeal(e){e.vendor?._id&&this.router.navigate(["/items"],{queryParams:{vendorId:e.vendor._id}})}static{this.\u0275fac=function(o){return new(o||t)(C(re),C(q),C(F),C(J),C(Y),C(ge),C(Q),C(oe))}}static{this.\u0275cmp=B({type:t,selectors:[["app-home-main"]],standalone:!1,decls:21,vars:9,consts:[[1,"ion-no-border"],["class","greeting-row",4,"ngIf"],[1,"header-top"],[1,"address-section",3,"routerLink"],[1,"address-label"],["class","address-value",4,"ngIf"],[1,"header-icons"],["name","heart-outline"],["name","notifications-outline"],[1,"search-container",3,"click"],[1,"search-bar"],["name","search-outline"],["class","skeleton-wrapper",4,"ngIf"],[4,"ngIf"],["class","cart-bar",3,"click",4,"ngIf"],[1,"greeting-row"],[1,"greeting-text"],[1,"address-value"],[1,"elipsis"],["name","chevron-down"],[1,"skeleton-wrapper"],[1,"service-pillars-section"],[1,"service-pillars-scroll"],["class","service-pillar",4,"ngFor","ngForOf"],[2,"padding","16px"],[2,"width","100%","height","160px","border-radius","16px",3,"animated"],[2,"width","180px","height","22px","border-radius","6px","margin-bottom","14px",3,"animated"],[2,"display","flex","gap","12px","overflow","hidden"],["style","min-width: 148px;",4,"ngFor","ngForOf"],[2,"display","grid","grid-template-columns","repeat(4, 1fr)","gap","16px 12px"],["style","display: flex; flex-direction: column; align-items: center; gap: 8px;",4,"ngFor","ngForOf"],[1,"service-pillar"],[2,"width","64px","height","64px","border-radius","18px",3,"animated"],[2,"width","50px","height","12px","border-radius","6px",3,"animated"],[2,"min-width","148px"],[2,"width","148px","height","100px","border-radius","14px 14px 0 0",3,"animated"],[2,"width","120px","height","14px","border-radius","6px","margin-top","10px",3,"animated"],[2,"width","80px","height","12px","border-radius","6px","margin-top","4px",3,"animated"],[2,"display","flex","flex-direction","column","align-items","center","gap","8px"],[2,"width","60px","height","60px","border-radius","50%",3,"animated"],[2,"width","44px","height","12px","border-radius","6px",3,"animated"],["class","service-pillars-section anim-section","style","animation-delay: 0s;",4,"ngIf"],["class","banner-carousel anim-section","style","animation-delay: 0.1s;",4,"ngIf"],["class","flash-deals-section anim-section","style","animation-delay: 0.15s;",4,"ngIf"],["class","wallet-section",4,"ngIf"],["class","order-again-section anim-section","style","animation-delay: 0.2s;",4,"ngIf"],["class","coupon-banner anim-section","style","animation-delay: 0.25s;",4,"ngIf"],["class","cuisine-section anim-section","style","animation-delay: 0.3s;",4,"ngIf"],["class","popular-restaurants-section anim-section","style","animation-delay: 0.35s;",4,"ngIf"],["class","popular-restaurants-section anim-section","style","animation-delay: 0.4s;",4,"ngIf"],[1,"essentials-section","anim-section",2,"animation-delay","0.45s"],[1,"section-header"],[1,"essentials-grid"],[1,"essential-card","essential-groceries",3,"click"],[1,"essential-content"],[1,"essential-icon-wrap"],["name","cart-outline"],[1,"essential-btn"],[1,"essential-card","essential-medicine",3,"click"],["name","medkit-outline"],["class","buddy-section",4,"ngIf"],[1,"service-pillars-section","anim-section",2,"animation-delay","0s"],[1,"pillars-header"],[1,"pillars-title"],[1,"see-all-link",3,"click"],["class","service-pillar pulse-once",3,"animation-delay","click",4,"ngFor","ngForOf"],[1,"service-pillar","pulse-once",3,"click"],[1,"pillar-icon-wrap",3,"ngStyle"],["class","pillar-img",3,"src","alt",4,"ngIf"],["name","storefront-outline","style","color: #F85C70;",4,"ngIf"],[1,"pillar-name"],["class","pillar-time","style","color: #F85C70;",4,"ngIf"],[1,"pillar-img",3,"src","alt"],["name","storefront-outline",2,"color","#F85C70"],[1,"pillar-time",2,"color","#F85C70"],[1,"banner-carousel","anim-section",2,"animation-delay","0.1s"],["slides-per-view","1.3","space-between","12","pagination","true","autoplay-delay","3000","loop","true"],[4,"ngFor","ngForOf"],[1,"deal-card",3,"click"],[1,"deal-img-wrap"],[3,"src","alt",4,"ngIf"],["class","deal-img-placeholder",4,"ngIf"],[1,"deal-overlay"],["class","deal-discount-badge",4,"ngIf"],[1,"deal-text"],[1,"deal-price-row"],[1,"deal-price"],["class","deal-actual-price",4,"ngIf"],[1,"deal-cta"],["class","deal-category-tag",4,"ngIf"],[3,"src","alt"],[1,"deal-img-placeholder"],["name","pricetag-outline"],[1,"deal-discount-badge"],[1,"deal-actual-price"],[1,"deal-category-tag"],[1,"flash-deals-section","anim-section",2,"animation-delay","0.15s"],["name","flash",1,"flash-icon"],[1,"flash-deals-scroll"],["class","flash-deal-card",3,"click",4,"ngFor","ngForOf"],[1,"flash-deal-card",3,"click"],[1,"flash-timer-chip"],["name","time-outline"],[1,"flash-deal-content"],[1,"flash-discount"],[1,"flash-title"],[1,"flash-desc"],["class","flash-code",4,"ngIf"],[1,"flash-cta"],[1,"flash-code"],[1,"wallet-section"],[1,"wallet-item"],[1,"wallet-icon","wallet-bg"],["name","wallet-outline"],[1,"wallet-info"],[1,"wallet-title"],[1,"wallet-value"],[1,"wallet-divider"],[1,"wallet-icon","coins-bg"],["name","disc-outline"],[1,"order-again-section","anim-section",2,"animation-delay","0.2s"],[1,"see-all",3,"click"],[1,"order-again-scroll"],["class","order-again-card",3,"click",4,"ngFor","ngForOf"],[1,"order-again-card",3,"click"],[1,"order-again-img"],["class","img-placeholder",4,"ngIf"],["class","item-tag",4,"ngIf"],[1,"order-again-info"],[1,"order-item-name"],["class","order-item-vendor",4,"ngIf"],[1,"order-item-bottom"],[1,"price-group"],[1,"order-item-price"],["class","order-item-original-price",4,"ngIf"],[1,"add-btn",3,"click"],["name","add-outline"],["class","order-item-discount-tag",4,"ngIf"],[1,"img-placeholder"],["name","restaurant-outline"],[1,"item-tag"],[1,"order-item-vendor"],[1,"order-item-original-price"],[1,"order-item-discount-tag"],[1,"coupon-banner","anim-section",2,"animation-delay","0.25s"],[1,"coupon-inner"],[1,"coupon-left"],["name","pricetag",1,"coupon-icon"],[1,"coupon-center"],[1,"coupon-label"],[1,"coupon-value"],[1,"coupon-desc"],[1,"coupon-right"],[1,"coupon-code-box"],[1,"coupon-code"],[1,"copy-btn",3,"click"],[1,"cuisine-section","anim-section",2,"animation-delay","0.3s"],[1,"cuisine-grid"],["class","cuisine-item",3,"click",4,"ngFor","ngForOf"],[1,"cuisine-item",3,"click"],[1,"cuisine-circle",3,"ngStyle"],["class","cuisine-img",3,"src","alt",4,"ngIf"],[3,"name","ngStyle",4,"ngIf"],["name","restaurant-outline",3,"ngStyle",4,"ngIf"],[1,"cuisine-label"],[1,"cuisine-img",3,"src","alt"],[3,"name","ngStyle"],["name","restaurant-outline",3,"ngStyle"],[1,"popular-restaurants-section","anim-section",2,"animation-delay","0.35s"],[1,"popular-scroll"],["class","restaurant-card",3,"click",4,"ngFor","ngForOf"],[1,"restaurant-card",3,"click"],[1,"restaurant-cover"],[1,"vendor-rating-badge"],["name","star"],["class","vendor-delivery-pill",4,"ngIf"],[1,"restaurant-info"],[1,"restaurant-name-row"],[1,"restaurant-name"],["class","restaurant-meta",4,"ngIf"],["class","restaurant-categories",4,"ngIf"],["name","storefront-outline"],[1,"vendor-delivery-pill"],[1,"restaurant-meta"],[1,"restaurant-categories"],["class","category-chip",4,"ngFor","ngForOf"],[1,"category-chip"],[1,"popular-restaurants-section","anim-section",2,"animation-delay","0.4s"],["class","restaurant-card top-rated-card",3,"click",4,"ngFor","ngForOf"],[1,"restaurant-card","top-rated-card",3,"click"],[1,"top-rating-badge"],["class","vendor-distance-meta",4,"ngIf"],[1,"vendor-distance-meta"],[1,"buddy-section"],[1,"buddy-cards"],[1,"buddy-card"],[1,"buddy-card-icon"],["src","assets/send-items.png"],[1,"buddy-card-info"],[1,"buddy-card-title"],[1,"buddy-card-desc"],["name","chevron-forward-outline",1,"buddy-card-arrow"],["src","assets/your-needs.png"],["src","assets/buddy.png"],[1,"cart-bar",3,"click"],[1,"cart-bar-left"],["name","cart"],[1,"cart-bar-count"],[1,"cart-bar-separator"],[1,"cart-bar-total"],[1,"cart-bar-right"],["name","arrow-forward"]],template:function(o,r){o&1&&(n(0,"ion-header",0)(1,"ion-toolbar"),m(2,tt,5,2,"div",1),n(3,"div",2)(4,"div",3)(5,"span",4),l(6,"Your current address"),i(),m(7,nt,4,1,"div",5),i(),n(8,"div",6),p(9,"ion-icon",7)(10,"ion-icon",8),i()(),n(11,"div",9),u("click",function(){return r.navigateToSearch()}),n(12,"div",10),p(13,"ion-icon",11),n(14,"span"),l(15,"Search food, groceries, medicines..."),i()()()()(),n(16,"ion-content"),m(17,rt,14,9,"div",12)(18,tn,36,10,"div",13),p(19,"div"),i(),m(20,nn,13,3,"div",14)),o&2&&(a(2),c("ngIf",r.greeting),a(2),c("routerLink",E(8,Ye)),a(3),c("ngIf",r.defaultAddress),a(10),c("ngIf",r.isLoading),a(),c("ngIf",!r.isLoading),a(),ee("height",r.cartItems.length?90:20,"px"),a(),c("ngIf",r.cartItems.length))},dependencies:[V,L,$,N,j,R,fe,A,_e,ce],styles:["ion-toolbar[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--min-height: auto;padding:calc(var(--ion-safe-area-top, 20px) + 12px) 16px 16px}.greeting-row[_ngcontent-%COMP%]{margin-bottom:6px}.greeting-row[_ngcontent-%COMP%]   .greeting-text[_ngcontent-%COMP%]{font-family:latoBold;font-size:20px;color:#fff;letter-spacing:.3px}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px}.address-section[_ngcontent-%COMP%]{flex:1;cursor:pointer}.address-section[_ngcontent-%COMP%]   .address-label[_ngcontent-%COMP%]{font-size:12px;color:#ffffffbf;font-family:latoRegular;display:block;margin-bottom:2px}.address-section[_ngcontent-%COMP%]   .address-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#fff;font-family:latoBold;font-size:15px}.address-section[_ngcontent-%COMP%]   .address-value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:240px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.address-section[_ngcontent-%COMP%]   .address-value[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#fff;min-width:16px}.header-icons[_ngcontent-%COMP%]{display:flex;gap:18px;padding-top:4px}.header-icons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{background:#fff;border-radius:25px;padding:11px 18px;display:flex;align-items:center;gap:10px;transition:box-shadow .2s ease}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#aaa;font-size:20px;min-width:20px}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#aaa;font-size:14px;font-family:latoRegular}.search-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]:active{box-shadow:0 0 0 3px #f85c7026}ion-content[_ngcontent-%COMP%]{--background: #f5f5f5}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.anim-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideUp .4s ease forwards;opacity:0}@keyframes _ngcontent-%COMP%_pulseOnce{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.pulse-once[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseOnce .6s ease forwards}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:latoBold;font-size:20px;color:#1a1a1a;margin:0;display:flex;align-items:center;gap:6px}.section-header[_ngcontent-%COMP%]   .see-all[_ngcontent-%COMP%]{color:#f85c70;font-family:latoBold;font-size:14px;cursor:pointer}.service-pillars-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.pillars-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.pillars-header[_ngcontent-%COMP%]   .pillars-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:17px;color:#1a1a1a}.pillars-header[_ngcontent-%COMP%]   .see-all-link[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#f85c70;cursor:pointer}.service-pillars-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:14px;padding-bottom:4px}.service-pillars-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.service-pillar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;min-width:76px;cursor:pointer;transition:transform .2s ease}.service-pillar[_ngcontent-%COMP%]:active{transform:scale(.95)}.pillar-icon-wrap[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:18px;display:flex;align-items:center;justify-content:center;box-shadow:0 3px 12px #00000014;overflow:hidden;transition:box-shadow .2s ease}.pillar-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.pillar-icon-wrap[_ngcontent-%COMP%]   .pillar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pillar-name[_ngcontent-%COMP%]{font-size:13px;color:#1a1a1a;font-family:latoBold;text-align:center;white-space:nowrap}.pillar-time[_ngcontent-%COMP%]{font-size:11px;font-family:latoRegular;text-align:center}.banner-carousel[_ngcontent-%COMP%]{padding:16px 16px 6px}.banner-carousel[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]{--swiper-pagination-color: #F85C70;--swiper-pagination-bullet-inactive-color: #ccc;--swiper-pagination-bullet-size: 8px;--swiper-pagination-bottom: 6px;padding-bottom:28px}.banner-carousel[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{height:auto}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]{border-radius:16px;height:160px;width:100%;position:relative;overflow:hidden;display:flex;box-sizing:border-box;background:#f0f0f0;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]:active{transform:scale(.97)}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-img-wrap[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-img-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f85c70,#fc8c5c)}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-img-placeholder[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;color:#ffffff80}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-overlay[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:14px 16px;background:linear-gradient(to top,rgba(0,0,0,.7) 0%,rgba(0,0,0,.1) 60%,transparent 100%)}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-discount-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:#f85c70;color:#fff;font-family:latoBold;font-size:12px;padding:4px 10px;border-radius:20px;letter-spacing:.3px}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-category-tag[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:#ffffffeb;color:#1a1a1a;font-family:latoBold;font-size:11px;padding:4px 10px;border-radius:20px;z-index:2;letter-spacing:.3px}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-family:latoBold;font-size:16px;margin:0;line-height:1.2;text-shadow:0 1px 4px rgba(0,0,0,.3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:12px;font-family:latoRegular;margin:2px 0 0;text-shadow:0 1px 3px rgba(0,0,0,.3)}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-price-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:4px}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-price-row[_ngcontent-%COMP%]   .deal-price[_ngcontent-%COMP%]{color:#fff;font-family:latoBold;font-size:16px;text-shadow:0 1px 3px rgba(0,0,0,.3)}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-price-row[_ngcontent-%COMP%]   .deal-actual-price[_ngcontent-%COMP%]{color:#ffffffb3;font-family:latoRegular;font-size:13px;text-decoration:line-through}.banner-carousel[_ngcontent-%COMP%]   .deal-card[_ngcontent-%COMP%]   .deal-cta[_ngcontent-%COMP%]{color:#ffffffb3;font-family:latoRegular;font-size:11px;margin-top:4px}.flash-deals-section[_ngcontent-%COMP%]{padding:16px 16px 8px}.flash-deals-section[_ngcontent-%COMP%]   .flash-icon[_ngcontent-%COMP%]{color:#ff8c42;font-size:22px}.flash-deals-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding-bottom:4px}.flash-deals-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.flash-deal-card[_ngcontent-%COMP%]{flex-shrink:0;min-width:220px;max-width:220px;border-radius:16px;overflow:hidden;background:linear-gradient(135deg,#ff6b6b,#ff8c42);color:#fff;padding:14px 16px;position:relative;cursor:pointer;transition:transform .2s ease}.flash-deal-card[_ngcontent-%COMP%]:active{transform:scale(.97)}.flash-timer-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background:#0003;padding:3px 10px;border-radius:20px;font-family:latoBold;font-size:11px;margin-bottom:8px;animation:_ngcontent-%COMP%_pulse-glow 2s infinite}.flash-timer-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{opacity:1}50%{opacity:.7}}.flash-deal-content[_ngcontent-%COMP%]   .flash-discount[_ngcontent-%COMP%]{font-family:latoBold;font-size:22px;margin-bottom:2px}.flash-deal-content[_ngcontent-%COMP%]   .flash-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;margin:0 0 2px;opacity:.95}.flash-deal-content[_ngcontent-%COMP%]   .flash-desc[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;opacity:.85;margin:0 0 6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.flash-deal-content[_ngcontent-%COMP%]   .flash-code[_ngcontent-%COMP%]{display:inline-block;background:#fff3;border:1px dashed rgba(255,255,255,.5);padding:2px 10px;border-radius:6px;font-family:latoBold;font-size:11px;letter-spacing:1px}.flash-cta[_ngcontent-%COMP%]{margin-top:8px;font-family:latoBold;font-size:12px;background:#ffffff40;display:inline-block;padding:4px 14px;border-radius:20px}.coupon-banner[_ngcontent-%COMP%]{padding:0 16px;margin-bottom:8px}.coupon-inner[_ngcontent-%COMP%]{display:flex;align-items:center;background:linear-gradient(135deg,#fff7e6,#fff0d6);border:2px dashed #FFD180;border-radius:14px;padding:14px 16px;gap:12px}.coupon-left[_ngcontent-%COMP%]   .coupon-icon[_ngcontent-%COMP%]{font-size:28px;color:#ff8c42}.coupon-center[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.coupon-center[_ngcontent-%COMP%]   .coupon-label[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#999;text-transform:uppercase;letter-spacing:.5px}.coupon-center[_ngcontent-%COMP%]   .coupon-value[_ngcontent-%COMP%]{font-family:latoBold;font-size:18px;color:#ff8c42;line-height:1.2}.coupon-center[_ngcontent-%COMP%]   .coupon-desc[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.coupon-right[_ngcontent-%COMP%]{flex-shrink:0}.coupon-code-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px}.coupon-code-box[_ngcontent-%COMP%]   .coupon-code[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#ff8c42;letter-spacing:1px;background:#ff8c421a;padding:3px 10px;border-radius:6px;border:1px dashed #FFB366}.coupon-code-box[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]{background:#ff8c42;color:#fff;border:none;border-radius:16px;padding:4px 16px;font-family:latoBold;font-size:11px;cursor:pointer;letter-spacing:.5px;transition:transform .15s ease}.coupon-code-box[_ngcontent-%COMP%]   .copy-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.wallet-section[_ngcontent-%COMP%]{margin:6px 16px 0;background:#fff;border-radius:14px;display:flex;align-items:center;padding:14px 16px;box-shadow:0 2px 10px #0000000f}.wallet-item[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:10px}.wallet-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.wallet-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.wallet-icon.wallet-bg[_ngcontent-%COMP%]{background:#f85c701f}.wallet-icon.wallet-bg[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#f85c70}.wallet-icon.coins-bg[_ngcontent-%COMP%]{background:#ff8c421f}.wallet-icon.coins-bg[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#ff8c42}.wallet-info[_ngcontent-%COMP%]   .wallet-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a}.wallet-info[_ngcontent-%COMP%]   .wallet-value[_ngcontent-%COMP%]{font-size:13px;color:#999;font-family:latoRegular;margin-top:1px}.wallet-divider[_ngcontent-%COMP%]{width:1px;height:36px;background:#e8e8e8;margin:0 14px;flex-shrink:0}.order-again-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.order-again-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding-bottom:4px}.order-again-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.order-again-card[_ngcontent-%COMP%]{min-width:148px;max-width:148px;background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 2px 10px #00000012;flex-shrink:0;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.order-again-card[_ngcontent-%COMP%]:active{transform:scale(.97)}.order-again-img[_ngcontent-%COMP%]{width:100%;height:100px;overflow:hidden;background:#f0f0f0;position:relative}.order-again-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.order-again-img[_ngcontent-%COMP%]   .item-tag[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;background:#f85c70;color:#fff;font-family:latoBold;font-size:10px;padding:2px 8px;border-radius:12px;letter-spacing:.3px}.img-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#f0f0f0}.img-placeholder[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:#ccc}.order-again-info[_ngcontent-%COMP%]{padding:10px 12px 12px;display:flex;flex-direction:column;gap:2px}.order-item-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.order-item-vendor[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#999}.order-item-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:6px}.price-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.order-item-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a}.order-item-original-price[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#bbb;text-decoration:line-through}.order-item-discount-tag[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;margin-top:4px}.order-item-discount-tag[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:11px;color:#f85c70}.order-item-discount-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold;font-size:11px;color:#f85c70}.add-btn[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:2px solid #2ecc71;background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.add-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#2ecc71}.add-btn[_ngcontent-%COMP%]:active{background:#2ecc71}.add-btn[_ngcontent-%COMP%]:active   ion-icon[_ngcontent-%COMP%]{color:#fff}.cuisine-section[_ngcontent-%COMP%]{padding:16px 16px 8px}.cuisine-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px 12px}.cuisine-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:transform .2s ease}.cuisine-item[_ngcontent-%COMP%]:active{transform:scale(.93)}.cuisine-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000000f;overflow:hidden}.cuisine-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:26px}.cuisine-circle[_ngcontent-%COMP%]   .cuisine-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.cuisine-label[_ngcontent-%COMP%]{font-size:12px;color:#555;font-family:latoBold;text-align:center}.popular-restaurants-section[_ngcontent-%COMP%]{padding:16px 16px 8px}.popular-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:14px;padding-bottom:4px}.popular-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.restaurant-card[_ngcontent-%COMP%]{min-width:260px;max-width:260px;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px #00000014;flex-shrink:0;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.restaurant-card[_ngcontent-%COMP%]:active{transform:scale(.97)}.restaurant-cover[_ngcontent-%COMP%]{width:100%;height:130px;overflow:hidden;position:relative;background:#f0f0f0}.restaurant-cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.restaurant-cover[_ngcontent-%COMP%]   .promo-tag[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;background:#2ecc71;color:#fff;font-family:latoBold;font-size:11px;padding:4px 10px;border-radius:20px;letter-spacing:.3px}.restaurant-cover[_ngcontent-%COMP%]   .vendor-rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#2ecc71;color:#fff;border-radius:8px;padding:3px 8px;display:flex;align-items:center;gap:3px;font-family:latoBold;font-size:12px}.restaurant-cover[_ngcontent-%COMP%]   .vendor-rating-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:11px}.restaurant-cover[_ngcontent-%COMP%]   .vendor-delivery-pill[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;background:#000000a6;color:#fff;border-radius:20px;padding:3px 10px;display:flex;align-items:center;gap:3px;font-family:latoBold;font-size:11px}.restaurant-cover[_ngcontent-%COMP%]   .vendor-delivery-pill[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.restaurant-cover[_ngcontent-%COMP%]   .top-rating-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:linear-gradient(135deg,gold,orange);color:#fff;border-radius:10px;padding:4px 10px;display:flex;align-items:center;gap:4px;font-family:latoBold;font-size:13px;box-shadow:0 2px 8px #ffa50066}.restaurant-cover[_ngcontent-%COMP%]   .top-rating-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:12px}.restaurant-info[_ngcontent-%COMP%]{padding:12px 14px 14px}.restaurant-name-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.restaurant-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;margin-right:8px}.restaurant-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;background:#f0fff4;padding:3px 8px;border-radius:12px;flex-shrink:0}.restaurant-rating[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{font-size:13px;color:#ff8c42}.restaurant-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#1a1a1a}.restaurant-meta[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#888}.restaurant-categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.restaurant-categories[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]{background:#f5f5f5;color:#666;font-family:latoRegular;font-size:11px;padding:3px 8px;border-radius:10px}.vendor-distance-meta[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#999;margin-top:4px;display:block}.essentials-section[_ngcontent-%COMP%]{padding:16px 16px 8px}.essentials-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.essential-card[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;cursor:pointer;transition:transform .2s ease;min-height:180px}.essential-card[_ngcontent-%COMP%]:active{transform:scale(.97)}.essential-groceries[_ngcontent-%COMP%]{background:linear-gradient(160deg,#e8f5e9,#c8e6c9)}.essential-medicine[_ngcontent-%COMP%]{background:linear-gradient(160deg,#e3f2fd,#bbdefb)}.essential-content[_ngcontent-%COMP%]{padding:18px 14px;display:flex;flex-direction:column;height:100%;box-sizing:border-box}.essential-icon-wrap[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:10px}.essential-groceries[_ngcontent-%COMP%]   .essential-icon-wrap[_ngcontent-%COMP%]{background:#2e7d3226}.essential-groceries[_ngcontent-%COMP%]   .essential-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#2e7d32}.essential-medicine[_ngcontent-%COMP%]   .essential-icon-wrap[_ngcontent-%COMP%]{background:#1976d226}.essential-medicine[_ngcontent-%COMP%]   .essential-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#1976d2}.essential-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:latoBold;font-size:16px;color:#1a1a1a;margin:0 0 6px}.essential-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#555;margin:0 0 14px;line-height:1.4}.essential-btn[_ngcontent-%COMP%]{align-self:flex-start;background:#fff;border:none;border-radius:20px;padding:7px 18px;font-family:latoBold;font-size:12px;cursor:pointer;box-shadow:0 2px 6px #0000001a}.essential-groceries[_ngcontent-%COMP%]   .essential-btn[_ngcontent-%COMP%]{color:#2e7d32}.essential-medicine[_ngcontent-%COMP%]   .essential-btn[_ngcontent-%COMP%]{color:#1976d2}.buddy-section[_ngcontent-%COMP%]{padding:16px}.buddy-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.buddy-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:14px;padding:14px 16px;box-shadow:0 2px 10px #0000000f;gap:14px;cursor:pointer;transition:transform .2s ease}.buddy-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.buddy-card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:14px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}.buddy-card-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.buddy-card-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.buddy-card-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a}.buddy-card-desc[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#999}.buddy-card-arrow[_ngcontent-%COMP%]{font-size:18px;color:#ccc;flex-shrink:0}.cart-bar[_ngcontent-%COMP%]{position:fixed;bottom:25px;left:0;right:0;z-index:100;background:linear-gradient(135deg,#f85c70,#fc8c5c);display:flex;align-items:center;justify-content:space-between;padding:14px 20px;margin:0 12px;border-radius:14px;box-shadow:0 -2px 16px #f85c7059;cursor:pointer;transition:transform .2s ease}.cart-bar[_ngcontent-%COMP%]:active{transform:scale(.98)}.cart-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.cart-bar-left[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#fff}.cart-bar-left[_ngcontent-%COMP%]   .cart-bar-count[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#fff}.cart-bar-left[_ngcontent-%COMP%]   .cart-bar-separator[_ngcontent-%COMP%]{color:#ffffff80;font-size:14px}.cart-bar-left[_ngcontent-%COMP%]   .cart-bar-total[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#fff}.cart-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.cart-bar-right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#fff}.cart-bar-right[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fff}.skeleton-wrapper[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{--background: #e8e8e8;--background-rgb: 232, 232, 232}"]})}}return t})();var an=[{path:"",component:Ce}],Pe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=O({type:t})}static{this.\u0275inj=b({imports:[T.forChild(an),T]})}}return t})();var on=[{path:"",component:K}],ye=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=O({type:t})}static{this.\u0275inj=b({imports:[T.forChild(on),T]})}}return t})();var Me=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=O({type:t})}static{this.\u0275inj=b({imports:[D,U,W,ye]})}}return t})();var Dn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=O({type:t})}static{this.\u0275inj=b({providers:[ue,J,F],imports:[D,U,W,Pe,Me]})}}return t})();export{Dn as HomeMainPageModule};
