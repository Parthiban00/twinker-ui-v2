import{a as J}from"./chunk-FWE6OK2C.js";import{a as h}from"./chunk-7RFA2YXS.js";import{a as H}from"./chunk-LMMDMND7.js";import{A as F,Ab as W,Fa as z,G as S,H as s,La as G,Sa as D,Za as A,_ as y,ca as N,d as C,e as g,f as p,ga as L,ja as f,m as a,ma as b,o as m,oa as d,p as O,pa as T,q as u,qa as w,r as v,s as c,sa as j,t as r,ta as E,u as l,ua as R,v as I,va as q,wa as k,xa as B,ya as V,z as P}from"./chunk-PM6PQ5VT.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import"./chunk-JHI3MBHO.js";var _=(()=>{class t{constructor(n,e,o){this.webservice=n,this.router=e,this.storageServie=o}requestOTP(n){let e=n;return this.webservice.post("auth/requestOTP",e)}logout(){this.storageServie.clean(),this.router.navigate(["/"])}static{this.\u0275fac=function(e){return new(e||t)(p(h),p(f),p(H))}}static{this.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Y(t,M){t&1&&(r(0,"small",14),s(1,"Mobile number is required"),l())}function Z(t,M){t&1&&(r(0,"small",14),s(1,"Enter a valid 10-digit mobile number"),l())}function $(t,M){if(t&1&&(r(0,"div",12),v(1,Y,2,0,"small",13)(2,Z,2,0,"small",13),l()),t&2){let n,e,o=F();a(),c("ngIf",(n=o.signInForm.get("mobileNo"))==null||n.errors==null?null:n.errors.required),a(),c("ngIf",(e=o.signInForm.get("mobileNo"))==null||e.errors==null?null:e.errors.minlength)}}var K=(()=>{class t{constructor(n,e,o,i){this.router=n,this.fb=e,this.loginService=o,this.commonService=i,this.phoneInputFocused=!1,this.signInForm=this.fb.group({mobileNo:["",[d.required,d.minLength(10),d.maxLength(10)]]})}get formAbstractControl(){return this.signInForm.controls}ngOnInit(){}requestOTP(){if(this.signInForm.valid){let n=this.signInForm.getRawValue();this.loginService.requestOTP(n).subscribe({next:e=>{e.status?(this.commonService.presentToast("bottom",e.message,"success"),this.router.navigate(["/otp-verification"],{queryParams:{mobileNo:n.mobileNo}})):this.commonService.presentToast("bottom",e.message,"danger")},error:e=>{this.commonService.presentToast("bottom",e.error.message?e.error.message:"Error while login!","danger")},complete:()=>{}})}}static{this.\u0275fac=function(e){return new(e||t)(m(f),m(k),m(_),m(J))}}static{this.\u0275cmp=O({type:t,selectors:[["app-login"]],standalone:!1,decls:16,vars:5,consts:[[1,"login-content"],[1,"login-wrapper"],[1,"illustration"],["src","assets/otp-illustration.svg","alt","OTP Verification"],[1,"page-title"],[1,"page-subtitle"],[3,"formGroup"],[1,"phone-input-container"],[1,"floating-label"],["formControlName","mobileNo","type","tel","placeholder","+91 9999999999",3,"ionFocus","ionBlur","maxlength"],["class","invalid-div",4,"ngIf"],["expand","block",1,"continue-btn",3,"click"],[1,"invalid-div"],["class","invalid-text",4,"ngIf"],[1,"invalid-text"]],template:function(e,o){if(e&1&&(r(0,"ion-content",0)(1,"div",1)(2,"div",2),I(3,"img",3),l(),r(4,"h1",4),s(5,"OTP Verification"),l(),r(6,"p",5),s(7,"Enter phone number to send one time Password"),l(),r(8,"form",6)(9,"div",7)(10,"label",8),s(11,"Phone Number"),l(),r(12,"ion-input",9),P("ionFocus",function(){return o.phoneInputFocused=!0})("ionBlur",function(){return o.phoneInputFocused=!1}),l()(),v(13,$,3,2,"div",10),r(14,"ion-button",11),P("click",function(){return o.requestOTP()}),s(15,"Continue"),l()()()()),e&2){let i;a(8),c("formGroup",o.signInForm),a(),S("focused",o.phoneInputFocused),a(3),c("maxlength",10),a(),c("ngIf",((i=o.signInForm.get("mobileNo"))==null?null:i.invalid)&&(((i=o.signInForm.get("mobileNo"))==null?null:i.dirty)||((i=o.signInForm.get("mobileNo"))==null?null:i.touched)))}},dependencies:[y,j,T,w,q,G,D,A,z,R,E],styles:[".login-content[_ngcontent-%COMP%]{--ion-background-color: #ffffff}.login-content[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{padding:60px 28px 28px;max-width:420px;margin:0 auto}.login-content[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-content[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:220px;height:200px;object-fit:contain}.login-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:24px;font-weight:700;color:#1a1a1a;margin:0 0 8px}.login-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#888;margin:0 0 32px;line-height:1.4}.login-content[_ngcontent-%COMP%]   .phone-input-container[_ngcontent-%COMP%]{position:relative;border:1.5px solid #d0d0d0;border-radius:8px;padding:8px 12px;transition:border-color .2s ease}.login-content[_ngcontent-%COMP%]   .phone-input-container[_ngcontent-%COMP%]   .floating-label[_ngcontent-%COMP%]{position:absolute;top:-9px;left:12px;background:#fff;padding:0 6px;font-size:12px;color:#888;font-family:latoRegular,sans-serif;transition:color .2s ease}.login-content[_ngcontent-%COMP%]   .phone-input-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 0;--padding-top: 4px;--padding-bottom: 4px;font-size:16px;font-family:latoRegular,sans-serif;color:#1a1a1a}.login-content[_ngcontent-%COMP%]   .phone-input-container.focused[_ngcontent-%COMP%]{border-color:#f5853f}.login-content[_ngcontent-%COMP%]   .phone-input-container.focused[_ngcontent-%COMP%]   .floating-label[_ngcontent-%COMP%]{color:#f5853f}.login-content[_ngcontent-%COMP%]   .invalid-div[_ngcontent-%COMP%]{padding:4px 4px 0}.login-content[_ngcontent-%COMP%]   .invalid-div[_ngcontent-%COMP%]   .invalid-text[_ngcontent-%COMP%]{color:#e53935;font-size:12px;font-family:latoRegular,sans-serif}.login-content[_ngcontent-%COMP%]   .continue-btn[_ngcontent-%COMP%]{margin-top:32px;--background: #F5853F;--border-radius: 30px;--box-shadow: none;height:50px;font-size:16px;font-family:latoBold,sans-serif;font-weight:600;letter-spacing:.5px;text-transform:none;--color: #ffffff}"]})}}return t})();var tt=[{path:"",component:K}],Q=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=g({imports:[b.forChild(tt),b]})}}return t})();var xt=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=g({providers:[h,_],imports:[N,B,W,Q,V,L]})}}return t})();export{xt as LoginPageModule};
