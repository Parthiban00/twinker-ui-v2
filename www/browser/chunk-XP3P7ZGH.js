import{a as ce}from"./chunk-TLQDSTAD.js";import{a as ae}from"./chunk-EVNIR4QR.js";import"./chunk-ATZI6UPN.js";import{a as oe}from"./chunk-UGG7OXGH.js";import{$ as j,B as p,C as r,D as a,E as m,F as O,G as C,I as v,Ib as ee,J as f,Ja as S,K as l,Ka as H,Lb as te,Ma as Q,Nb as ne,Oa as Y,Q as b,Qb as ie,S as c,T as _,U as h,Ua as J,V as R,X as B,Y as F,Z as D,Zb as re,b as P,da as w,e as E,fa as I,g as y,ga as N,gb as K,ja as $,m as k,ma as L,mb as G,na as U,o as g,p as x,rb as X,sb as Z,u as o,ua as A,w as M,wa as q,x as z,xa as W,y as V,z as u}from"./chunk-U3GTSJOD.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{a as T}from"./chunk-JHI3MBHO.js";var fe=()=>[1,2,3];function me(n,s){if(n&1&&(r(0,"span",14),c(1),a()),n&2){let e=l();o(),_(e.tabCounts.new)}}function ge(n,s){if(n&1&&(r(0,"span",14),c(1),a()),n&2){let e=l();o(),_(e.tabCounts.accepted)}}function xe(n,s){if(n&1&&(r(0,"span",14),c(1),a()),n&2){let e=l();o(),_(e.tabCounts.ready)}}function ue(n,s){if(n&1&&(r(0,"span",14),c(1),a()),n&2){let e=l();o(),_(e.tabCounts.pickedup)}}function _e(n,s){if(n&1&&(r(0,"span",14),c(1),a()),n&2){let e=l();o(),_(e.tabCounts.cancelled)}}function be(n,s){n&1&&(r(0,"div",16),m(1,"ion-skeleton-text",17)(2,"ion-skeleton-text",18)(3,"ion-skeleton-text",19)(4,"ion-skeleton-text",20),a())}function he(n,s){n&1&&(O(0),u(1,be,5,0,"div",15),C()),n&2&&(o(),p("ngForOf",j(1,fe)))}function ve(n,s){if(n&1&&(r(0,"div",21)(1,"div",22),m(2,"ion-icon",23),a(),r(3,"p"),c(4,"No orders here"),a(),r(5,"span"),c(6),a()()),n&2){let e=l();o(6),_(e.activeTab==="new"?"New orders will appear here":"No "+e.activeTab+" orders for this period")}}function Oe(n,s){if(n&1){let e=v();r(0,"button",41),f("click",function(){g(e);let i=l().$implicit,d=l();return x(d.callCustomer(i))}),m(1,"ion-icon",42),a()}}function Ce(n,s){if(n&1&&(r(0,"span",45),c(1),a()),n&2){let e=s.$implicit;o(),R(" ",e.productName||(e.product==null?null:e.product.name)," \xD7",e.quantity," ")}}function Pe(n,s){if(n&1&&(r(0,"span",46),c(1),a()),n&2){let e=l().ngIf;o(),h(" +",e.items.length-2," more ")}}function ye(n,s){if(n&1&&(O(0),u(1,Ce,2,2,"span",43),w(2,"slice"),u(3,Pe,2,1,"span",44),C()),n&2){let e=s.ngIf;o(),p("ngForOf",N(2,2,e.items,0,2)),o(2),p("ngIf",(e.items==null?null:e.items.length)>2)}}function Me(n,s){if(n&1){let e=v();O(0),r(1,"button",47),f("click",function(){g(e);let i=l().$implicit,d=l();return x(d.openCancelModal(i))}),c(2,"Decline"),a(),r(3,"button",48),f("click",function(){g(e);let i=l().$implicit,d=l();return x(d.openConfirmModal(i))}),c(4,"Accept \u2192"),a(),C()}}function we(n,s){if(n&1){let e=v();O(0),r(1,"button",47),f("click",function(){g(e);let i=l().$implicit,d=l();return x(d.openCancelModal(i))}),c(2,"Cancel"),a(),r(3,"button",49),f("click",function(){g(e);let i=l().$implicit,d=l();return x(d.markReady(i))}),c(4),a(),C()}if(n&2){let e=l().$implicit,t=l();o(4),_(t.getMarkReadyLabel(e))}}function ke(n,s){n&1&&(O(0),r(1,"div",50),m(2,"ion-icon",51),r(3,"span"),c(4,"Awaiting pickup by delivery partner"),a()(),C())}function Ve(n,s){if(n&1&&(O(0),r(1,"div",52),m(2,"ion-icon",53),c(3),a(),C()),n&2){let e=l().$implicit,t=l();o(3),h(" ",t.getPickedUpLabel(e)," ")}}function Ie(n,s){if(n&1&&(O(0),r(1,"div",54),m(2,"ion-icon",55),r(3,"span"),c(4),a()(),C()),n&2){let e,t=l().$implicit,i=l();o(4),_(((e=i.getMyVendorOrder(t))==null?null:e.vendorCancellationReason)||"Cancelled")}}function Se(n,s){if(n&1&&(r(0,"div",24)(1,"div",25)(2,"div",26),m(3,"ion-icon",27),c(4),a(),r(5,"span",28),c(6),a()(),r(7,"div",29)(8,"div",30)(9,"div",31),c(10),r(11,"span",32),m(12,"ion-icon",33),c(13),a()(),r(14,"div",34),c(15),a()(),u(16,Oe,2,0,"button",35),a(),r(17,"div",36)(18,"div",37),u(19,ye,4,6,"ng-container",7),a(),r(20,"div",38),c(21),w(22,"number"),a()(),m(23,"div",39),r(24,"div",40),u(25,Me,5,0,"ng-container",7)(26,we,5,1,"ng-container",7)(27,ke,5,0,"ng-container",7)(28,Ve,4,1,"ng-container",7)(29,Ie,5,1,"ng-container",7),a()()),n&2){let e=s.$implicit,t=l();b("urgent-card",t.activeTab==="new"&&t.isUrgent(e.createdAt)),o(2),b("urgent",t.activeTab==="new"&&t.isUrgent(e.createdAt)),o(2),h(" ",t.getTimeSince(e.createdAt)," "),o(),b("online",e.paymentMethod==="online"),o(),h(" ",e.paymentMethod==="online"?"ONLINE":"COD"," "),o(4),h(" ",(e.userId==null?null:e.userId.fullName)||"Customer"," "),o(),b("mart-tag",t.getOrderVertical(e)==="mart"),o(),p("name",t.getVerticalIcon(e)),o(),h(" ",t.getOrderVertical(e)==="mart"?"Mart":"Eats"," "),o(2),_(e.orderId),o(),p("ngIf",t.activeTab!=="cancelled"),o(3),p("ngIf",t.getMyVendorOrder(e)),o(2),h("\u20B9",I(22,22,e.totalAmount,"1.0-0")),o(4),p("ngIf",t.activeTab==="new"),o(),p("ngIf",t.activeTab==="accepted"),o(),p("ngIf",t.activeTab==="ready"),o(),p("ngIf",t.activeTab==="pickedup"),o(),p("ngIf",t.activeTab==="cancelled")}}function Te(n,s){if(n&1){let e=v();r(0,"div",56),f("click",function(){g(e);let i=l();return x(i.closeConfirmModal())}),a()}}function Ee(n,s){if(n&1&&(r(0,"div",72)(1,"div",73),m(2,"ion-icon",74),a(),r(3,"div")(4,"div",75),c(5),a(),r(6,"div",76),c(7),a()()()),n&2){let e=l(2);o(5),_(e.selectedOrder.userId==null?null:e.selectedOrder.userId.fullName),o(2),_(e.selectedOrder.userId==null?null:e.selectedOrder.userId.mobileNo)}}function ze(n,s){if(n&1){let e=v();r(0,"div",77)(1,"span",78),c(2),a(),r(3,"div",79)(4,"button",80),f("click",function(){let i=g(e).$implicit,d=l(2);return x(d.adjustQty(i,-1))}),c(5,"\u2212"),a(),r(6,"span",81),c(7),a(),r(8,"button",80),f("click",function(){let i=g(e).$implicit,d=l(2);return x(d.adjustQty(i,1))}),c(9,"+"),a()(),r(10,"span",82),c(11),w(12,"number"),a(),r(13,"button",83),f("click",function(){let i=g(e).$implicit,d=l(2);return x(d.removeItem(i))}),m(14,"ion-icon",84),a()()}if(n&2){let e=s.$implicit;o(2),_(e.productName||(e.product==null?null:e.product.name)),o(5),_(e.quantity),o(4),h("\u20B9",I(12,3,e.totalPrice,"1.0-0"))}}function Re(n,s){if(n&1&&(r(0,"div",85),m(1,"ion-icon",86),c(2),a()),n&2){let e=l(2);o(2),h(" Offer will be removed \u2014 subtotal below \u20B9",e.selectedVendorOrder==null||e.selectedVendorOrder.appliedOffer==null?null:e.selectedVendorOrder.appliedOffer.minOrderAmount," ")}}function Be(n,s){if(n&1){let e=v();r(0,"button",87),f("click",function(){let i=g(e).$implicit,d=l(2);return x(d.selectedPrepTime=i)}),c(1),a()}if(n&2){let e=s.$implicit,t=l(2);b("active",t.selectedPrepTime===e),o(),h(" ",e," min ")}}function Fe(n,s){if(n&1){let e=v();r(0,"div",57),m(1,"div",58),r(2,"div",59)(3,"div")(4,"div",60),c(5,"Confirm Order"),a(),r(6,"div",61),c(7),a()(),r(8,"button",62),f("click",function(){g(e);let i=l();return x(i.closeConfirmModal())}),m(9,"ion-icon",63),a()(),u(10,Ee,8,2,"div",64),r(11,"div",65),c(12,"Order Items"),a(),u(13,ze,15,6,"div",66)(14,Re,3,1,"div",67),r(15,"div",68)(16,"span"),c(17,"Subtotal"),a(),r(18,"strong"),c(19),w(20,"number"),a()(),r(21,"div",65),c(22,"Prep Time"),a(),r(23,"div",69),u(24,Be,2,3,"button",70),a(),r(25,"button",71),f("click",function(){g(e);let i=l();return x(i.confirmOrder())}),c(26," Confirm Order "),a()()}if(n&2){let e=l();o(7),_(e.selectedOrder==null?null:e.selectedOrder.orderId),o(3),p("ngIf",e.selectedOrder==null?null:e.selectedOrder.userId),o(3),p("ngForOf",e.editableItems),o(),p("ngIf",e.offerWillBeRemoved),o(5),h("\u20B9",I(20,7,e.getEditableSubtotal(),"1.0-0")),o(5),p("ngForOf",e.PREP_TIMES),o(),p("disabled",e.editableItems.length===0)}}function De(n,s){if(n&1){let e=v();r(0,"div",56),f("click",function(){g(e);let i=l();return x(i.closeCancelModal())}),a()}}function je(n,s){if(n&1){let e=v();r(0,"div",88)(1,"div",89),m(2,"ion-icon",55),a(),r(3,"div",90),c(4,"Decline Order?"),a(),r(5,"div",91),c(6),a(),r(7,"textarea",92),D("ngModelChange",function(i){g(e);let d=l();return F(d.cancelReason,i)||(d.cancelReason=i),x(i)}),c(8,"  "),a(),r(9,"div",93)(10,"button",94),f("click",function(){g(e);let i=l();return x(i.closeCancelModal())}),c(11,"Keep"),a(),r(12,"button",95),f("click",function(){g(e);let i=l();return x(i.submitCancel())}),c(13,"Decline"),a()()()}if(n&2){let e=l();o(6),_(e.selectedOrder==null?null:e.selectedOrder.orderId),o(),B("ngModel",e.cancelReason)}}var de=(()=>{class n{constructor(e,t,i,d){this.storageService=e,this.vendorOrderService=t,this.commonService=i,this.cdr=d,this.vendorId="",this.activeTab="new",this.dateFilter="today",this.orders=[],this.isLoading=!1,this.tabCounts={new:0,accepted:0,ready:0,pickedup:0,cancelled:0},this.showConfirmModal=!1,this.selectedOrder=null,this.selectedVendorOrder=null,this.editableItems=[],this.selectedPrepTime=15,this.offerWillBeRemoved=!1,this.PREP_TIMES=[10,15,20,30,45,60],this.showCancelModal=!1,this.cancelReason=""}ionViewWillEnter(){let e=this.storageService.getUser();this.vendorId=e?.vendorId||"",this.loadOrders(),this.loadCounts()}loadOrders(){if(!this.vendorId)return;this.isLoading=!0,this.orders=[];let{dateFrom:e,dateTo:t}=this.buildDateRange(),d={new:"placed",accepted:"confirmed",ready:"ready",pickedup:"picked_up",cancelled:"cancelled"}[this.activeTab];this.vendorOrderService.getOrdersByVendor(this.vendorId,d,e,t).subscribe({next:pe=>{this.orders=pe?.data||[],this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}loadCounts(){if(!this.vendorId)return;let{dateFrom:e,dateTo:t}=this.buildDateRange(),i={new:"placed",accepted:"confirmed",ready:"ready",pickedup:"picked_up",cancelled:"cancelled"};E({new:this.vendorOrderService.getOrdersByVendor(this.vendorId,i.new,e,t).pipe(y(()=>P({data:[]}))),accepted:this.vendorOrderService.getOrdersByVendor(this.vendorId,i.accepted,e,t).pipe(y(()=>P({data:[]}))),ready:this.vendorOrderService.getOrdersByVendor(this.vendorId,i.ready,e,t).pipe(y(()=>P({data:[]}))),pickedup:this.vendorOrderService.getOrdersByVendor(this.vendorId,i.pickedup,e,t).pipe(y(()=>P({data:[]}))),cancelled:this.vendorOrderService.getOrdersByVendor(this.vendorId,i.cancelled,e,t).pipe(y(()=>P({data:[]})))}).subscribe(d=>{this.tabCounts.new=d.new?.data?.length||0,this.tabCounts.accepted=d.accepted?.data?.length||0,this.tabCounts.ready=d.ready?.data?.length||0,this.tabCounts.pickedup=d.pickedup?.data?.length||0,this.tabCounts.cancelled=d.cancelled?.data?.length||0,this.cdr.detectChanges()})}setTab(e){this.activeTab=e,this.loadOrders()}setDateFilter(e){this.dateFilter=e,this.loadOrders(),this.loadCounts()}buildDateRange(){let e=new Date,t,i;return this.dateFilter==="yesterday"?(t=new Date(e),t.setDate(t.getDate()-1),t.setUTCHours(0,0,0,0),i=new Date(t),i.setUTCHours(23,59,59,999)):this.dateFilter==="week"?(t=new Date(e),t.setDate(t.getDate()-6),t.setUTCHours(0,0,0,0),i=new Date(e),i.setUTCHours(23,59,59,999)):(t=new Date(e),t.setUTCHours(0,0,0,0),i=new Date(e),i.setUTCHours(23,59,59,999)),{dateFrom:t.toISOString(),dateTo:i.toISOString()}}getMyVendorOrder(e){return e.vendorOrders?.find(t=>t.vendor===this.vendorId||t.vendor?._id===this.vendorId||t.vendor?.toString()===this.vendorId)}openConfirmModal(e){this.selectedOrder=e,this.selectedVendorOrder=this.getMyVendorOrder(e),this.editableItems=(this.selectedVendorOrder?.items||[]).map(t=>T({},t)),this.selectedPrepTime=15,this.checkOfferWillBeRemoved(),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1,this.selectedOrder=null,this.selectedVendorOrder=null,this.editableItems=[]}adjustQty(e,t){e.quantity=Math.max(1,(e.quantity||1)+t),e.totalPrice=(e.price||0)*e.quantity,this.checkOfferWillBeRemoved()}removeItem(e){let t=this.editableItems.indexOf(e);t!==-1&&this.editableItems.splice(t,1),this.checkOfferWillBeRemoved()}getEditableSubtotal(){return this.editableItems.reduce((e,t)=>e+(t.totalPrice||0),0)}checkOfferWillBeRemoved(){let e=this.selectedVendorOrder?.appliedOffer?.minOrderAmount;this.offerWillBeRemoved=!!(e&&this.getEditableSubtotal()<e)}confirmOrder(){if(!this.selectedOrder||this.editableItems.length===0)return;let e=this.selectedOrder.orderId;this.vendorOrderService.confirmVendorOrder(e,this.vendorId,{items:this.editableItems,prepTime:this.selectedPrepTime}).subscribe({next:()=>{this.closeConfirmModal(),this.commonService.presentToast("bottom","Order confirmed!","success"),this.loadOrders(),this.loadCounts()},error:t=>{t?.error?.code==="ORDER_CANCELLED_BY_CUSTOMER"?(this.closeConfirmModal(),this.loadOrders(),this.commonService.presentToast("bottom","Order was cancelled by the customer","danger")):this.commonService.presentToast("bottom",t?.error?.message||"Failed to confirm order","danger")}})}markReady(e){this.vendorOrderService.updateVendorOrderStatus(e.orderId,this.vendorId,"ready").subscribe({next:()=>{this.commonService.presentToast("bottom","Order marked as ready!","success"),this.loadOrders(),this.loadCounts()},error:t=>{this.commonService.presentToast("bottom",t?.error?.message||"Failed to update status","danger")}})}openCancelModal(e){this.selectedOrder=e,this.cancelReason="",this.showCancelModal=!0}closeCancelModal(){this.showCancelModal=!1,this.selectedOrder=null,this.cancelReason=""}submitCancel(){this.selectedOrder&&this.vendorOrderService.cancelVendorOrder(this.selectedOrder.orderId,this.vendorId,this.cancelReason).subscribe({next:()=>{this.closeCancelModal(),this.commonService.presentToast("bottom","Order cancelled.","danger"),this.loadOrders(),this.loadCounts()},error:e=>{this.commonService.presentToast("bottom",e?.error?.message||"Failed to cancel order","danger")}})}callCustomer(e){let t=e.userId?.mobileNo;t&&window.open("tel:"+t)}getTimeSince(e){let t=Math.floor((Date.now()-new Date(e).getTime())/1e3);return t<60?`${t}s ago`:t<3600?`${Math.floor(t/60)}m ago`:`${Math.floor(t/3600)}h ago`}isUrgent(e){return(Date.now()-new Date(e).getTime())/6e4>10}getOrderVertical(e){return e?.vertical||"eats"}getReadyLabel(e){return this.getOrderVertical(e)==="mart"?"Packed":"Ready"}getMarkReadyLabel(e){return this.getOrderVertical(e)==="mart"?"Mark Packed":"Mark Ready"}getPickedUpLabel(e){return this.getOrderVertical(e)==="mart","Picked Up"}getVerticalIcon(e){return this.getOrderVertical(e)==="mart"?"bag-handle-outline":"restaurant-outline"}static{this.\u0275fac=function(t){return new(t||n)(M(oe),M(ce),M(ae),M($))}}static{this.\u0275cmp=z({type:n,selectors:[["app-vendor-orders"]],standalone:!1,decls:38,vars:28,consts:[["slot","start"],["defaultHref","/tabs/profile","text",""],[1,"filter-bar"],[1,"filter-chip",3,"click"],[1,"status-tabs"],[1,"status-tab",3,"click"],["class","tab-count",4,"ngIf"],[4,"ngIf"],["class","empty-state",4,"ngIf"],["class","order-card",3,"urgent-card",4,"ngFor","ngForOf"],[2,"height","24px"],["class","modal-backdrop",3,"click",4,"ngIf"],["class","modal-sheet",4,"ngIf"],["class","cancel-modal",4,"ngIf"],[1,"tab-count"],["class","order-card skeleton-card",4,"ngFor","ngForOf"],[1,"order-card","skeleton-card"],["animated","",2,"width","45%","height","13px","border-radius","6px"],["animated","",2,"width","65%","height","18px","margin-top","10px","border-radius","6px"],["animated","",2,"width","80%","height","13px","margin-top","8px","border-radius","6px"],["animated","",2,"width","100%","height","40px","margin-top","14px","border-radius","10px"],[1,"empty-state"],[1,"empty-icon-wrap"],["name","receipt-outline"],[1,"order-card"],[1,"card-top-row"],[1,"time-ago"],["name","time-outline"],[1,"payment-badge"],[1,"customer-row"],[1,"customer-info"],[1,"customer-name"],[1,"vertical-tag"],[3,"name"],[1,"order-id-text"],["class","call-btn",3,"click",4,"ngIf"],[1,"order-summary-row"],[1,"items-list"],[1,"order-amount"],[1,"card-divider"],[1,"action-row"],[1,"call-btn",3,"click"],["name","call-outline"],["class","item-text",4,"ngFor","ngForOf"],["class","more-items",4,"ngIf"],[1,"item-text"],[1,"more-items"],[1,"btn-decline",3,"click"],[1,"btn-accept",3,"click"],[1,"btn-ready",3,"click"],[1,"awaiting-pickup-row"],["name","bicycle-outline"],[1,"status-pill","done"],["name","checkmark-circle-outline"],[1,"cancel-reason-row"],["name","close-circle-outline"],[1,"modal-backdrop",3,"click"],[1,"modal-sheet"],[1,"sheet-handle"],[1,"sheet-header"],[1,"sheet-title"],[1,"sheet-subtitle"],[1,"close-btn",3,"click"],["name","close-outline"],["class","modal-customer-row",4,"ngIf"],[1,"sheet-section-label"],["class","item-row",4,"ngFor","ngForOf"],["class","offer-warning",4,"ngIf"],[1,"subtotal-bar"],[1,"prep-chips"],["class","prep-chip",3,"active","click",4,"ngFor","ngForOf"],[1,"confirm-btn",3,"click","disabled"],[1,"modal-customer-row"],[1,"modal-customer-avatar"],["name","person-outline"],[1,"modal-customer-name"],[1,"modal-customer-phone"],[1,"item-row"],[1,"item-name"],[1,"qty-control"],[1,"qty-btn",3,"click"],[1,"qty-val"],[1,"item-price"],[1,"remove-btn",3,"click"],["name","trash-outline"],[1,"offer-warning"],["name","warning-outline"],[1,"prep-chip",3,"click"],[1,"cancel-modal"],[1,"cancel-modal-icon"],[1,"cancel-modal-title"],[1,"cancel-modal-subtitle"],["placeholder","Reason (optional)...",1,"reason-textarea",3,"ngModelChange","ngModel"],[1,"cancel-modal-actions"],[1,"keep-btn",3,"click"],[1,"cancel-confirm-btn",3,"click"]],template:function(t,i){t&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m(3,"ion-back-button",1),a(),r(4,"ion-title"),c(5,"Manage Orders"),a()(),r(6,"div",2)(7,"button",3),f("click",function(){return i.setDateFilter("today")}),c(8,"Today"),a(),r(9,"button",3),f("click",function(){return i.setDateFilter("yesterday")}),c(10,"Yesterday"),a(),r(11,"button",3),f("click",function(){return i.setDateFilter("week")}),c(12,"Last 7 Days"),a()(),r(13,"div",4)(14,"button",5),f("click",function(){return i.setTab("new")}),c(15," New "),u(16,me,2,1,"span",6),a(),r(17,"button",5),f("click",function(){return i.setTab("accepted")}),c(18," Accepted "),u(19,ge,2,1,"span",6),a(),r(20,"button",5),f("click",function(){return i.setTab("ready")}),c(21," Ready "),u(22,xe,2,1,"span",6),a(),r(23,"button",5),f("click",function(){return i.setTab("pickedup")}),c(24," Picked Up "),u(25,ue,2,1,"span",6),a(),r(26,"button",5),f("click",function(){return i.setTab("cancelled")}),c(27," Cancelled "),u(28,_e,2,1,"span",6),a()()(),r(29,"ion-content"),u(30,he,2,2,"ng-container",7)(31,ve,7,1,"div",8)(32,Se,30,25,"div",9),m(33,"div",10),a(),u(34,Te,1,0,"div",11)(35,Fe,27,10,"div",12)(36,De,1,0,"div",11)(37,je,14,2,"div",13)),t&2&&(o(7),b("active",i.dateFilter==="today"),o(2),b("active",i.dateFilter==="yesterday"),o(2),b("active",i.dateFilter==="week"),o(3),b("active",i.activeTab==="new"),o(2),p("ngIf",i.tabCounts.new>0),o(),b("active",i.activeTab==="accepted"),o(2),p("ngIf",i.tabCounts.accepted>0),o(),b("active",i.activeTab==="ready"),o(2),p("ngIf",i.tabCounts.ready>0),o(),b("active",i.activeTab==="pickedup"),o(2),p("ngIf",i.tabCounts.pickedup>0),o(),b("active",i.activeTab==="cancelled"),o(2),p("ngIf",i.tabCounts.cancelled>0),o(2),p("ngIf",i.isLoading),o(),p("ngIf",!i.isLoading&&i.orders.length===0),o(),p("ngForOf",i.orders),o(2),p("ngIf",i.showConfirmModal),o(),p("ngIf",i.showConfirmModal),o(),p("ngIf",i.showCancelModal),o(),p("ngIf",i.showCancelModal))},dependencies:[L,U,H,Q,Y,K,G,X,Z,ee,te,ne,ie,q,A],styles:['ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--color: #1a1a1a;--border-color: #f0f0f0;box-shadow:0 1px #f0f0f0}ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]{--color: #F85C70}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#1a1a1a}.filter-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:auto;gap:8px;padding:10px 16px;background:#fff;-webkit-overflow-scrolling:touch;scrollbar-width:none}.filter-bar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter-chip[_ngcontent-%COMP%]{flex-shrink:0;padding:6px 16px;border-radius:20px;border:1.5px solid #e8e8e8;background:#f7f7f7;color:#666;font-size:13px;font-family:latoRegular,sans-serif;cursor:pointer;transition:all .18s}.filter-chip.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);border-color:transparent;color:#fff;font-family:latoBold,sans-serif;box-shadow:0 2px 8px #f85c704d}.status-tabs[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:auto;gap:6px;padding:6px 16px 10px;background:#fff;border-bottom:1px solid #f0f0f0;-webkit-overflow-scrolling:touch;scrollbar-width:none}.status-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.status-tab[_ngcontent-%COMP%]{flex-shrink:0;display:inline-flex;align-items:center;gap:5px;padding:7px 16px;border-radius:20px;border:1.5px solid #e8e8e8;background:#f7f7f7;color:#666;font-size:13px;font-family:latoRegular,sans-serif;cursor:pointer;transition:all .18s}.status-tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);border-color:transparent;color:#fff;font-family:latoBold,sans-serif;box-shadow:0 2px 8px #f85c7047}.tab-count[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;border-radius:9px;padding:0 5px;font-size:11px;font-family:latoBold,sans-serif;background:#0000001a;color:#555;line-height:1}.active[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{background:#ffffff47;color:#fff}ion-content[_ngcontent-%COMP%]{--background: #f2f2f2}.skeleton-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:10px 16px;padding:16px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:72px 32px;text-align:center}.empty-icon-wrap[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:36px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:16px}.empty-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:#ccc}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#888;margin:0 0 6px}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#bbb}.order-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:10px 16px;overflow:hidden;box-shadow:0 2px 10px #0000000d;border-left:4px solid #FC8C5C;padding:14px 14px 12px}.order-card.urgent-card[_ngcontent-%COMP%]{border-left-color:#e74c3c}.card-top-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.time-ago[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-family:latoRegular,sans-serif;font-size:12px;color:#aaa}.time-ago[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px}.time-ago.urgent[_ngcontent-%COMP%]{color:#e74c3c;font-family:latoBold,sans-serif}.time-ago.urgent[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e74c3c}.payment-badge[_ngcontent-%COMP%]{padding:3px 10px;border-radius:20px;font-size:11px;font-family:latoBold,sans-serif;background:#f0f0f0;color:#666;letter-spacing:.3px}.payment-badge.online[_ngcontent-%COMP%]{background:#e8f4fd;color:#2980b9}.customer-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.customer-info[_ngcontent-%COMP%]{flex:1}.customer-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:16px;color:#1a1a1a;margin-bottom:2px;display:flex;align-items:center;gap:8px}.vertical-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:3px;font-family:latoBold,sans-serif;font-size:10px;background:#f85c701f;color:#f85c70;border-radius:20px;padding:2px 8px}.vertical-tag[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:11px}.vertical-tag.mart-tag[_ngcontent-%COMP%]{background:#4a5bf51f;color:#4a5bf5}.order-id-text[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#aaa}.call-btn[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:19px;border:1.5px solid #F85C70;background:#fff8f9;color:#f85c70;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}.call-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.order-summary-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:8px;margin-bottom:12px}.items-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:wrap;gap:4px}.item-text[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#555}.item-text[_ngcontent-%COMP%]:not(:last-of-type):after{content:","}.more-items[_ngcontent-%COMP%]{font-size:12px;font-family:latoRegular,sans-serif;color:#bbb}.order-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#1a1a1a;white-space:nowrap}.card-divider[_ngcontent-%COMP%]{height:1px;background:#f4f4f4;margin:0 -14px 12px}.action-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.btn-accept[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:10px;border:none;background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:14px;cursor:pointer;box-shadow:0 2px 8px #f85c704d}.btn-decline[_ngcontent-%COMP%], .btn-cancel-order[_ngcontent-%COMP%]{flex-shrink:0;padding:10px 18px;border-radius:10px;border:1.5px solid #e74c3c;background:transparent;color:#e74c3c;font-family:latoBold,sans-serif;font-size:14px;cursor:pointer}.btn-ready[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:10px;border:none;background:#2ecc71;color:#fff;font-family:latoBold,sans-serif;font-size:14px;cursor:pointer;box-shadow:0 2px 8px #2ecc7147}.btn-pickup[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:10px;border:none;background:linear-gradient(135deg,#4a5bf5,#6c6ff5);color:#fff;font-family:latoBold,sans-serif;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;box-shadow:0 2px 8px #4a5bf547}.btn-pickup[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:7px 14px;border-radius:10px;font-family:latoBold,sans-serif;font-size:13px}.status-pill.done[_ngcontent-%COMP%]{background:#eafaf1;color:#27ae60}.status-pill.done[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.awaiting-pickup-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:7px;padding:10px 12px;background:#4a5bf512;border-radius:10px;width:100%}.awaiting-pickup-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px;color:#4a5bf5;flex-shrink:0}.awaiting-pickup-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#4a5bf5}.cancel-reason-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:6px;padding:4px 0}.cancel-reason-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#e74c3c;flex-shrink:0;margin-top:1px}.cancel-reason-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#e74c3c}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0000007a;z-index:999;backdrop-filter:blur(2px)}.modal-sheet[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;border-radius:22px 22px 0 0;max-height:88vh;overflow-y:auto;z-index:1000;padding-bottom:32px}.sheet-handle[_ngcontent-%COMP%]{width:36px;height:4px;border-radius:2px;background:#e0e0e0;margin:10px auto 0}.sheet-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:14px 20px 12px;border-bottom:1px solid #f2f2f2}.sheet-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#1a1a1a}.sheet-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#aaa;margin-top:2px}.close-btn[_ngcontent-%COMP%]{background:#f5f5f5;border:none;border-radius:18px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#888;flex-shrink:0}.close-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.modal-customer-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;background:#fafafa;border-bottom:1px solid #f2f2f2}.modal-customer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:20px;background:#f0f0f0;display:flex;align-items:center;justify-content:center;flex-shrink:0}.modal-customer-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#ccc}.modal-customer-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a}.modal-customer-phone[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#888;margin-top:1px}.sheet-section-label[_ngcontent-%COMP%]{padding:14px 20px 6px;font-family:latoBold,sans-serif;font-size:11px;color:#bbb;text-transform:uppercase;letter-spacing:.8px}.item-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:11px 20px;border-bottom:1px solid #f6f6f6}.item-name[_ngcontent-%COMP%]{flex:1;font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a}.item-price[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;min-width:48px;text-align:right}.qty-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;flex-shrink:0}.qty-btn[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:8px;border:1.5px solid #F85C70;background:#fff8f9;color:#f85c70;font-size:18px;display:flex;align-items:center;justify-content:center;line-height:1;cursor:pointer;padding:0}.qty-val[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;min-width:22px;text-align:center;color:#1a1a1a}.remove-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;color:#ddd;padding:0;display:flex;align-items:center;flex-shrink:0}.remove-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.remove-btn[_ngcontent-%COMP%]:active{color:#e74c3c}.offer-warning[_ngcontent-%COMP%]{margin:10px 20px;background:#fffbeb;color:#92400e;border:1px solid #fde68a;border-radius:10px;padding:10px 14px;font-size:13px;font-family:latoRegular,sans-serif;display:flex;align-items:center;gap:8px}.offer-warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;flex-shrink:0;color:#d97706}.subtotal-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:4px 20px 2px;padding:10px 0;border-top:1px solid #f2f2f2;font-family:latoRegular,sans-serif;font-size:14px;color:#888}.subtotal-bar[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:16px;color:#1a1a1a}.prep-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;padding:4px 20px 16px}.prep-chip[_ngcontent-%COMP%]{padding:7px 16px;border-radius:10px;border:1.5px solid #e8e8e8;background:#f7f7f7;color:#555;font-size:13px;font-family:latoRegular,sans-serif;cursor:pointer;transition:all .15s}.prep-chip.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);border-color:transparent;color:#fff;font-family:latoBold,sans-serif;box-shadow:0 2px 6px #f85c7047}.confirm-btn[_ngcontent-%COMP%]{display:block;width:calc(100% - 40px);margin:4px 20px 0;padding:15px;border-radius:12px;background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:15px;border:none;cursor:pointer;box-shadow:0 4px 14px #f85c7059}.confirm-btn[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed;box-shadow:none}.cancel-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:18px;width:calc(100% - 48px);max-width:340px;z-index:1000;overflow:hidden;box-shadow:0 12px 48px #0000002e;padding:24px 20px 16px;text-align:center}.cancel-modal-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:42px;color:#e74c3c}.cancel-modal-icon[_ngcontent-%COMP%]{margin-bottom:8px}.cancel-modal-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#1a1a1a;margin-bottom:4px}.cancel-modal-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#aaa;margin-bottom:16px}.reason-textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:12px;border:1.5px solid #f0f0f0;border-radius:10px;font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a;resize:none;outline:none;box-sizing:border-box;background:#fafafa}.reason-textarea[_ngcontent-%COMP%]::placeholder{color:#ccc}.reason-textarea[_ngcontent-%COMP%]:focus{border-color:#f85c70;background:#fff}.cancel-modal-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:14px}.keep-btn[_ngcontent-%COMP%]{flex:1;padding:12px;border-radius:10px;border:1.5px solid #e8e8e8;background:#f7f7f7;color:#555;font-family:latoRegular,sans-serif;font-size:14px;cursor:pointer}.cancel-confirm-btn[_ngcontent-%COMP%]{flex:1;padding:12px;border-radius:10px;border:none;background:#e74c3c;color:#fff;font-family:latoBold,sans-serif;font-size:14px;cursor:pointer;box-shadow:0 3px 10px #e74c3c4d}']})}}return n})();var Ne=[{path:"",component:de}],se=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=V({type:n})}static{this.\u0275inj=k({imports:[S.forChild(Ne),S]})}}return n})();var ot=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=V({type:n})}static{this.\u0275inj=k({imports:[W,J,re,se]})}}return n})();export{ot as VendorOrdersPageModule};
