import{a as Pe}from"./chunk-SPXHMXQI.js";import{a as Ce}from"./chunk-EVNIR4QR.js";import{a as he,b as xe}from"./chunk-ATZI6UPN.js";import{a as ve}from"./chunk-UGG7OXGH.js";import{$ as V,B as s,C as o,D as a,Da as oe,E as m,F as y,Fa as ae,G as S,I as C,J as v,Ja as B,K as d,Ka as ce,L as J,M as K,Ma as se,N as X,Nb as fe,Oa as le,S as g,T as u,U as M,Ua as de,X as Y,Xa as pe,Y as G,Z,Zb as ue,a as N,aa as I,b,d as j,e as $,g as k,h as D,i as L,j as A,ja as ee,k as q,l as H,m as F,ma as te,mb as ge,n as Q,na as ne,o as h,p as x,ra as ie,rb as _e,sb as me,t as w,u as i,w as P,x as W,xa as re,y as E,z as _}from"./chunk-U3GTSJOD.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import"./chunk-JHI3MBHO.js";var ye=(()=>{class t{constructor(e){this.webService=e}searchAll(e,n,c="eats"){if(!e||!e.trim()||!n)return b({vendors:[],products:[],categories:[]});let r=encodeURIComponent(e.trim());return this.webService.get(`home/search/${n}?q=${r}&vertical=${c}`).pipe(j(f=>f.status&&f.data?{vendors:f.data.vendors||[],products:f.data.products||[],categories:f.data.categories||[]}:{vendors:[],products:[],categories:[]}),k(()=>b({vendors:[],products:[],categories:[]})))}static{this.\u0275fac=function(n){return new(n||t)(Q(xe))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Te=["searchInput"],Oe=t=>({"background-color":t}),be=t=>({color:t}),Se=()=>[1,2,3],Fe=()=>[1,2];function Ee(t,l){if(t&1){let e=C();o(0,"button",11),v("click",function(){h(e);let c=d();return x(c.clearSearch())}),m(1,"ion-icon",12),a()}}function Ve(t,l){if(t&1){let e=C();o(0,"div",22),v("click",function(){let c=h(e).$implicit,r=d(3);return x(r.tapRecentSearch(c))}),m(1,"ion-icon",23),o(2,"span",24),g(3),a(),o(4,"button",25),v("click",function(c){let r=h(e).index;return d(3).removeRecentSearch(r),x(c.stopPropagation())}),m(5,"ion-icon",26),a()()}if(t&2){let e=l.$implicit;i(3),u(e)}}function ze(t,l){if(t&1){let e=C();o(0,"div",16)(1,"div",17)(2,"span",18),g(3,"Recent searches"),a(),o(4,"span",19),v("click",function(){h(e);let c=d(2);return x(c.clearAllRecent())}),g(5,"Clear all"),a()(),o(6,"div",20),_(7,Ve,6,1,"div",21),a()()}if(t&2){let e=d(2);i(7),s("ngForOf",e.recentSearches)}}function Be(t,l){if(t&1){let e=C();o(0,"div",30),v("click",function(){let c=h(e).$implicit,r=d(3);return x(r.navigatePillar(c))}),o(1,"div",31),m(2,"ion-icon",32),a(),o(3,"span",33),g(4),a()()}if(t&2){let e=l.$implicit,n=d(3);i(),s("ngStyle",I(4,Oe,n.getCategoryBgColor(e.categoryName))),i(),s("name",n.getCategoryIcon(e.categoryName))("ngStyle",I(6,be,n.getCategoryAccentColor(e.categoryName))),i(2),u(e.categoryName)}}function Re(t,l){if(t&1&&(o(0,"div",27)(1,"span",18),g(2,"Browse categories"),a(),o(3,"div",28),_(4,Be,5,8,"div",29),a()()),t&2){let e=d(2);i(4),s("ngForOf",e.apiCategories)}}function Ue(t,l){if(t&1&&m(0,"img",42),t&2){let e=d().$implicit,n=d(3);s("src",n.imgBaseUrl+e.imageUrl,w)("alt",e.name)}}function Ne(t,l){if(t&1&&(o(0,"span",43),g(1),a()),t&2){let e=d().$implicit;i(),u(e.icon||"\u{1F37D}\uFE0F")}}function je(t,l){if(t&1){let e=C();o(0,"div",37),v("click",function(){let c=h(e).$implicit,r=d(3);return x(r.navigateCuisine(c))}),o(1,"div",38),_(2,Ue,1,2,"img",39)(3,Ne,2,1,"span",40),a(),o(4,"span",41),g(5),a()()}if(t&2){let e=l.$implicit;i(2),s("ngIf",e.imageUrl),i(),s("ngIf",!e.imageUrl),i(2),u(e.name)}}function $e(t,l){if(t&1&&(o(0,"div",34)(1,"span",18),g(2,"Popular cuisines"),a(),o(3,"div",35),_(4,je,6,3,"div",36),a()()),t&2){let e=d(2);i(4),s("ngForOf",e.apiCuisines)}}function De(t,l){if(t&1&&(y(0),_(1,ze,8,1,"div",13)(2,Re,5,1,"div",14)(3,$e,5,1,"div",15),S()),t&2){let e=d();i(),s("ngIf",e.recentSearches.length),i(),s("ngIf",e.apiCategories.length),i(),s("ngIf",e.apiCuisines.length&&e.vertical==="eats")}}function Le(t,l){t&1&&m(0,"div",51)}function Ae(t,l){t&1&&(o(0,"div",52),m(1,"div",53),o(2,"div",54),m(3,"div",55)(4,"div",56),a()())}function qe(t,l){t&1&&(o(0,"div",57),m(1,"div",58),o(2,"div",59),m(3,"div",55)(4,"div",56),a()())}function He(t,l){t&1&&(y(0),o(1,"div",44)(2,"div",45),_(3,Le,1,0,"div",46),a(),o(4,"div",47),_(5,Ae,5,0,"div",48),a(),o(6,"div",49),_(7,qe,5,0,"div",50),a()(),S()),t&2&&(i(3),s("ngForOf",V(3,Se)),i(2),s("ngForOf",V(4,Se)),i(2),s("ngForOf",V(5,Fe)))}function Qe(t,l){if(t&1){let e=C();o(0,"div",64),v("click",function(){let c=h(e).$implicit,r=d(4);return x(r.navigateCategory(c))}),o(1,"div",65),m(2,"ion-icon",32),a(),o(3,"span",66),g(4),a(),m(5,"ion-icon",67),a()}if(t&2){let e=l.$implicit;i(),s("ngStyle",I(4,Oe,e.bgColor)),i(),s("name",e.icon)("ngStyle",I(6,be,e.accentColor)),i(2),u(e.name)}}function We(t,l){if(t&1&&(o(0,"div",61)(1,"span",62),g(2,"Categories"),a(),_(3,Qe,6,8,"div",63),a()),t&2){let e=d(3);i(3),s("ngForOf",e.matchedCategories)}}function Je(t,l){if(t&1&&m(0,"img",77),t&2){let e=d().$implicit;s("src",e.imageUrl,w)}}function Ke(t,l){t&1&&m(0,"ion-icon",78)}function Xe(t,l){if(t&1&&(y(0),g(1),S()),t&2){let e=d().$implicit;i(),M(" \u2022 ",e.distance)}}function Ye(t,l){if(t&1&&(y(0),g(1),S()),t&2){let e=d().$implicit;i(),M(" \u2022 ",e.deliveryTime)}}function Ge(t,l){if(t&1&&(o(0,"div",79),m(1,"ion-icon",80),o(2,"span"),g(3),a()()),t&2){let e=d().$implicit;i(3),u(e.rating)}}function Ze(t,l){if(t&1){let e=C();o(0,"div",69),v("click",function(){let c=h(e).$implicit,r=d(4);return x(r.navigateVendor(c))}),o(1,"div",70),_(2,Je,1,1,"img",71)(3,Ke,1,0,"ion-icon",72),a(),o(4,"div",73)(5,"span",74),g(6),a(),o(7,"span",75),g(8),_(9,Xe,2,1,"ng-container",9)(10,Ye,2,1,"ng-container",9),a()(),_(11,Ge,4,1,"div",76),a()}if(t&2){let e=l.$implicit;i(2),s("ngIf",e.imageUrl),i(),s("ngIf",!e.imageUrl),i(3),u(e.vendorName),i(2),M("",e.cuisine||""," "),i(),s("ngIf",e.distance),i(),s("ngIf",e.deliveryTime),i(),s("ngIf",e.rating)}}function et(t,l){if(t&1&&(o(0,"div",61)(1,"span",62),g(2),a(),_(3,Ze,12,7,"div",68),a()),t&2){let e=d(3);i(2),u(e.vertical==="mart"?"Stores":"Restaurants"),i(),s("ngForOf",e.matchedVendors)}}function tt(t,l){if(t&1&&m(0,"img",77),t&2){let e=d().$implicit;s("src",e.imageUrl,w)}}function nt(t,l){if(t&1&&m(0,"ion-icon",91),t&2){let e=d(5);s("name",e.vertical==="mart"?"cube-outline":"fast-food-outline")}}function it(t,l){if(t&1&&(o(0,"span",92),g(1),a()),t&2){let e=d().$implicit,n=d(4);i(),u(n.getDiscountLabel(e))}}function rt(t,l){if(t&1&&(o(0,"span",93),g(1),a()),t&2){let e=d().$implicit,n=d(4);i(),u(n.getTagLabel(e.tag))}}function ot(t,l){if(t&1&&(o(0,"span",97),g(1),a()),t&2){let e=d(2).$implicit;i(),M("\u20B9",e.actualPrice)}}function at(t,l){if(t&1&&(o(0,"div",94)(1,"span",95),g(2),a(),_(3,ot,2,1,"span",96),a()),t&2){let e=d().$implicit;i(2),M("\u20B9",e.price),i(),s("ngIf",e.discount&&e.actualPrice>e.price)}}function ct(t,l){if(t&1){let e=C();o(0,"div",82),v("click",function(){let c=h(e).$implicit,r=d(4);return x(r.navigateProduct(c))}),o(1,"div",83),_(2,tt,1,1,"img",71)(3,nt,1,1,"ion-icon",84)(4,it,2,1,"span",85),a(),o(5,"div",86)(6,"span",87),g(7),a(),o(8,"span",88),g(9),a(),_(10,rt,2,1,"span",89),a(),_(11,at,4,2,"div",90),a()}if(t&2){let e=l.$implicit,n=d(4);i(2),s("ngIf",e.imageUrl),i(),s("ngIf",!e.imageUrl),i(),s("ngIf",e.discount),i(3),u(e.productName),i(2),u(e.vendorName),i(),s("ngIf",e.tag&&n.getTagLabel(e.tag)),i(),s("ngIf",e.price)}}function st(t,l){if(t&1&&(o(0,"div",61)(1,"span",62),g(2),a(),_(3,ct,12,7,"div",81),a()),t&2){let e=d(3);i(2),u(e.vertical==="mart"?"Products":"Dishes"),i(),s("ngForOf",e.matchedProducts)}}function lt(t,l){if(t&1&&(y(0),_(1,We,4,1,"div",60)(2,et,4,2,"div",60)(3,st,4,2,"div",60),S()),t&2){let e=d(2);i(),s("ngIf",e.matchedCategories.length),i(),s("ngIf",e.matchedVendors.length),i(),s("ngIf",e.matchedProducts.length)}}function dt(t,l){if(t&1&&m(0,"img",42),t&2){let e=d().$implicit,n=d(4);s("src",n.imgBaseUrl+e.imageUrl,w)("alt",e.name)}}function pt(t,l){if(t&1&&(o(0,"span",43),g(1),a()),t&2){let e=d().$implicit;i(),u(e.icon||"\u{1F37D}\uFE0F")}}function gt(t,l){if(t&1){let e=C();o(0,"div",37),v("click",function(){let c=h(e).$implicit,r=d(4);return x(r.navigateCuisine(c))}),o(1,"div",38),_(2,dt,1,2,"img",39)(3,pt,2,1,"span",40),a(),o(4,"span",41),g(5),a()()}if(t&2){let e=l.$implicit;i(2),s("ngIf",e.imageUrl),i(),s("ngIf",!e.imageUrl),i(2),u(e.name)}}function _t(t,l){if(t&1&&(o(0,"div",103)(1,"span",18),g(2,"Popular cuisines"),a(),o(3,"div",35),_(4,gt,6,3,"div",36),a()()),t&2){let e=d(3);i(4),s("ngForOf",e.apiCuisines)}}function mt(t,l){if(t&1&&(y(0),o(1,"div",98),m(2,"ion-icon",99),o(3,"span",100),g(4),a(),o(5,"span",101),g(6),a()(),_(7,_t,5,1,"div",102),S()),t&2){let e=d(2);i(4),M('No results for "',e.searchTerm,'"'),i(2),M("Try a different search",e.vertical==="eats"?" or browse popular cuisines":""),i(),s("ngIf",e.apiCuisines.length&&e.vertical==="eats")}}function ft(t,l){if(t&1&&(y(0),_(1,lt,4,3,"ng-container",9)(2,mt,8,3,"ng-container",9),S()),t&2){let e=d();i(),s("ngIf",e.hasResults),i(),s("ngIf",!e.hasResults)}}var z="recent-searches",Me=10,ke=(()=>{class t{constructor(e,n,c,r,f,p,O,T){this.route=e,this.router=n,this.navCtrl=c,this.storageService=r,this.commonService=f,this.homeMainService=p,this.searchService=O,this.cdr=T,this.searchTerm="",this.isLoading=!1,this.hasSearched=!1,this.localityId="",this.vertical="eats",this.imgBaseUrl=he.imageBaseUrl,this.recentSearches=[],this.matchedCategories=[],this.matchedVendors=[],this.matchedProducts=[],this.apiCategories=[],this.apiCuisines=[],this.trendingDishes=[],this.searchSubject=new N}ngOnInit(){this.localityId=this.route.snapshot.queryParamMap.get("localityId")||"";let e=this.route.snapshot.queryParamMap.get("vertical");this.vertical=e==="eats"||e==="mart"?e:this.storageService.getActiveVertical(),this.storageService.saveActiveVertical(this.vertical);let n=this.route.snapshot.queryParamMap.get("q")||"";this.loadRecentSearches(),this.loadBrowseData(),this.setupSearchPipeline(),n&&(this.searchTerm=n,setTimeout(()=>this.searchSubject.next(n),100))}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus()},300)}ngOnDestroy(){this.searchSub?.unsubscribe()}goBack(){this.navCtrl.back()}loadBrowseData(){if(!this.localityId)return;let e=this.storageService.getUser();e?.addresses?.length&&(this.defaultAddress=e.addresses.find(n=>n.isDefault)||e.addresses[0]),$({categories:this.homeMainService.getAllCategoriesByLocality(this.localityId).pipe(k(()=>b(null))),dashboard:this.homeMainService.getDashboard(this.localityId,this.vertical).pipe(k(()=>b(null)))}).subscribe(({categories:n,dashboard:c})=>{if(n?.status&&n?.data&&(this.apiCategories=n.data.filter(r=>!r.vertical||r.vertical===this.vertical)),c?.status&&c?.data){this.apiCuisines=c.data.cuisines||[];let r=(c.data.popularItems||[]).map(p=>({_id:p._id,productName:p.productName,price:p.price,actualPrice:p.actualPrice,imageUrl:p.imageUrl?this.imgBaseUrl+p.imageUrl:"",vendorName:p.vendor?.name||"",vendorId:p.vendor?._id||"",discount:p.discount,discountType:p.discountType,tag:p.tag})),f=(c.data.deals||[]).filter(p=>!r.some(O=>O._id===p._id)).map(p=>({_id:p._id,productName:p.productName,price:p.price,actualPrice:p.actualPrice,imageUrl:p.imageUrl?this.imgBaseUrl+p.imageUrl:"",vendorName:p.vendor?.name||"",vendorId:p.vendor?._id||"",discount:p.discount,discountType:p.discountType,tag:p.tag||"offer"}));this.trendingDishes=[...r,...f]}this.cdr.detectChanges()})}setupSearchPipeline(){this.searchSub=this.searchSubject.pipe(D(400),L(),q(e=>{e.trim()?(this.isLoading=!0,this.hasSearched=!0):(this.isLoading=!1,this.hasSearched=!1,this.clearResults())}),A(e=>e.trim()?this.searchService.searchAll(e,this.localityId,this.vertical):this.searchService.searchAll("",this.localityId,this.vertical))).subscribe({next:e=>{this.matchedVendors=e.vendors.map(r=>{let f={_id:r._id,vendorName:r.name,imageUrl:r.profileImgUrl?this.imgBaseUrl+r.profileImgUrl:"",rating:r.rating||"4.5",categories:r.categories};return this.calcVendorDistanceAndTime(f,r),r.categories?.length&&(f.cuisine=r.categories.map(p=>p.categoryName).join(", ")),f});let n=e.products.map(r=>({_id:r._id,productName:r.productName,price:r.price,actualPrice:r.actualPrice,imageUrl:r.imageUrl?this.imgBaseUrl+r.imageUrl:"",vendorName:r.vendor?.name||"",vendorId:r.vendor?._id||"",discount:r.discount,discountType:r.discountType,tag:r.tag||"none"})),c=["bestseller","trending","recommended","new"];n.sort((r,f)=>{let p=c.includes(r.tag?.toLowerCase()),O=c.includes(f.tag?.toLowerCase()),T=r.discount>0,U=f.discount>0;return p&&!O?-1:!p&&O?1:T&&!U?-1:!T&&U?1:0}),this.matchedProducts=n,this.matchedCategories=e.categories.map(r=>({_id:r._id,categoryId:r._id,name:r.categoryName,icon:this.getCategoryIcon(r.categoryName),bgColor:this.getCategoryBgColor(r.categoryName),accentColor:this.getCategoryAccentColor(r.categoryName)})),this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}onSearchInput(){this.searchSubject.next(this.searchTerm)}clearSearch(){this.searchTerm="",this.hasSearched=!1,this.isLoading=!1,this.clearResults(),this.searchInput?.nativeElement?.focus()}clearResults(){this.matchedCategories=[],this.matchedVendors=[],this.matchedProducts=[]}calcVendorDistanceAndTime(e,n){this.defaultAddress?.coords&&n.latitude&&n.longitude&&(e.distance=this.commonService.calculateDistance(this.defaultAddress.coords.lat,this.defaultAddress.coords.lng,n.latitude,n.longitude)+" km",e.deliveryTime=Math.ceil(parseFloat(e.distance))*3+15+" min")}getCategoryIcon(e){return{food:"restaurant-outline",groceries:"cart-outline",medicine:"medkit-outline",desserts:"ice-cream-outline",beverages:"cafe-outline"}[e?.toLowerCase()]||"grid-outline"}getCategoryBgColor(e){return{food:"#FFF0F0",groceries:"#F0FFF4",medicine:"#F0F4FF",desserts:"#FFF0F8",beverages:"#FFF5F0"}[e?.toLowerCase()]||"#f5f5f5"}getCategoryAccentColor(e){return{food:"#F85C70",groceries:"#2ecc71",medicine:"#4A5BF5",desserts:"#FC5C7D",beverages:"#FF8C42"}[e?.toLowerCase()]||"#888"}getDiscountLabel(e){return e.discount?e.discountType==="in-percentage"?`${e.discount}% OFF`:e.discountType==="in-price"?`\u20B9${e.discount} OFF`:`${e.discount}% OFF`:""}getTagLabel(e){return{bestseller:"Bestseller",trending:"Trending",recommended:"Recommended",new:"New",offer:"Offer"}[e?.toLowerCase()]||""}loadRecentSearches(){this.recentSearches=this.storageService.getItem(z)||[]}saveRecentSearch(e){let n=e.trim();n&&(this.recentSearches=this.recentSearches.filter(c=>c.toLowerCase()!==n.toLowerCase()),this.recentSearches.unshift(n),this.recentSearches.length>Me&&(this.recentSearches=this.recentSearches.slice(0,Me)),this.storageService.setItem(z,this.recentSearches))}removeRecentSearch(e){this.recentSearches.splice(e,1),this.storageService.setItem(z,this.recentSearches)}clearAllRecent(){this.recentSearches=[],this.storageService.setItem(z,[])}tapRecentSearch(e){this.searchTerm=e,this.onSearchInput()}navigateCategory(e){this.saveRecentSearch(this.searchTerm),this.router.navigate(["/home-land"],{queryParams:{categoryId:e.categoryId||e._id,localityId:this.localityId,title:e.name,vertical:this.vertical}})}navigateVendor(e){this.saveRecentSearch(this.searchTerm),this.router.navigate(["/items"],{queryParams:{vendorId:e._id,vertical:this.vertical}})}navigateProduct(e){this.saveRecentSearch(this.searchTerm),this.router.navigate(["/items"],{queryParams:{vendorId:e.vendorId,vertical:this.vertical}})}navigatePillar(e){this.router.navigate(["/home-land"],{queryParams:{categoryId:e._id,localityId:this.localityId,title:e.categoryName,vertical:this.vertical}})}navigateCuisine(e){let n=this.apiCategories.find(c=>c.categoryName?.toLowerCase()==="food");this.router.navigate(["/home-land"],{queryParams:{categoryId:n?._id||"",localityId:this.localityId,title:"Food",cuisineFilter:e.name,vertical:this.vertical}})}get hasResults(){return this.matchedCategories.length>0||this.matchedVendors.length>0||this.matchedProducts.length>0}static{this.\u0275fac=function(n){return new(n||t)(P(oe),P(ae),P(pe),P(ve),P(Ce),P(Pe),P(ye),P(ee))}}static{this.\u0275cmp=W({type:t,selectors:[["app-search"]],viewQuery:function(n,c){if(n&1&&J(Te,5),n&2){let r;K(r=X())&&(c.searchInput=r.first)}},standalone:!1,decls:15,vars:6,consts:[["searchInput",""],[1,"ion-no-border"],[1,"search-header"],[1,"back-btn",3,"click"],["name","arrow-back-outline"],[1,"search-input-wrap"],["name","search-outline",1,"search-icon"],["type","text",1,"search-input",3,"ngModelChange","input","ngModel","placeholder"],["class","clear-btn",3,"click",4,"ngIf"],[4,"ngIf"],[2,"height","24px"],[1,"clear-btn",3,"click"],["name","close-circle"],["class","recent-section",4,"ngIf"],["class","browse-section",4,"ngIf"],["class","cuisine-section",4,"ngIf"],[1,"recent-section"],[1,"section-row"],[1,"section-title"],[1,"clear-all",3,"click"],[1,"recent-list"],["class","recent-item",3,"click",4,"ngFor","ngForOf"],[1,"recent-item",3,"click"],["name","time-outline",1,"recent-icon"],[1,"recent-text"],[1,"recent-remove",3,"click"],["name","close-outline"],[1,"browse-section"],[1,"pillars-scroll"],["class","pillar-chip",3,"click",4,"ngFor","ngForOf"],[1,"pillar-chip",3,"click"],[1,"pillar-chip-icon",3,"ngStyle"],[3,"name","ngStyle"],[1,"pillar-chip-name"],[1,"cuisine-section"],[1,"cuisine-grid"],["class","cuisine-item",3,"click",4,"ngFor","ngForOf"],[1,"cuisine-item",3,"click"],[1,"cuisine-circle"],["class","cuisine-img",3,"src","alt",4,"ngIf"],["class","cuisine-emoji-fallback",4,"ngIf"],[1,"cuisine-label"],[1,"cuisine-img",3,"src","alt"],[1,"cuisine-emoji-fallback"],[1,"skeleton-section"],[1,"skeleton-chips"],["class","skeleton-chip",4,"ngFor","ngForOf"],[1,"skeleton-cards"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-rows"],["class","skeleton-row",4,"ngFor","ngForOf"],[1,"skeleton-chip"],[1,"skeleton-card"],[1,"skeleton-card-img"],[1,"skeleton-card-lines"],[1,"skeleton-line","long"],[1,"skeleton-line","short"],[1,"skeleton-row"],[1,"skeleton-row-img"],[1,"skeleton-row-lines"],["class","result-group",4,"ngIf"],[1,"result-group"],[1,"group-title"],["class","category-result",3,"click",4,"ngFor","ngForOf"],[1,"category-result",3,"click"],[1,"category-result-icon",3,"ngStyle"],[1,"category-result-name"],["name","chevron-forward-outline",1,"result-chevron"],["class","vendor-result",3,"click",4,"ngFor","ngForOf"],[1,"vendor-result",3,"click"],[1,"vendor-img"],["alt","",3,"src",4,"ngIf"],["name","storefront-outline","class","vendor-placeholder",4,"ngIf"],[1,"vendor-info"],[1,"vendor-name"],[1,"vendor-meta"],["class","vendor-rating",4,"ngIf"],["alt","",3,"src"],["name","storefront-outline",1,"vendor-placeholder"],[1,"vendor-rating"],["name","star",1,"star-icon"],["class","product-result",3,"click",4,"ngFor","ngForOf"],[1,"product-result",3,"click"],[1,"product-img"],["class","product-placeholder",3,"name",4,"ngIf"],["class","product-discount-badge",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-vendor"],["class","product-tag",4,"ngIf"],["class","product-price-group",4,"ngIf"],[1,"product-placeholder",3,"name"],[1,"product-discount-badge"],[1,"product-tag"],[1,"product-price-group"],[1,"product-price"],["class","product-original-price",4,"ngIf"],[1,"product-original-price"],[1,"empty-state"],["name","search-outline",1,"empty-icon"],[1,"empty-title"],[1,"empty-subtitle"],["class","cuisine-section fallback-cuisines",4,"ngIf"],[1,"cuisine-section","fallback-cuisines"]],template:function(n,c){if(n&1){let r=C();o(0,"ion-header",1)(1,"ion-toolbar")(2,"div",2)(3,"button",3),v("click",function(){return h(r),x(c.goBack())}),m(4,"ion-icon",4),a(),o(5,"div",5),m(6,"ion-icon",6),o(7,"input",7,0),Z("ngModelChange",function(p){return h(r),G(c.searchTerm,p)||(c.searchTerm=p),x(p)}),v("input",function(){return h(r),x(c.onSearchInput())}),a(),_(9,Ee,2,0,"button",8),a()()()(),o(10,"ion-content"),_(11,De,4,3,"ng-container",9)(12,He,8,6,"ng-container",9)(13,ft,3,2,"ng-container",9),m(14,"div",10),a()}n&2&&(i(7),Y("ngModel",c.searchTerm),s("placeholder",c.vertical==="mart"?"Search stores, products, groceries...":"Search restaurants, dishes, cuisines..."),i(2),s("ngIf",c.searchTerm),i(2),s("ngIf",!c.hasSearched&&!c.isLoading),i(),s("ngIf",c.isLoading),i(),s("ngIf",c.hasSearched&&!c.isLoading))},dependencies:[te,ne,ie,ce,se,le,ge,_e,me,fe],styles:["ion-toolbar[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--min-height: auto;--background: #fff;padding:calc(var(--ion-safe-area-top, 20px) + 8px) 16px 12px}.search-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0;cursor:pointer}.back-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#1a1a1a}.search-input-wrap[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;background:#f5f5f5;border-radius:25px;padding:10px 16px;gap:10px}.search-input-wrap[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:20px;color:#aaa;flex-shrink:0}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;font-family:latoRegular;font-size:15px;color:#1a1a1a}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#aaa}.search-input-wrap[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;display:flex;cursor:pointer}.search-input-wrap[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#bbb}ion-content[_ngcontent-%COMP%]{--background: #fff}.section-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:17px;color:#1a1a1a;display:block;margin-bottom:14px}.recent-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.section-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.section-row[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:0}.section-row[_ngcontent-%COMP%]   .clear-all[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#f85c70;cursor:pointer}.recent-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.recent-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f0f0f0;transition:background .15s ease}.recent-item[_ngcontent-%COMP%]:active{background:#fafafa}.recent-item[_ngcontent-%COMP%]   .recent-icon[_ngcontent-%COMP%]{font-size:18px;color:#bbb;flex-shrink:0}.recent-item[_ngcontent-%COMP%]   .recent-text[_ngcontent-%COMP%]{flex:1;font-family:latoRegular;font-size:15px;color:#333}.recent-item[_ngcontent-%COMP%]   .recent-remove[_ngcontent-%COMP%]{border:none;background:transparent;padding:4px;display:flex;cursor:pointer}.recent-item[_ngcontent-%COMP%]   .recent-remove[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#ccc}.trending-dishes-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.trending-dishes-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding-bottom:4px}.trending-dishes-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.trending-dish-card[_ngcontent-%COMP%]{width:140px;flex-shrink:0;background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 2px 10px #00000012;cursor:pointer;transition:transform .15s ease}.trending-dish-card[_ngcontent-%COMP%]:active{transform:scale(.96)}.td-img-wrap[_ngcontent-%COMP%]{width:100%;height:100px;position:relative;background:#f5f5f5;overflow:hidden}.td-img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.td-img-wrap[_ngcontent-%COMP%]   .td-img-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.td-img-wrap[_ngcontent-%COMP%]   .td-img-placeholder[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:#ddd}.td-img-wrap[_ngcontent-%COMP%]   .td-discount[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;background:#f85c70;color:#fff;font-family:latoBold;font-size:10px;padding:2px 6px;border-radius:6px}.td-img-wrap[_ngcontent-%COMP%]   .td-tag[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;background:#0000008c;color:#fff;font-family:latoBold;font-size:9px;padding:2px 6px;border-radius:6px;text-transform:uppercase;letter-spacing:.3px}.td-info[_ngcontent-%COMP%]{padding:8px 10px 10px;display:flex;flex-direction:column;gap:2px}.td-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.td-vendor[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.td-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#f85c70;margin-top:2px}.browse-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.pillars-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding-bottom:4px}.pillars-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pillar-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#fff;border:1px solid #f0f0f0;border-radius:30px;padding:8px 16px 8px 8px;cursor:pointer;flex-shrink:0;transition:transform .2s ease;box-shadow:0 2px 8px #0000000a}.pillar-chip[_ngcontent-%COMP%]:active{transform:scale(.96)}.pillar-chip-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center}.pillar-chip-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.pillar-chip-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a;white-space:nowrap}.cuisine-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.cuisine-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px 12px}.cuisine-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:transform .2s ease}.cuisine-item[_ngcontent-%COMP%]:active{transform:scale(.93)}.cuisine-circle[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000000f;overflow:hidden;background:#f5f5f5}.cuisine-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.cuisine-circle[_ngcontent-%COMP%]   .cuisine-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.cuisine-circle[_ngcontent-%COMP%]   .cuisine-emoji-fallback[_ngcontent-%COMP%]{font-size:26px;line-height:1;-webkit-user-select:none;user-select:none}.cuisine-label[_ngcontent-%COMP%]{font-size:12px;color:#555;font-family:latoBold;text-align:center}.skeleton-section[_ngcontent-%COMP%]{padding:20px 16px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:200px 0}}.skeleton-line[_ngcontent-%COMP%], .skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-row-img[_ngcontent-%COMP%], .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-card-img[_ngcontent-%COMP%], .skeleton-chips[_ngcontent-%COMP%]   .skeleton-chip[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e8e8e8,#f0f0f0 75%);background-size:400px 100%;animation:_ngcontent-%COMP%_shimmer 1.4s ease infinite;border-radius:8px}.skeleton-chips[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.skeleton-chips[_ngcontent-%COMP%]   .skeleton-chip[_ngcontent-%COMP%]{width:100px;height:40px;border-radius:20px}.skeleton-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;margin-bottom:20px}.skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-card-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:14px;flex-shrink:0}.skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-card-lines[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:10px}.skeleton-rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-row-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;flex-shrink:0}.skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-row-lines[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.skeleton-line[_ngcontent-%COMP%]{height:14px}.skeleton-line.long[_ngcontent-%COMP%]{width:75%}.skeleton-line.short[_ngcontent-%COMP%]{width:45%}.result-group[_ngcontent-%COMP%]{padding:16px 16px 8px}.result-group[_ngcontent-%COMP%] + .result-group[_ngcontent-%COMP%]{padding-top:8px}.group-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#999;text-transform:uppercase;letter-spacing:.5px;display:block;margin-bottom:12px}.category-result[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .15s ease}.category-result[_ngcontent-%COMP%]:active{background:#fafafa}.category-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-result-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.category-result-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.category-result-name[_ngcontent-%COMP%]{flex:1;font-family:latoBold;font-size:15px;color:#1a1a1a}.result-chevron[_ngcontent-%COMP%]{font-size:18px;color:#ccc}.vendor-result[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .15s ease}.vendor-result[_ngcontent-%COMP%]:active{background:#fafafa}.vendor-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.vendor-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:14px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0}.vendor-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.vendor-img[_ngcontent-%COMP%]   .vendor-placeholder[_ngcontent-%COMP%]{font-size:32px;color:#ccc}.vendor-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.vendor-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vendor-meta[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#888}.vendor-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;background:#f0fff4;padding:4px 8px;border-radius:12px;flex-shrink:0}.vendor-rating[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{font-size:13px;color:#ff8c42}.vendor-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#1a1a1a}.product-result[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .15s ease}.product-result[_ngcontent-%COMP%]:active{background:#fafafa}.product-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.product-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0}.product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-img[_ngcontent-%COMP%]   .product-placeholder[_ngcontent-%COMP%]{font-size:24px;color:#ccc}.product-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:3px;min-width:0}.product-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-vendor[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#888}.product-discount-badge[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:4px;background:#f85c70;color:#fff;font-family:latoBold;font-size:9px;padding:2px 5px;border-radius:4px}.product-img[_ngcontent-%COMP%]{position:relative}.product-tag[_ngcontent-%COMP%]{font-family:latoBold;font-size:10px;color:#ff8c42;text-transform:uppercase;letter-spacing:.3px}.product-price-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;flex-shrink:0;gap:1px}.product-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;flex-shrink:0}.product-original-price[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#bbb;text-decoration:line-through}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:48px 32px 24px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;color:#ddd;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:18px;color:#1a1a1a;margin-bottom:8px}.empty-state[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{font-family:latoRegular;font-size:14px;color:#888}.fallback-cuisines[_ngcontent-%COMP%]{padding-top:24px}"]})}}return t})();var ut=[{path:"",component:ke}],we=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=E({type:t})}static{this.\u0275inj=F({imports:[B.forChild(ut),B]})}}return t})();var $t=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=E({type:t})}static{this.\u0275inj=F({imports:[re,de,ue,we]})}}return t})();export{$t as SearchPageModule};
