import{a as Ce}from"./chunk-XMQT4NSL.js";import{a as ve}from"./chunk-N6OZMYOF.js";import{a as he,b as xe}from"./chunk-BXK3I32N.js";import{a as ue}from"./chunk-XP26IMK5.js";import{$ as b,A as _,C as s,Ca as z,D as r,Da as ae,E as a,F as m,Fa as ce,G as y,H as S,Ha as se,J as C,K as h,Kb as me,L as d,M as W,N as K,Na as le,O as X,Qa as de,S as p,T as v,U as M,W as Y,Wb as fe,X as G,Y as J,_ as F,a as R,b as V,d as N,f as j,g as $,ga as Z,h as L,hb as ge,i as A,ia as ee,j as D,ja as te,k as q,l as I,m as H,mb as pe,n as f,na as ne,nb as _e,o as u,qa as ie,u as O,v as o,wa as oe,x as P,y as Q,ya as re,z as T}from"./chunk-FQ5UXCN4.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import"./chunk-JHI3MBHO.js";var Pe=(()=>{class t{constructor(e){this.webService=e}searchAll(e,n){if(!e||!e.trim()||!n)return V({vendors:[],products:[],categories:[]});let c=encodeURIComponent(e.trim());return this.webService.get(`home/search/${n}?q=${c}`).pipe(N(i=>i.status&&i.data?{vendors:i.data.vendors||[],products:i.data.products||[],categories:i.data.categories||[]}:{vendors:[],products:[],categories:[]}),j(()=>V({vendors:[],products:[],categories:[]})))}static{this.\u0275fac=function(n){return new(n||t)(H(xe))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ie=["searchInput"],Me=t=>({"background-color":t}),Oe=t=>({color:t}),ye=()=>[1,2,3],Te=()=>[1,2];function Fe(t,l){if(t&1){let e=C();r(0,"button",11),h("click",function(){f(e);let c=d();return u(c.clearSearch())}),m(1,"ion-icon",12),a()}}function Ee(t,l){if(t&1){let e=C();r(0,"div",22),h("click",function(){let c=f(e).$implicit,i=d(3);return u(i.tapRecentSearch(c))}),m(1,"ion-icon",23),r(2,"span",24),p(3),a(),r(4,"button",25),h("click",function(c){let i=f(e).index;return d(3).removeRecentSearch(i),u(c.stopPropagation())}),m(5,"ion-icon",26),a()()}if(t&2){let e=l.$implicit;o(3),v(e)}}function Ve(t,l){if(t&1){let e=C();r(0,"div",16)(1,"div",17)(2,"span",18),p(3,"Recent searches"),a(),r(4,"span",19),h("click",function(){f(e);let c=d(2);return u(c.clearAllRecent())}),p(5,"Clear all"),a()(),r(6,"div",20),_(7,Ee,6,1,"div",21),a()()}if(t&2){let e=d(2);o(7),s("ngForOf",e.recentSearches)}}function ze(t,l){if(t&1){let e=C();r(0,"div",30),h("click",function(){let c=f(e).$implicit,i=d(3);return u(i.navigatePillar(c))}),r(1,"div",31),m(2,"ion-icon",32),a(),r(3,"span",33),p(4),a()()}if(t&2){let e=l.$implicit,n=d(3);o(),s("ngStyle",b(4,Me,n.getCategoryBgColor(e.categoryName))),o(),s("name",n.getCategoryIcon(e.categoryName))("ngStyle",b(6,Oe,n.getCategoryAccentColor(e.categoryName))),o(2),v(e.categoryName)}}function Be(t,l){if(t&1&&(r(0,"div",27)(1,"span",18),p(2,"Browse categories"),a(),r(3,"div",28),_(4,ze,5,8,"div",29),a()()),t&2){let e=d(2);o(4),s("ngForOf",e.apiCategories)}}function Ue(t,l){if(t&1&&m(0,"img",42),t&2){let e=d().$implicit,n=d(3);s("src",n.imgBaseUrl+e.imageUrl,O)("alt",e.name)}}function Re(t,l){t&1&&m(0,"ion-icon",43)}function Ne(t,l){if(t&1){let e=C();r(0,"div",37),h("click",function(){let c=f(e).$implicit,i=d(3);return u(i.navigateCuisine(c))}),r(1,"div",38),_(2,Ue,1,2,"img",39)(3,Re,1,0,"ion-icon",40),a(),r(4,"span",41),p(5),a()()}if(t&2){let e=l.$implicit;o(2),s("ngIf",e.imageUrl),o(),s("ngIf",!e.imageUrl),o(2),v(e.name)}}function je(t,l){if(t&1&&(r(0,"div",34)(1,"span",18),p(2,"Popular cuisines"),a(),r(3,"div",35),_(4,Ne,6,3,"div",36),a()()),t&2){let e=d(2);o(4),s("ngForOf",e.apiCuisines)}}function $e(t,l){if(t&1&&(y(0),_(1,Ve,8,1,"div",13)(2,Be,5,1,"div",14)(3,je,5,1,"div",15),S()),t&2){let e=d();o(),s("ngIf",e.recentSearches.length),o(),s("ngIf",e.apiCategories.length),o(),s("ngIf",e.apiCuisines.length)}}function Le(t,l){t&1&&m(0,"div",51)}function Ae(t,l){t&1&&(r(0,"div",52),m(1,"div",53),r(2,"div",54),m(3,"div",55)(4,"div",56),a()())}function De(t,l){t&1&&(r(0,"div",57),m(1,"div",58),r(2,"div",59),m(3,"div",55)(4,"div",56),a()())}function qe(t,l){t&1&&(y(0),r(1,"div",44)(2,"div",45),_(3,Le,1,0,"div",46),a(),r(4,"div",47),_(5,Ae,5,0,"div",48),a(),r(6,"div",49),_(7,De,5,0,"div",50),a()(),S()),t&2&&(o(3),s("ngForOf",F(3,ye)),o(2),s("ngForOf",F(4,ye)),o(2),s("ngForOf",F(5,Te)))}function He(t,l){if(t&1){let e=C();r(0,"div",64),h("click",function(){let c=f(e).$implicit,i=d(4);return u(i.navigateCategory(c))}),r(1,"div",65),m(2,"ion-icon",32),a(),r(3,"span",66),p(4),a(),m(5,"ion-icon",67),a()}if(t&2){let e=l.$implicit;o(),s("ngStyle",b(4,Me,e.bgColor)),o(),s("name",e.icon)("ngStyle",b(6,Oe,e.accentColor)),o(2),v(e.name)}}function Qe(t,l){if(t&1&&(r(0,"div",61)(1,"span",62),p(2,"Categories"),a(),_(3,He,6,8,"div",63),a()),t&2){let e=d(3);o(3),s("ngForOf",e.matchedCategories)}}function We(t,l){if(t&1&&m(0,"img",77),t&2){let e=d().$implicit;s("src",e.imageUrl,O)}}function Ke(t,l){t&1&&m(0,"ion-icon",78)}function Xe(t,l){if(t&1&&(y(0),p(1),S()),t&2){let e=d().$implicit;o(),M(" \u2022 ",e.distance)}}function Ye(t,l){if(t&1&&(y(0),p(1),S()),t&2){let e=d().$implicit;o(),M(" \u2022 ",e.deliveryTime)}}function Ge(t,l){if(t&1&&(r(0,"div",79),m(1,"ion-icon",80),r(2,"span"),p(3),a()()),t&2){let e=d().$implicit;o(3),v(e.rating)}}function Je(t,l){if(t&1){let e=C();r(0,"div",69),h("click",function(){let c=f(e).$implicit,i=d(4);return u(i.navigateVendor(c))}),r(1,"div",70),_(2,We,1,1,"img",71)(3,Ke,1,0,"ion-icon",72),a(),r(4,"div",73)(5,"span",74),p(6),a(),r(7,"span",75),p(8),_(9,Xe,2,1,"ng-container",9)(10,Ye,2,1,"ng-container",9),a()(),_(11,Ge,4,1,"div",76),a()}if(t&2){let e=l.$implicit;o(2),s("ngIf",e.imageUrl),o(),s("ngIf",!e.imageUrl),o(3),v(e.vendorName),o(2),M("",e.cuisine||""," "),o(),s("ngIf",e.distance),o(),s("ngIf",e.deliveryTime),o(),s("ngIf",e.rating)}}function Ze(t,l){if(t&1&&(r(0,"div",61)(1,"span",62),p(2,"Restaurants"),a(),_(3,Je,12,7,"div",68),a()),t&2){let e=d(3);o(3),s("ngForOf",e.matchedVendors)}}function et(t,l){if(t&1&&m(0,"img",77),t&2){let e=d().$implicit;s("src",e.imageUrl,O)}}function tt(t,l){t&1&&m(0,"ion-icon",91)}function nt(t,l){if(t&1&&(r(0,"span",92),p(1),a()),t&2){let e=d().$implicit,n=d(4);o(),v(n.getDiscountLabel(e))}}function it(t,l){if(t&1&&(r(0,"span",93),p(1),a()),t&2){let e=d().$implicit,n=d(4);o(),v(n.getTagLabel(e.tag))}}function ot(t,l){if(t&1&&(r(0,"span",97),p(1),a()),t&2){let e=d(2).$implicit;o(),M("\u20B9",e.actualPrice)}}function rt(t,l){if(t&1&&(r(0,"div",94)(1,"span",95),p(2),a(),_(3,ot,2,1,"span",96),a()),t&2){let e=d().$implicit;o(2),M("\u20B9",e.price),o(),s("ngIf",e.discount&&e.actualPrice>e.price)}}function at(t,l){if(t&1){let e=C();r(0,"div",82),h("click",function(){let c=f(e).$implicit,i=d(4);return u(i.navigateProduct(c))}),r(1,"div",83),_(2,et,1,1,"img",71)(3,tt,1,0,"ion-icon",84)(4,nt,2,1,"span",85),a(),r(5,"div",86)(6,"span",87),p(7),a(),r(8,"span",88),p(9),a(),_(10,it,2,1,"span",89),a(),_(11,rt,4,2,"div",90),a()}if(t&2){let e=l.$implicit,n=d(4);o(2),s("ngIf",e.imageUrl),o(),s("ngIf",!e.imageUrl),o(),s("ngIf",e.discount),o(3),v(e.productName),o(2),v(e.vendorName),o(),s("ngIf",e.tag&&n.getTagLabel(e.tag)),o(),s("ngIf",e.price)}}function ct(t,l){if(t&1&&(r(0,"div",61)(1,"span",62),p(2,"Dishes"),a(),_(3,at,12,7,"div",81),a()),t&2){let e=d(3);o(3),s("ngForOf",e.matchedProducts)}}function st(t,l){if(t&1&&(y(0),_(1,Qe,4,1,"div",60)(2,Ze,4,1,"div",60)(3,ct,4,1,"div",60),S()),t&2){let e=d(2);o(),s("ngIf",e.matchedCategories.length),o(),s("ngIf",e.matchedVendors.length),o(),s("ngIf",e.matchedProducts.length)}}function lt(t,l){if(t&1&&m(0,"img",42),t&2){let e=d().$implicit,n=d(4);s("src",n.imgBaseUrl+e.imageUrl,O)("alt",e.name)}}function dt(t,l){t&1&&m(0,"ion-icon",43)}function gt(t,l){if(t&1){let e=C();r(0,"div",37),h("click",function(){let c=f(e).$implicit,i=d(4);return u(i.navigateCuisine(c))}),r(1,"div",38),_(2,lt,1,2,"img",39)(3,dt,1,0,"ion-icon",40),a(),r(4,"span",41),p(5),a()()}if(t&2){let e=l.$implicit;o(2),s("ngIf",e.imageUrl),o(),s("ngIf",!e.imageUrl),o(2),v(e.name)}}function pt(t,l){if(t&1&&(r(0,"div",103)(1,"span",18),p(2,"Popular cuisines"),a(),r(3,"div",35),_(4,gt,6,3,"div",36),a()()),t&2){let e=d(3);o(4),s("ngForOf",e.apiCuisines)}}function _t(t,l){if(t&1&&(y(0),r(1,"div",98),m(2,"ion-icon",99),r(3,"span",100),p(4),a(),r(5,"span",101),p(6,"Try a different search or browse popular cuisines"),a()(),_(7,pt,5,1,"div",102),S()),t&2){let e=d(2);o(4),M('No results for "',e.searchTerm,'"'),o(3),s("ngIf",e.apiCuisines.length)}}function mt(t,l){if(t&1&&(y(0),_(1,st,4,3,"ng-container",9)(2,_t,8,2,"ng-container",9),S()),t&2){let e=d();o(),s("ngIf",e.hasResults),o(),s("ngIf",!e.hasResults)}}var E="recent-searches",Se=10,be=(()=>{class t{constructor(e,n,c,i,g,x,w,k){this.route=e,this.router=n,this.navCtrl=c,this.storageService=i,this.commonService=g,this.homeMainService=x,this.searchService=w,this.cdr=k,this.searchTerm="",this.isLoading=!1,this.hasSearched=!1,this.localityId="",this.imgBaseUrl=he.imageBaseUrl,this.recentSearches=[],this.matchedCategories=[],this.matchedVendors=[],this.matchedProducts=[],this.apiCategories=[],this.apiCuisines=[],this.trendingDishes=[],this.searchSubject=new R}ngOnInit(){this.localityId=this.route.snapshot.queryParamMap.get("localityId")||"";let e=this.route.snapshot.queryParamMap.get("q")||"";this.loadRecentSearches(),this.loadBrowseData(),this.setupSearchPipeline(),e&&(this.searchTerm=e,setTimeout(()=>this.searchSubject.next(e),100))}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus()},300)}ngOnDestroy(){this.searchSub?.unsubscribe()}goBack(){this.navCtrl.back()}loadBrowseData(){if(!this.localityId)return;this.homeMainService.getAllCategoriesByLocality(this.localityId).subscribe({next:n=>{n.status&&n.data&&(this.apiCategories=n.data),this.cdr.detectChanges()},error:()=>{}}),this.homeMainService.getDashboard(this.localityId).subscribe({next:n=>{if(n.status&&n.data){this.apiCuisines=n.data.cuisines||[];let c=(n.data.popularItems||[]).map(g=>({_id:g._id,productName:g.productName,price:g.price,actualPrice:g.actualPrice,imageUrl:g.imageUrl?this.imgBaseUrl+g.imageUrl:"",vendorName:g.vendor?.name||"",vendorId:g.vendor?._id||"",discount:g.discount,discountType:g.discountType,tag:g.tag})),i=(n.data.deals||[]).filter(g=>!c.some(x=>x._id===g._id)).map(g=>({_id:g._id,productName:g.productName,price:g.price,actualPrice:g.actualPrice,imageUrl:g.imageUrl?this.imgBaseUrl+g.imageUrl:"",vendorName:g.vendor?.name||"",vendorId:g.vendor?._id||"",discount:g.discount,discountType:g.discountType,tag:g.tag||"offer"}));this.trendingDishes=[...c,...i]}this.cdr.detectChanges()},error:()=>{}});let e=this.storageService.getUser();e?._id&&this.homeMainService.getDefaultAddressByUserId(e._id).subscribe({next:n=>{n.status&&n.data&&(this.defaultAddress=n.data)},error:()=>{}})}setupSearchPipeline(){this.searchSub=this.searchSubject.pipe($(400),L(),D(e=>{e.trim()?(this.isLoading=!0,this.hasSearched=!0):(this.isLoading=!1,this.hasSearched=!1,this.clearResults())}),A(e=>e.trim()?this.searchService.searchAll(e,this.localityId):[])).subscribe({next:e=>{this.matchedVendors=e.vendors.map(i=>{let g={_id:i._id,vendorName:i.name,imageUrl:i.profileImgUrl?this.imgBaseUrl+i.profileImgUrl:"",rating:i.rating||"4.5",categories:i.categories};return this.calcVendorDistanceAndTime(g,i),i.categories?.length&&(g.cuisine=i.categories.map(x=>x.categoryName).join(", ")),g});let n=e.products.map(i=>({_id:i._id,productName:i.productName,price:i.price,actualPrice:i.actualPrice,imageUrl:i.imageUrl?this.imgBaseUrl+i.imageUrl:"",vendorName:i.vendor?.name||"",vendorId:i.vendor?._id||"",discount:i.discount,discountType:i.discountType,tag:i.tag||"none"})),c=["bestseller","trending","recommended","new"];n.sort((i,g)=>{let x=c.includes(i.tag?.toLowerCase()),w=c.includes(g.tag?.toLowerCase()),k=i.discount>0,U=g.discount>0;return x&&!w?-1:!x&&w?1:k&&!U?-1:!k&&U?1:0}),this.matchedProducts=n,this.matchedCategories=e.categories.map(i=>({_id:i._id,categoryId:i._id,name:i.categoryName,icon:this.getCategoryIcon(i.categoryName),bgColor:this.getCategoryBgColor(i.categoryName),accentColor:this.getCategoryAccentColor(i.categoryName)})),this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}onSearchInput(){this.searchSubject.next(this.searchTerm)}clearSearch(){this.searchTerm="",this.hasSearched=!1,this.isLoading=!1,this.clearResults(),this.searchInput?.nativeElement?.focus()}clearResults(){this.matchedCategories=[],this.matchedVendors=[],this.matchedProducts=[]}calcVendorDistanceAndTime(e,n){this.defaultAddress?.coords&&n.latitude&&n.longitude&&(e.distance=this.commonService.calculateDistance(this.defaultAddress.coords.lat,this.defaultAddress.coords.lng,n.latitude,n.longitude)+" km",e.deliveryTime=Math.ceil(parseFloat(e.distance))*3+15+" min")}getCategoryIcon(e){return{food:"restaurant-outline",groceries:"cart-outline",medicine:"medkit-outline",desserts:"ice-cream-outline",beverages:"cafe-outline"}[e?.toLowerCase()]||"grid-outline"}getCategoryBgColor(e){return{food:"#FFF0F0",groceries:"#F0FFF4",medicine:"#F0F4FF",desserts:"#FFF0F8",beverages:"#FFF5F0"}[e?.toLowerCase()]||"#f5f5f5"}getCategoryAccentColor(e){return{food:"#F85C70",groceries:"#2ecc71",medicine:"#4A5BF5",desserts:"#FC5C7D",beverages:"#FF8C42"}[e?.toLowerCase()]||"#888"}getDiscountLabel(e){return e.discount?e.discountType==="in-percentage"?`${e.discount}% OFF`:e.discountType==="in-price"?`\u20B9${e.discount} OFF`:`${e.discount}% OFF`:""}getTagLabel(e){return{bestseller:"Bestseller",trending:"Trending",recommended:"Recommended",new:"New",offer:"Offer"}[e?.toLowerCase()]||""}loadRecentSearches(){this.recentSearches=this.storageService.getItem(E)||[]}saveRecentSearch(e){let n=e.trim();n&&(this.recentSearches=this.recentSearches.filter(c=>c.toLowerCase()!==n.toLowerCase()),this.recentSearches.unshift(n),this.recentSearches.length>Se&&(this.recentSearches=this.recentSearches.slice(0,Se)),this.storageService.setItem(E,this.recentSearches))}removeRecentSearch(e){this.recentSearches.splice(e,1),this.storageService.setItem(E,this.recentSearches)}clearAllRecent(){this.recentSearches=[],this.storageService.setItem(E,[])}tapRecentSearch(e){this.searchTerm=e,this.onSearchInput()}navigateCategory(e){this.saveRecentSearch(this.searchTerm),this.router.navigate(["/home-land"],{queryParams:{categoryId:e.categoryId||e._id,localityId:this.localityId,title:e.name}})}navigateVendor(e){this.saveRecentSearch(this.searchTerm),this.router.navigate(["/items"],{queryParams:{vendorId:e._id}})}navigateProduct(e){this.saveRecentSearch(this.searchTerm),this.router.navigate(["/items"],{queryParams:{vendorId:e.vendorId}})}navigatePillar(e){this.router.navigate(["/home-land"],{queryParams:{categoryId:e._id,localityId:this.localityId,title:e.categoryName}})}navigateCuisine(e){let n=this.apiCategories.find(c=>c.categoryName?.toLowerCase()==="food");this.router.navigate(["/home-land"],{queryParams:{categoryId:n?._id||"",localityId:this.localityId,title:"Food",cuisineFilter:e.name}})}get hasResults(){return this.matchedCategories.length>0||this.matchedVendors.length>0||this.matchedProducts.length>0}static{this.\u0275fac=function(n){return new(n||t)(P(oe),P(re),P(de),P(ue),P(ve),P(Ce),P(Pe),P(Z))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-search"]],viewQuery:function(n,c){if(n&1&&W(Ie,5),n&2){let i;K(i=X())&&(c.searchInput=i.first)}},standalone:!1,decls:15,vars:5,consts:[["searchInput",""],[1,"ion-no-border"],[1,"search-header"],[1,"back-btn",3,"click"],["name","arrow-back-outline"],[1,"search-input-wrap"],["name","search-outline",1,"search-icon"],["type","text","placeholder","Search food, groceries, medicines...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-btn",3,"click",4,"ngIf"],[4,"ngIf"],[2,"height","24px"],[1,"clear-btn",3,"click"],["name","close-circle"],["class","recent-section",4,"ngIf"],["class","browse-section",4,"ngIf"],["class","cuisine-section",4,"ngIf"],[1,"recent-section"],[1,"section-row"],[1,"section-title"],[1,"clear-all",3,"click"],[1,"recent-list"],["class","recent-item",3,"click",4,"ngFor","ngForOf"],[1,"recent-item",3,"click"],["name","time-outline",1,"recent-icon"],[1,"recent-text"],[1,"recent-remove",3,"click"],["name","close-outline"],[1,"browse-section"],[1,"pillars-scroll"],["class","pillar-chip",3,"click",4,"ngFor","ngForOf"],[1,"pillar-chip",3,"click"],[1,"pillar-chip-icon",3,"ngStyle"],[3,"name","ngStyle"],[1,"pillar-chip-name"],[1,"cuisine-section"],[1,"cuisine-grid"],["class","cuisine-item",3,"click",4,"ngFor","ngForOf"],[1,"cuisine-item",3,"click"],[1,"cuisine-circle"],["class","cuisine-img",3,"src","alt",4,"ngIf"],["name","restaurant-outline","style","font-size: 24px; color: #F85C70;",4,"ngIf"],[1,"cuisine-label"],[1,"cuisine-img",3,"src","alt"],["name","restaurant-outline",2,"font-size","24px","color","#F85C70"],[1,"skeleton-section"],[1,"skeleton-chips"],["class","skeleton-chip",4,"ngFor","ngForOf"],[1,"skeleton-cards"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-rows"],["class","skeleton-row",4,"ngFor","ngForOf"],[1,"skeleton-chip"],[1,"skeleton-card"],[1,"skeleton-card-img"],[1,"skeleton-card-lines"],[1,"skeleton-line","long"],[1,"skeleton-line","short"],[1,"skeleton-row"],[1,"skeleton-row-img"],[1,"skeleton-row-lines"],["class","result-group",4,"ngIf"],[1,"result-group"],[1,"group-title"],["class","category-result",3,"click",4,"ngFor","ngForOf"],[1,"category-result",3,"click"],[1,"category-result-icon",3,"ngStyle"],[1,"category-result-name"],["name","chevron-forward-outline",1,"result-chevron"],["class","vendor-result",3,"click",4,"ngFor","ngForOf"],[1,"vendor-result",3,"click"],[1,"vendor-img"],["alt","",3,"src",4,"ngIf"],["name","storefront-outline","class","vendor-placeholder",4,"ngIf"],[1,"vendor-info"],[1,"vendor-name"],[1,"vendor-meta"],["class","vendor-rating",4,"ngIf"],["alt","",3,"src"],["name","storefront-outline",1,"vendor-placeholder"],[1,"vendor-rating"],["name","star",1,"star-icon"],["class","product-result",3,"click",4,"ngFor","ngForOf"],[1,"product-result",3,"click"],[1,"product-img"],["name","fast-food-outline","class","product-placeholder",4,"ngIf"],["class","product-discount-badge",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-vendor"],["class","product-tag",4,"ngIf"],["class","product-price-group",4,"ngIf"],["name","fast-food-outline",1,"product-placeholder"],[1,"product-discount-badge"],[1,"product-tag"],[1,"product-price-group"],[1,"product-price"],["class","product-original-price",4,"ngIf"],[1,"product-original-price"],[1,"empty-state"],["name","search-outline",1,"empty-icon"],[1,"empty-title"],[1,"empty-subtitle"],["class","cuisine-section fallback-cuisines",4,"ngIf"],[1,"cuisine-section","fallback-cuisines"]],template:function(n,c){if(n&1){let i=C();r(0,"ion-header",1)(1,"ion-toolbar")(2,"div",2)(3,"button",3),h("click",function(){return f(i),u(c.goBack())}),m(4,"ion-icon",4),a(),r(5,"div",5),m(6,"ion-icon",6),r(7,"input",7,0),J("ngModelChange",function(x){return f(i),G(c.searchTerm,x)||(c.searchTerm=x),u(x)}),h("input",function(){return f(i),u(c.onSearchInput())}),a(),_(9,Fe,2,0,"button",8),a()()()(),r(10,"ion-content"),_(11,$e,4,3,"ng-container",9)(12,qe,8,6,"ng-container",9)(13,mt,3,2,"ng-container",9),m(14,"div",10),a()}n&2&&(o(7),Y("ngModel",c.searchTerm),o(2),s("ngIf",c.searchTerm),o(2),s("ngIf",!c.hasSearched&&!c.isLoading),o(),s("ngIf",c.isLoading),o(),s("ngIf",c.hasSearched&&!c.isLoading))},dependencies:[ee,te,ne,ae,ce,se,ge,pe,_e,me],styles:["ion-toolbar[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--min-height: auto;--background: #fff;padding:calc(var(--ion-safe-area-top, 20px) + 8px) 16px 12px}.search-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0;cursor:pointer}.back-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#1a1a1a}.search-input-wrap[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;background:#f5f5f5;border-radius:25px;padding:10px 16px;gap:10px}.search-input-wrap[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:20px;color:#aaa;flex-shrink:0}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;font-family:latoRegular;font-size:15px;color:#1a1a1a}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#aaa}.search-input-wrap[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{border:none;background:transparent;padding:0;display:flex;cursor:pointer}.search-input-wrap[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#bbb}ion-content[_ngcontent-%COMP%]{--background: #fff}.section-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:17px;color:#1a1a1a;display:block;margin-bottom:14px}.recent-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.section-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.section-row[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:0}.section-row[_ngcontent-%COMP%]   .clear-all[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#f85c70;cursor:pointer}.recent-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.recent-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f0f0f0;transition:background .15s ease}.recent-item[_ngcontent-%COMP%]:active{background:#fafafa}.recent-item[_ngcontent-%COMP%]   .recent-icon[_ngcontent-%COMP%]{font-size:18px;color:#bbb;flex-shrink:0}.recent-item[_ngcontent-%COMP%]   .recent-text[_ngcontent-%COMP%]{flex:1;font-family:latoRegular;font-size:15px;color:#333}.recent-item[_ngcontent-%COMP%]   .recent-remove[_ngcontent-%COMP%]{border:none;background:transparent;padding:4px;display:flex;cursor:pointer}.recent-item[_ngcontent-%COMP%]   .recent-remove[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#ccc}.trending-dishes-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.trending-dishes-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding-bottom:4px}.trending-dishes-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.trending-dish-card[_ngcontent-%COMP%]{width:140px;flex-shrink:0;background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 2px 10px #00000012;cursor:pointer;transition:transform .15s ease}.trending-dish-card[_ngcontent-%COMP%]:active{transform:scale(.96)}.td-img-wrap[_ngcontent-%COMP%]{width:100%;height:100px;position:relative;background:#f5f5f5;overflow:hidden}.td-img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.td-img-wrap[_ngcontent-%COMP%]   .td-img-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.td-img-wrap[_ngcontent-%COMP%]   .td-img-placeholder[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:36px;color:#ddd}.td-img-wrap[_ngcontent-%COMP%]   .td-discount[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;background:#f85c70;color:#fff;font-family:latoBold;font-size:10px;padding:2px 6px;border-radius:6px}.td-img-wrap[_ngcontent-%COMP%]   .td-tag[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;background:#0000008c;color:#fff;font-family:latoBold;font-size:9px;padding:2px 6px;border-radius:6px;text-transform:uppercase;letter-spacing:.3px}.td-info[_ngcontent-%COMP%]{padding:8px 10px 10px;display:flex;flex-direction:column;gap:2px}.td-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.td-vendor[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.td-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#f85c70;margin-top:2px}.browse-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.pillars-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding-bottom:4px}.pillars-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pillar-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#fff;border:1px solid #f0f0f0;border-radius:30px;padding:8px 16px 8px 8px;cursor:pointer;flex-shrink:0;transition:transform .2s ease;box-shadow:0 2px 8px #0000000a}.pillar-chip[_ngcontent-%COMP%]:active{transform:scale(.96)}.pillar-chip-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center}.pillar-chip-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.pillar-chip-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a;white-space:nowrap}.cuisine-section[_ngcontent-%COMP%]{padding:20px 16px 8px}.cuisine-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px 12px}.cuisine-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:transform .2s ease}.cuisine-item[_ngcontent-%COMP%]:active{transform:scale(.93)}.cuisine-circle[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000000f;overflow:hidden;background:#f5f5f5}.cuisine-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.cuisine-circle[_ngcontent-%COMP%]   .cuisine-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.cuisine-label[_ngcontent-%COMP%]{font-size:12px;color:#555;font-family:latoBold;text-align:center}.skeleton-section[_ngcontent-%COMP%]{padding:20px 16px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200px 0}to{background-position:200px 0}}.skeleton-line[_ngcontent-%COMP%], .skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-row-img[_ngcontent-%COMP%], .skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-card-img[_ngcontent-%COMP%], .skeleton-chips[_ngcontent-%COMP%]   .skeleton-chip[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e8e8e8,#f0f0f0 75%);background-size:400px 100%;animation:_ngcontent-%COMP%_shimmer 1.4s ease infinite;border-radius:8px}.skeleton-chips[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.skeleton-chips[_ngcontent-%COMP%]   .skeleton-chip[_ngcontent-%COMP%]{width:100px;height:40px;border-radius:20px}.skeleton-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;margin-bottom:20px}.skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-card-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:14px;flex-shrink:0}.skeleton-cards[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]   .skeleton-card-lines[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:10px}.skeleton-rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-row-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;flex-shrink:0}.skeleton-rows[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-row-lines[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.skeleton-line[_ngcontent-%COMP%]{height:14px}.skeleton-line.long[_ngcontent-%COMP%]{width:75%}.skeleton-line.short[_ngcontent-%COMP%]{width:45%}.result-group[_ngcontent-%COMP%]{padding:16px 16px 8px}.result-group[_ngcontent-%COMP%] + .result-group[_ngcontent-%COMP%]{padding-top:8px}.group-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#999;text-transform:uppercase;letter-spacing:.5px;display:block;margin-bottom:12px}.category-result[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .15s ease}.category-result[_ngcontent-%COMP%]:active{background:#fafafa}.category-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-result-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.category-result-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.category-result-name[_ngcontent-%COMP%]{flex:1;font-family:latoBold;font-size:15px;color:#1a1a1a}.result-chevron[_ngcontent-%COMP%]{font-size:18px;color:#ccc}.vendor-result[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .15s ease}.vendor-result[_ngcontent-%COMP%]:active{background:#fafafa}.vendor-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.vendor-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:14px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0}.vendor-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.vendor-img[_ngcontent-%COMP%]   .vendor-placeholder[_ngcontent-%COMP%]{font-size:32px;color:#ccc}.vendor-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.vendor-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vendor-meta[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#888}.vendor-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;background:#f0fff4;padding:4px 8px;border-radius:12px;flex-shrink:0}.vendor-rating[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{font-size:13px;color:#ff8c42}.vendor-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#1a1a1a}.product-result[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 4px;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .15s ease}.product-result[_ngcontent-%COMP%]:active{background:#fafafa}.product-result[_ngcontent-%COMP%]:last-child{border-bottom:none}.product-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0}.product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-img[_ngcontent-%COMP%]   .product-placeholder[_ngcontent-%COMP%]{font-size:24px;color:#ccc}.product-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:3px;min-width:0}.product-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-vendor[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#888}.product-discount-badge[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:4px;background:#f85c70;color:#fff;font-family:latoBold;font-size:9px;padding:2px 5px;border-radius:4px}.product-img[_ngcontent-%COMP%]{position:relative}.product-tag[_ngcontent-%COMP%]{font-family:latoBold;font-size:10px;color:#ff8c42;text-transform:uppercase;letter-spacing:.3px}.product-price-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;flex-shrink:0;gap:1px}.product-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;flex-shrink:0}.product-original-price[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#bbb;text-decoration:line-through}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:48px 32px 24px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;color:#ddd;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:18px;color:#1a1a1a;margin-bottom:8px}.empty-state[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{font-family:latoRegular;font-size:14px;color:#888}.fallback-cuisines[_ngcontent-%COMP%]{padding-top:24px}"]})}}return t})();var ft=[{path:"",component:be}],we=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=I({imports:[z.forChild(ft),z]})}}return t})();var jt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=I({imports:[ie,le,fe,we]})}}return t})();export{jt as SearchPageModule};
