import{a as ne}from"./chunk-TM7DXTGG.js";import{a as te}from"./chunk-EVNIR4QR.js";import"./chunk-ATZI6UPN.js";import{a as ee}from"./chunk-UGG7OXGH.js";import{$ as R,B as f,C as o,D as a,Da as U,E as _,F as M,Fa as W,G as w,I as b,Ib as Y,J as h,Ja as I,K as l,Lb as J,Nb as K,P as S,Q as C,S as s,T as m,U as P,Ua as H,Ub as Q,V as A,Zb as X,ja as j,m as E,ma as $,mb as G,na as N,o as x,p as v,r as B,rb as Z,sb as q,u as i,w as O,x as D,xa as L,y as F,z as g}from"./chunk-U3GTSJOD.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{e as z}from"./chunk-JHI3MBHO.js";var ae=()=>[1,2,3];function ce(n,p){if(n&1&&(o(0,"span",9),s(1),a()),n&2){let e=l(2);i(),m(e.activeOrders.length)}}function se(n,p){if(n&1){let e=b();o(0,"div",6)(1,"button",7),h("click",function(){x(e);let r=l();return v(r.setFilter("all"))}),s(2,"All"),a(),o(3,"button",7),h("click",function(){x(e);let r=l();return v(r.setFilter("active"))}),s(4," Active "),g(5,ce,2,1,"span",8),a(),o(6,"button",7),h("click",function(){x(e);let r=l();return v(r.setFilter("delivered"))}),s(7,"Delivered"),a(),o(8,"button",7),h("click",function(){x(e);let r=l();return v(r.setFilter("cancelled"))}),s(9,"Cancelled"),a()()}if(n&2){let e=l();i(),C("active",e.activeFilter==="all"),i(2),C("active",e.activeFilter==="active"),i(2),f("ngIf",e.activeOrders.length>1),i(),C("active",e.activeFilter==="delivered"),i(2),C("active",e.activeFilter==="cancelled")}}function le(n,p){n&1&&(o(0,"div",12),_(1,"ion-skeleton-text",13)(2,"ion-skeleton-text",14)(3,"ion-skeleton-text",15),a())}function de(n,p){n&1&&(o(0,"div",10),g(1,le,4,0,"div",11),a()),n&2&&(i(),f("ngForOf",R(1,ae)))}function pe(n,p){if(n&1&&(o(0,"div",20),_(1,"ion-icon",21),o(2,"span"),s(3),a()()),n&2){let e=l(3);i(3),P("",e.activeOrders.length," Active Orders")}}function fe(n,p){n&1&&_(0,"ion-icon",51)}function ge(n,p){if(n&1&&_(0,"div",52),n&2){let e=l().index,t=l().$implicit,r=l(3);C("filled",r.getStatusStep(t.status)>e)}}function _e(n,p){if(n&1&&(o(0,"div",47)(1,"div",48),g(2,fe,1,0,"ion-icon",49),a(),g(3,ge,1,2,"div",50),a()),n&2){let e=p.index,t=l().$implicit,r=l(3);C("done",r.getStatusStep(t.status)>e)("active",r.getStatusStep(t.status)===e),i(2),f("ngIf",r.getStatusStep(t.status)>e),i(),f("ngIf",e<r.STATUS_STEPS.length-1)}}function me(n,p){if(n&1&&(o(0,"span"),s(1),a()),n&2){let e=p.$implicit,t=l(4);i(),m(t.getStatusLabel(e))}}function ue(n,p){if(n&1&&(o(0,"span",57),s(1),a()),n&2){let e=l(2).$implicit;i(),m(e.deliveryBoy.vehicleNo)}}function xe(n,p){if(n&1&&(o(0,"div",53),_(1,"ion-icon",54),o(2,"span",55),s(3),a(),g(4,ue,2,1,"span",56),a()),n&2){let e=l().$implicit;i(3),m((e.deliveryBoy==null?null:e.deliveryBoy.name)||"Delivery Partner"),i(),f("ngIf",e.deliveryBoy==null?null:e.deliveryBoy.vehicleNo)}}function ve(n,p){n&1&&(M(0),s(1,"\u{1F373} Preparing"),w())}function he(n,p){n&1&&(M(0),s(1,"\u{1F4E6} Packing"),w())}function ye(n,p){n&1&&(M(0),s(1,"\u{1F6F5} Out for delivery"),w())}function be(n,p){if(n&1){let e=b();o(0,"div",58),h("click",function(r){return x(e),v(r.stopPropagation())}),o(1,"div",59)(2,"div",60)(3,"span",61),s(4),a(),o(5,"span",62),s(6,"min"),a()(),o(7,"div",63)(8,"span",64),s(9),a(),o(10,"span",65),s(11),a()(),o(12,"div",66),_(13,"ion-icon",67),o(14,"span"),s(15),a()()(),o(16,"div",68)(17,"div",69),_(18,"div",70),a()(),o(19,"div",71)(20,"span",72),s(21),a(),o(22,"span",73),g(23,ve,2,0,"ng-container",5)(24,he,2,0,"ng-container",5)(25,ye,2,0,"ng-container",5),a()()()}if(n&2){let e=l().$implicit,t=l(3);i(4),m((t.etaMap[e.orderId]==null?null:t.etaMap[e.orderId].minsLeft)??"\u2014"),i(5),m(e.status==="out_for_delivery"?"Arriving in":"Ready in"),i(2),m(t.etaMap[e.orderId]==null?null:t.etaMap[e.orderId].phaseLabel),i(4),m(t.getEtaArrivalTime(e)),i(2),S("width",(t.etaMap[e.orderId]==null?null:t.etaMap[e.orderId].pctElapsed)||2,"%"),i(4),P("",(t.etaMap[e.orderId]==null?null:t.etaMap[e.orderId].pctElapsed)||0,"% complete"),i(2),f("ngIf",e.status==="confirmed"&&e.vertical!=="mart"),i(),f("ngIf",e.status==="confirmed"&&e.vertical==="mart"),i(),f("ngIf",e.status==="out_for_delivery")}}function Oe(n,p){if(n&1&&(o(0,"div",74),_(1,"ion-icon",75),o(2,"span"),s(3),a()()),n&2){let e=l().$implicit;i(3),m(e.vertical==="mart"?"Waiting for store to accept...":"Waiting for restaurant to accept...")}}function Ce(n,p){if(n&1){let e=b();o(0,"button",76),h("click",function(r){x(e);let d=l().$implicit,c=l(3);return r.stopPropagation(),v(c.cancelOrder(d))}),_(1,"ion-icon",77),s(2," Cancel "),a()}}function Pe(n,p){if(n&1){let e=b();o(0,"button",78),h("click",function(r){x(e);let d=l().$implicit,c=l(3);return r.stopPropagation(),v(c.openTracking(d))}),_(1,"ion-icon",79),s(2," Live Track "),a()}}function Me(n,p){if(n&1){let e=b();o(0,"button",80),h("click",function(r){x(e);let d=l().$implicit,c=l(3);return r.stopPropagation(),v(c.callDeliveryBoy(d))}),_(1,"ion-icon",81),s(2," Call "),a()}}function we(n,p){if(n&1){let e=b();o(0,"div",22),h("click",function(){let r=x(e).$implicit,d=l(3);return v(d.navigateToDetail(r.orderId))}),o(1,"div",23)(2,"div",24),_(3,"div",25),o(4,"span",26),s(5),a()(),o(6,"span",27),s(7),a()(),o(8,"div",28)(9,"div",29),g(10,_e,4,6,"div",30),a(),o(11,"div",31),g(12,me,2,1,"span",32),a()(),g(13,xe,5,2,"div",33),o(14,"div",34),_(15,"ion-icon",35),o(16,"span"),s(17),a()(),g(18,be,26,10,"div",36)(19,Oe,4,1,"div",37),o(20,"div",38)(21,"div",39)(22,"span",40),s(23),a(),o(24,"span",40),s(25),a(),o(26,"span",40),s(27),a()()(),o(28,"div",41),g(29,Ce,3,0,"button",42)(30,Pe,3,0,"button",43)(31,Me,3,0,"button",44),a(),o(32,"div",45)(33,"span"),s(34,"Tap to view details"),a(),_(35,"ion-icon",46),a()()}if(n&2){let e=p.$implicit,t=l(3);C("highlight",t.highlightOrderId&&e.orderId===t.highlightOrderId),i(5),m(t.getStatusLabel(e.status)),i(2),m(e.orderId),i(3),f("ngForOf",t.STATUS_STEPS),i(2),f("ngForOf",t.STATUS_STEPS),i(),f("ngIf",e.status==="out_for_delivery"&&t.orderHasDeliveryBoy(e)),i(4),m(t.getVendorNames(e)),i(),f("ngIf",e.etaMinutes&&e.status!=="placed"),i(),f("ngIf",e.status==="placed"),i(4),P("",t.getItemCount(e)," items"),i(2),P("\u20B9",e.totalAmount==null?null:e.totalAmount.toFixed(0)),i(2),m(e.paymentMethod==="cod"?"COD":"Online"),i(2),f("ngIf",e.status==="placed"),i(),f("ngIf",e.status==="out_for_delivery"),i(),f("ngIf",e.status==="out_for_delivery"&&(e.deliveryBoy==null?null:e.deliveryBoy.phone))}}function ke(n,p){if(n&1&&(M(0),g(1,pe,4,1,"div",18)(2,we,36,16,"div",19),w()),n&2){let e=l(2);i(),f("ngIf",e.activeOrders.length>1),i(),f("ngForOf",e.activeOrders)}}function Se(n,p){if(n&1){let e=b();o(0,"button",101),h("click",function(r){x(e);let d=l().$implicit,c=l(4);return r.stopPropagation(),v(c.reorder(d))}),_(1,"ion-icon",102),s(2," Reorder "),a()}}function Ie(n,p){if(n&1){let e=b();o(0,"div",87),h("click",function(){let r=x(e).$implicit,d=l(4);return v(d.navigateToDetail(r.orderId))}),_(1,"div",88),o(2,"div",89)(3,"div",90),_(4,"ion-icon",91),a(),o(5,"div",92)(6,"div",93)(7,"span",94),s(8),a(),o(9,"span",95),_(10,"ion-icon",91),s(11),a()(),o(12,"span",96),s(13),a(),o(14,"span",97),s(15),a()(),o(16,"div",98)(17,"span",99),s(18),a(),g(19,Se,3,0,"button",100),a()()()}if(n&2){let e=p.$implicit,t=l(4);i(),S("background",t.getStatusColor(e.status)),i(3),S("color",t.getStatusColor(e.status)),f("name",t.getStatusIcon(e.status)),i(4),m(e.orderId),i(),C("mart-tag",e.vertical==="mart"),i(),f("name",t.getVerticalIcon(e)),i(),P(" ",t.getVerticalLabel(e)," "),i(2),m(t.getVendorNames(e)),i(2),A("",t.getItemCount(e)," items \xB7 \u20B9",e.totalAmount==null?null:e.totalAmount.toFixed(0)),i(2),S("color",t.getStatusColor(e.status))("background",t.getStatusColor(e.status)+"15"),i(),P(" ",t.getStatusLabel(e.status)," "),i(),f("ngIf",e.status==="delivered")}}function Te(n,p){if(n&1&&(o(0,"div",84)(1,"div",85),s(2),a(),g(3,Ie,20,19,"div",86),a()),n&2){let e=p.$implicit;i(2),m(e.label),i(),f("ngForOf",e.orders)}}function Ee(n,p){if(n&1&&(o(0,"div",82),g(1,Te,4,2,"div",83),a()),n&2){let e=l(2);i(),f("ngForOf",e.filteredGroupedOrders)}}function Fe(n,p){if(n&1){let e=b();o(0,"button",109),h("click",function(){x(e);let r=l(3);return v(r.goHome())}),s(1,"Browse Restaurants"),a()}}function Ve(n,p){if(n&1&&(o(0,"div",103)(1,"div",104),_(2,"ion-icon",105),a(),o(3,"h2",106),s(4),a(),o(5,"p",107),s(6),a(),g(7,Fe,2,0,"button",108),a()),n&2){let e=l(2);i(2),f("name",e.activeFilter==="cancelled"?"close-circle-outline":e.activeFilter==="delivered"?"checkmark-done-circle-outline":"receipt-outline"),i(2),m(e.getEmptyStateText()),i(2),m(e.getEmptyStateSubtext()),i(),f("ngIf",e.activeFilter==="all"||e.activeFilter==="active")}}function ze(n,p){if(n&1&&(M(0),g(1,ke,3,2,"ng-container",5)(2,Ee,2,1,"div",16)(3,Ve,8,4,"div",17),w()),n&2){let e=l();i(),f("ngIf",e.showActiveCards),i(),f("ngIf",e.filteredGroupedOrders.length>0),i(),f("ngIf",e.isEmpty)}}var re=(()=>{class n{constructor(e,t,r,d,c,u,y,k){this.router=e,this.route=t,this.storageService=r,this.orderService=d,this.commonService=c,this.alertCtrl=u,this.cdr=y,this.ngZone=k,this.userId="",this.activeVertical="eats",this.activeOrders=[],this.groupedOrders=[],this.isLoading=!0,this.highlightOrderId="",this.activeFilter="all",this.etaMap={},this.ACTIVE_STATUSES=["placed","confirmed","out_for_delivery"],this.STATUS_STEPS=["placed","confirmed","out_for_delivery","delivered"]}ngOnInit(){}ionViewWillEnter(){let e=this.storageService.getUser();this.userId=e?._id||"",this.activeVertical=this.storageService.getActiveVertical(),this.route.queryParams.subscribe(t=>{this.highlightOrderId=t.highlight||"",t.filter&&(this.activeFilter=t.filter)}),this.loadOrders()}ionViewWillLeave(){this.stopPolling(),this.stopTicker()}loadOrders(){if(!this.userId){this.isLoading=!1;return}this.isLoading=!0,this.orderService.getOrdersByUser(this.userId).subscribe({next:e=>{this.ngZone.run(()=>{let r=(e?.data||[]).filter(c=>(c.vertical||"eats")===this.activeVertical);this.activeOrders=r.filter(c=>this.ACTIVE_STATUSES.includes(c.status));let d=r.filter(c=>!this.ACTIVE_STATUSES.includes(c.status));this.groupedOrders=this.groupByDate(d),this.isLoading=!1,this.refreshEtaMap(),this.activeOrders.length>0&&(this.startPolling(),this.startTicker()),this.cdr.detectChanges()})},error:()=>{this.ngZone.run(()=>{this.isLoading=!1,this.cdr.detectChanges()})}})}startPolling(){this.stopPolling(),this.pollInterval=setInterval(()=>this.refreshActiveOrders(),15e3)}stopPolling(){this.pollInterval&&(clearInterval(this.pollInterval),this.pollInterval=null)}refreshActiveOrders(){this.activeOrders.length&&this.orderService.getOrdersByUser(this.userId).subscribe({next:e=>{this.ngZone.run(()=>{let r=(e?.data||[]).filter(c=>(c.vertical||"eats")===this.activeVertical),d=r.filter(c=>this.ACTIVE_STATUSES.includes(c.status));if(d.length!==this.activeOrders.length){let c=r.filter(u=>!this.ACTIVE_STATUSES.includes(u.status));this.groupedOrders=this.groupByDate(c)}this.activeOrders=d,this.refreshEtaMap(),this.activeOrders.length===0&&(this.stopPolling(),this.stopTicker()),this.cdr.detectChanges()})}})}groupByDate(e){let t=new Date;t.setHours(0,0,0,0);let r=new Date(t);r.setDate(t.getDate()-1);let d=new Date(t);d.setDate(t.getDate()-7);let c={Today:[],Yesterday:[],"This Week":[],Earlier:[]};for(let u of e){let y=new Date(u.createdAt);y.setHours(0,0,0,0),y.getTime()===t.getTime()?c.Today.push(u):y.getTime()===r.getTime()?c.Yesterday.push(u):y>=d?c["This Week"].push(u):c.Earlier.push(u)}return Object.entries(c).filter(([,u])=>u.length>0).map(([u,y])=>({label:u,orders:y}))}setFilter(e){this.activeFilter=e,this.cdr.detectChanges()}get showActiveCards(){return this.activeOrders.length>0&&(this.activeFilter==="all"||this.activeFilter==="active")}get filteredGroupedOrders(){return this.activeFilter==="all"?this.groupedOrders:this.groupedOrders.map(e=>({label:e.label,orders:e.orders.filter(t=>this.activeFilter==="delivered"?t.status==="delivered":this.activeFilter==="cancelled"?t.status==="cancelled":!0)})).filter(e=>e.orders.length>0)}get isEmpty(){return!this.showActiveCards&&this.filteredGroupedOrders.length===0}orderHasDeliveryBoy(e){return!!(e?.deliveryBoy?.name||e?.deliveryBoy?.phone)}getStatusStep(e){return this.STATUS_STEPS.indexOf(e)}getStatusLabel(e){return{placed:"Order Placed",confirmed:"Confirmed",out_for_delivery:"On the Way",delivered:"Delivered",cancelled:"Cancelled"}[e]||e}getStatusIcon(e){return{placed:"receipt-outline",confirmed:"checkmark-circle-outline",out_for_delivery:"bicycle-outline",delivered:"checkmark-done-circle-outline",cancelled:"close-circle-outline"}[e]||"ellipse-outline"}getStatusColor(e){return e==="delivered"?"#2ecc71":e==="cancelled"?"#e74c3c":"#F85C70"}getVendorNames(e){return e?.vendorOrders?.length?e.vendorOrders.map(t=>t.vendorName).join(" + "):""}getItemCount(e){return e?.vendorOrders?.length?e.vendorOrders.reduce((t,r)=>t+r.items.reduce((d,c)=>d+(c.quantity||1),0),0):0}getEstimatedMinutes(e){if(!e?.estimatedDeliveryTime)return 30;let t=new Date(e.estimatedDeliveryTime).getTime()-Date.now();return Math.max(0,Math.ceil(t/6e4))}navigateToDetail(e){this.router.navigate(["/order-detail"],{queryParams:{orderId:e}})}openTracking(e){e?.orderId&&this.router.navigate(["/order-tracking"],{queryParams:{orderId:e.orderId}})}callDeliveryBoy(e){let t=e?.deliveryBoy?.phone;t&&window.open(`tel:${t}`)}cancelOrder(e){return z(this,null,function*(){if(!e||e.status!=="placed")return;yield(yield this.alertCtrl.create({header:"Cancel Order",message:`Cancel order ${e.orderId}?`,buttons:[{text:"No",role:"cancel"},{text:"Yes, Cancel",role:"destructive",handler:()=>{this.orderService.cancelOrder(e.orderId).subscribe({next:()=>{this.commonService.presentToast("bottom","Order cancelled","success"),this.loadOrders()},error:()=>{this.commonService.presentToast("bottom","Failed to cancel order","danger")}})}}]})).present()})}startTicker(){this.stopTicker(),this.tickerInterval=setInterval(()=>{this.ngZone.run(()=>{this.refreshEtaMap(),this.cdr.detectChanges()})},6e4)}stopTicker(){this.tickerInterval&&(clearInterval(this.tickerInterval),this.tickerInterval=null)}refreshEtaMap(){let e={};for(let t of this.activeOrders)e[t.orderId]=this.computeEta(t);this.etaMap=e}computeEta(e){let t=Date.now(),r=e.etaMinutes||30,d=e.estimatedDeliveryTime?new Date(e.estimatedDeliveryTime).getTime():t+r*6e4,c=d-r*6e4,u=t-c,y=Math.min(100,Math.max(2,Math.round(u/(r*6e4)*100))),k=Math.max(0,Math.ceil((d-t)/6e4)),V=e.vertical==="mart",T="";return e.status==="placed"?T=V?"Waiting for store to accept":"Waiting for restaurant":e.status==="confirmed"?T=V?k>15?"Packing your order":"Almost packed":k>15?"Preparing your order":"Getting ready for pickup":e.status==="out_for_delivery"&&(T="On the way to you"),{minsLeft:k,pctElapsed:y,phaseLabel:T}}getEtaArrivalTime(e){if(!e?.estimatedDeliveryTime)return"";let t=new Date(e.estimatedDeliveryTime),r=t.getHours(),d=t.getMinutes().toString().padStart(2,"0"),c=r>=12?"PM":"AM";return`${r%12||12}:${d} ${c}`}goHome(){this.router.navigate(["/tabs/home-main"])}reorder(e){if(!e?.vendorOrders?.length)return;let t=e.vertical||"eats",r=[];for(let d of e.vendorOrders)if(d.status!=="cancelled")for(let c of d.items||[])r.push({_id:c.product?._id||c.product,productName:c.productName,price:c.price,actualPrice:c.actualPrice||c.price,itemCount:c.quantity||1,vendorId:d.vendor?._id||d.vendor,vendorName:d.vendorName,vendorImage:""});if(r.length===0){this.commonService.presentToast("bottom","Nothing to reorder","danger");return}this.storageService.saveCartByVertical(t,r),this.storageService.saveActiveVertical(t),this.commonService.presentToast("bottom",`${r.length} item${r.length>1?"s":""} added to cart`,"success"),this.router.navigate(["/tabs/cart"])}getVerticalLabel(e){return e?.vertical==="mart"?"Mart":"Eats"}getVerticalIcon(e){return e?.vertical==="mart"?"bag-handle-outline":"restaurant-outline"}getEmptyStateText(){return this.activeFilter==="delivered"?"No delivered orders yet":this.activeFilter==="cancelled"?"No cancelled orders":"No orders yet"}getEmptyStateSubtext(){return this.activeFilter==="delivered"?"Your completed orders will appear here":this.activeFilter==="cancelled"?"Cancelled orders will show up here":`Your order history will appear here.
Start by browsing restaurants!`}static{this.\u0275fac=function(t){return new(t||n)(O(W),O(U),O(ee),O(ne),O(te),O(Q),O(j),O(B))}}static{this.\u0275cmp=D({type:n,selectors:[["app-orders"]],standalone:!1,decls:8,vars:3,consts:[[1,"ion-no-border"],[1,"orders-title"],["class","filter-tabs",4,"ngIf"],[1,"orders-content"],["class","skeleton-wrap",4,"ngIf"],[4,"ngIf"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],["class","filter-badge",4,"ngIf"],[1,"filter-badge"],[1,"skeleton-wrap"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],["animated","",2,"width","60%","height","16px","border-radius","8px"],["animated","",2,"width","80%","height","12px","border-radius","6px","margin-top","8px"],["animated","",2,"width","40%","height","12px","border-radius","6px","margin-top","6px"],["class","history-section",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","active-orders-header",4,"ngIf"],["class","active-order-card",3,"highlight","click",4,"ngFor","ngForOf"],[1,"active-orders-header"],["name","layers-outline"],[1,"active-order-card",3,"click"],[1,"active-header"],[1,"active-header-left"],[1,"active-status-dot","pulse"],[1,"active-status-label"],[1,"active-order-id"],[1,"progress-track-wrap"],[1,"progress-steps"],["class","progress-step",3,"done","active",4,"ngFor","ngForOf"],[1,"progress-labels"],[4,"ngFor","ngForOf"],["class","delivery-boy-row",4,"ngIf"],[1,"active-vendors"],["name","storefront-outline",1,"vendor-icon"],["class","eta-widget",3,"click",4,"ngIf"],["class","eta-waiting",4,"ngIf"],[1,"active-meta"],[1,"active-meta-left"],[1,"meta-chip"],[1,"active-actions-row"],["class","cancel-order-btn",3,"click",4,"ngIf"],["class","track-btn",3,"click",4,"ngIf"],["class","call-btn",3,"click",4,"ngIf"],[1,"active-track-hint"],["name","chevron-forward-outline"],[1,"progress-step"],[1,"step-dot"],["name","checkmark",4,"ngIf"],["class","step-connector",3,"filled",4,"ngIf"],["name","checkmark"],[1,"step-connector"],[1,"delivery-boy-row"],["name","bicycle-outline",1,"db-icon"],[1,"db-name"],["class","db-vehicle",4,"ngIf"],[1,"db-vehicle"],[1,"eta-widget",3,"click"],[1,"eta-top-row"],[1,"eta-time-block"],[1,"eta-mins"],[1,"eta-unit"],[1,"eta-info"],[1,"eta-arriving"],[1,"eta-phase"],[1,"eta-arrival-time"],["name","alarm-outline"],[1,"eta-bar-track"],[1,"eta-bar-fill"],[1,"eta-bar-shimmer"],[1,"eta-bottom-row"],[1,"eta-pct"],[1,"eta-steps-hint"],[1,"eta-waiting"],["name","hourglass-outline"],[1,"cancel-order-btn",3,"click"],["name","close-circle-outline"],[1,"track-btn",3,"click"],["name","navigate-outline"],[1,"call-btn",3,"click"],["name","call-outline"],[1,"history-section"],["class","history-group",4,"ngFor","ngForOf"],[1,"history-group"],[1,"group-label"],["class","history-card",3,"click",4,"ngFor","ngForOf"],[1,"history-card",3,"click"],[1,"history-status-bar"],[1,"history-card-body"],[1,"history-icon-wrap"],[3,"name"],[1,"history-info"],[1,"history-order-id-row"],[1,"history-order-id"],[1,"history-vertical-tag"],[1,"history-vendor"],[1,"history-meta"],[1,"history-right"],[1,"history-status-chip"],["class","reorder-btn",3,"click",4,"ngIf"],[1,"reorder-btn",3,"click"],["name","refresh-outline"],[1,"empty-state"],[1,"empty-icon-wrap"],[1,"empty-icon",3,"name"],[1,"empty-title"],[1,"empty-subtitle"],["class","empty-browse-btn",3,"click",4,"ngIf"],[1,"empty-browse-btn",3,"click"]],template:function(t,r){t&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),s(3,"My Orders"),a()(),g(4,se,10,9,"div",2),a(),o(5,"ion-content",3),g(6,de,2,2,"div",4)(7,ze,4,3,"ng-container",5),a()),t&2&&(i(4),f("ngIf",!r.isLoading),i(2),f("ngIf",r.isLoading),i(),f("ngIf",!r.isLoading))},dependencies:[$,N,G,Z,q,Y,J,K],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: #fff}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;padding:0 16px 12px;background:#fff;overflow-x:auto;-webkit-overflow-scrolling:touch}.filter-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter-tab[_ngcontent-%COMP%]{background:#f0f0f0;border:none;border-radius:20px;padding:7px 18px;font-family:latoBold,sans-serif;font-size:13px;color:#888;cursor:pointer;white-space:nowrap;transition:background .2s,color .2s;display:flex;align-items:center;gap:5px}.filter-tab.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff}.filter-tab.active[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{background:#ffffff4d;color:#fff}.filter-badge[_ngcontent-%COMP%]{background:#f85c70;color:#fff;font-family:latoBold,sans-serif;font-size:10px;border-radius:20px;padding:1px 6px;min-width:18px;text-align:center}.orders-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:20px;color:#1a1a1a}.orders-content[_ngcontent-%COMP%]{--background: #f5f5f5}.skeleton-wrap[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:12px}.skeleton-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:18px}.active-orders-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:14px 20px 4px}.active-orders-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#f85c70}.active-orders-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#888;text-transform:uppercase;letter-spacing:.5px}.active-order-card[_ngcontent-%COMP%]{margin:16px 16px 8px;background:linear-gradient(135deg,#f85c70,#fc8c5c);border-radius:18px;padding:18px 18px 14px;cursor:pointer;position:relative;overflow:hidden}.active-order-card.highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightPulse 1.5s ease 2}@keyframes _ngcontent-%COMP%_highlightPulse{0%,to{box-shadow:0 4px 24px #f85c704d}50%{box-shadow:0 4px 40px #f85c70b3}}.active-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.active-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.active-status-dot[_ngcontent-%COMP%]{width:10px;height:10px;background:#fff;border-radius:50%}.active-status-dot.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_livePulse 1.5s ease infinite}@keyframes _ngcontent-%COMP%_livePulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.4)}}.active-status-label[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#fff}.active-order-id[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#fffc;background:#ffffff26;border-radius:20px;padding:3px 10px}.progress-track-wrap[_ngcontent-%COMP%]{margin-bottom:14px}.progress-steps[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:6px}.progress-step[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1}.progress-step[_ngcontent-%COMP%]:last-child{flex:0}.step-dot[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:50%;background:#ffffff4d;border:2px solid rgba(255,255,255,.5);flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:background .3s}.step-dot[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:10px;color:#f85c70}.done[_ngcontent-%COMP%]   .step-dot[_ngcontent-%COMP%]{background:#fff;border-color:#fff}.active[_ngcontent-%COMP%]   .step-dot[_ngcontent-%COMP%]{background:#fff;border-color:#fff;box-shadow:0 0 0 4px #ffffff4d}.step-connector[_ngcontent-%COMP%]{flex:1;height:3px;background:#ffffff4d;margin:0 2px;border-radius:2px}.step-connector.filled[_ngcontent-%COMP%]{background:#fff}.progress-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.progress-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:9px;color:#ffffffb3;text-align:center;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.eta-widget[_ngcontent-%COMP%]{background:#ffffff26;border-radius:14px;padding:14px;margin-bottom:12px;border:1px solid rgba(255,255,255,.2)}.eta-top-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.eta-time-block[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:4px;flex-shrink:0}.eta-mins[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:36px;color:#fff;line-height:1}.eta-unit[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:15px;color:#fffc;margin-bottom:3px}.eta-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:3px;min-width:0}.eta-arriving[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#ffffffa6;text-transform:uppercase;letter-spacing:.4px}.eta-phase[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#fff}.eta-arrival-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px;flex-shrink:0;background:#ffffff26;border-radius:10px;padding:6px 10px}.eta-arrival-time[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px;color:#fffc}.eta-arrival-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:12px;color:#fff;white-space:nowrap}.eta-bar-track[_ngcontent-%COMP%]{width:100%;height:7px;background:#fff3;border-radius:4px;overflow:hidden;margin-bottom:8px}.eta-bar-fill[_ngcontent-%COMP%]{height:100%;background:#fff;border-radius:4px;position:relative;overflow:hidden;transition:width 1.2s cubic-bezier(.4,0,.2,1);min-width:8px}.eta-bar-shimmer[_ngcontent-%COMP%]{position:absolute;top:0;left:-80%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.7),transparent);animation:_ngcontent-%COMP%_etaShimmer 2s linear infinite}@keyframes _ngcontent-%COMP%_etaShimmer{0%{left:-60%}to{left:120%}}.eta-bottom-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.eta-pct[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#ffffffa6}.eta-steps-hint[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#fffc}.eta-waiting[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:#ffffff1f;border-radius:12px;padding:12px 14px;margin-bottom:12px;border:1px dashed rgba(255,255,255,.3)}.eta-waiting[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#fffc;animation:_ngcontent-%COMP%_hourglassRock 2s ease-in-out infinite;flex-shrink:0}.eta-waiting[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#ffffffe6}@keyframes _ngcontent-%COMP%_hourglassRock{0%,to{transform:rotate(0)}25%{transform:rotate(15deg)}75%{transform:rotate(-15deg)}}.active-vendors[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.active-vendors[_ngcontent-%COMP%]   .vendor-icon[_ngcontent-%COMP%]{font-size:16px;color:#fffc}.active-vendors[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#fff}.active-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.active-meta-left[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}.meta-chip[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#ffffffe6;background:#ffffff26;border-radius:20px;padding:3px 10px}.delivery-boy-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:10px;padding:6px 10px;background:#ffffff26;border-radius:10px}.delivery-boy-row[_ngcontent-%COMP%]   .db-icon[_ngcontent-%COMP%]{font-size:16px;color:#fff}.delivery-boy-row[_ngcontent-%COMP%]   .db-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#fff;flex:1}.delivery-boy-row[_ngcontent-%COMP%]   .db-vehicle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#ffffffb3;background:#ffffff26;border-radius:8px;padding:2px 8px}.active-actions-row[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:10px}.cancel-order-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:#ffffff26;border:1px solid rgba(255,255,255,.4);border-radius:20px;color:#fff;font-family:latoBold,sans-serif;font-size:13px;padding:7px 16px;cursor:pointer}.cancel-order-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.track-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:#2ecc71;border:none;border-radius:20px;color:#fff;font-family:latoBold,sans-serif;font-size:13px;padding:7px 16px;cursor:pointer;flex:1;justify-content:center;box-shadow:0 0 10px #2ecc7180;animation:_ngcontent-%COMP%_trackGlow 2s ease infinite}.track-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}@keyframes _ngcontent-%COMP%_trackGlow{0%,to{box-shadow:0 0 8px #2ecc7166}50%{box-shadow:0 0 18px #2ecc71cc}}.call-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:#fff3;border:1.5px solid rgba(255,255,255,.6);border-radius:20px;color:#fff;font-family:latoBold,sans-serif;font-size:13px;padding:7px 16px;cursor:pointer}.call-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.active-track-hint[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px}.active-track-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#ffffffb3}.active-track-hint[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3}.history-section[_ngcontent-%COMP%]{padding:8px 16px 24px}.history-group[_ngcontent-%COMP%]{margin-bottom:4px}.group-label[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:12px;color:#888;text-transform:uppercase;letter-spacing:.8px;padding:14px 0 8px}.history-card[_ngcontent-%COMP%]{display:flex;background:#fff;border-radius:14px;overflow:hidden;margin-bottom:10px;cursor:pointer;box-shadow:0 1px 6px #0000000f;transition:box-shadow .2s}.history-card[_ngcontent-%COMP%]:active{box-shadow:0 2px 12px #0000001a}.history-status-bar[_ngcontent-%COMP%]{width:4px;flex-shrink:0}.history-card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px;flex:1}.history-icon-wrap[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;flex-shrink:0}.history-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.history-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px;min-width:0}.history-order-id[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#1a1a1a}.history-vendor[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.history-meta[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#aaa}.history-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:5px;flex-shrink:0}.history-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a}.history-status-chip[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:10px;border-radius:20px;padding:2px 8px}.history-order-id-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:2px}.history-vertical-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:3px;font-family:latoBold,sans-serif;font-size:9px;background:#f85c701f;color:#f85c70;border-radius:20px;padding:1px 6px}.history-vertical-tag[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:10px}.history-vertical-tag.mart-tag[_ngcontent-%COMP%]{background:#4a5bf51f;color:#4a5bf5}.reorder-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin-top:4px;padding:5px 12px;border-radius:20px;border:1.5px solid #F85C70;background:#fff8f9;color:#f85c70;font-family:latoBold,sans-serif;font-size:12px;cursor:pointer;white-space:nowrap;transition:background .15s}.reorder-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px}.reorder-btn[_ngcontent-%COMP%]:active{background:#ffe8eb}.empty-icon-wrap[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:40px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 32px;text-align:center}.empty-icon[_ngcontent-%COMP%]{font-size:40px;color:#ccc}.empty-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:22px;color:#1a1a1a;margin:0 0 10px}.empty-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#888;line-height:1.5;margin:0 0 28px}.empty-browse-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:15px;border:none;border-radius:30px;padding:14px 32px;cursor:pointer}"]})}}return n})();var Be=[{path:"",component:re}],oe=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=F({type:n})}static{this.\u0275inj=E({imports:[I.forChild(Be),I]})}}return n})();var et=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=F({type:n})}static{this.\u0275inj=E({imports:[L,H,I,X,oe]})}}return n})();export{et as OrdersPageModule};
