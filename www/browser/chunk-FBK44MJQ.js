import{a as F}from"./chunk-TLQDSTAD.js";import{a as R}from"./chunk-SEJJ64TJ.js";import"./chunk-UVB6L6ON.js";import{a as N}from"./chunk-EVNIR4QR.js";import"./chunk-ATZI6UPN.js";import{a as z}from"./chunk-UGG7OXGH.js";import{B as s,C as t,D as e,E as i,Fa as S,Ga as E,I as b,J as m,Ja as C,K as f,Rb as j,S as a,T as x,Ua as I,Zb as D,ja as M,m as g,mb as T,na as w,o as h,p as P,sb as V,u as c,w as d,x as y,xa as k,y as u,z as v}from"./chunk-U3GTSJOD.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{e as O}from"./chunk-JHI3MBHO.js";function W(n,p){n&1&&(t(0,"div",25),i(1,"ion-icon",26),a(2," Vendor Account "),e())}function q(n,p){n&1&&(t(0,"div",27),i(1,"ion-icon",28),a(2," Delivery Partner "),e())}function G(n,p){if(n&1&&(t(0,"span",31),a(1),e()),n&2){let r=f(2);c(),x(r.pendingOrderCount)}}function J(n,p){if(n&1){let r=b();t(0,"div",29),m("click",function(){h(r);let o=f();return P(o.goToVendorOrders())}),t(1,"div",11),i(2,"ion-icon",26),e(),t(3,"span",13),a(4,"Manage Orders"),e(),v(5,G,2,1,"span",30),i(6,"ion-icon",14),e()}if(n&2){let r=f();c(5),s("ngIf",r.pendingOrderCount>0)}}function K(n,p){if(n&1){let r=b();t(0,"div",32),m("click",function(){h(r);let o=f();return P(o.goToDeliveryOrders())}),t(1,"div",33),i(2,"ion-icon",28),e(),t(3,"span",13),a(4,"My Deliveries"),e(),i(5,"ion-icon",14),e()}}var A=(()=>{class n{constructor(r,l,o,_,U,H){this.storageService=r,this.router=l,this.cdr=o,this.commonService=_,this.vendorOrderService=U,this.pushNotif=H,this.user={},this.pendingOrderCount=0}get isVendor(){return this.user?.userType==="vendor"}get isDelivery(){return this.user?.userType==="delivery"}ionViewWillEnter(){this.user=this.storageService.getUser(),this.pendingOrderCount=0,this.isVendor&&this.user?.vendorId&&this.vendorOrderService.getOrdersByVendor(this.user.vendorId,"placed").subscribe({next:r=>{this.pendingOrderCount=r?.data?.length||0,this.cdr.detectChanges()},error:()=>{this.pendingOrderCount=0}}),this.cdr.detectChanges()}goToVendorOrders(){this.router.navigate(["/vendor-orders"])}goToDeliveryOrders(){this.router.navigate(["/delivery-orders"])}goToOrders(){this.router.navigate(["/tabs/orders"])}logout(){return O(this,null,function*(){yield this.pushNotif.clearToken(),this.storageService.clean(),this.router.navigate(["/"],{replaceUrl:!0})})}static{this.\u0275fac=function(l){return new(l||n)(d(z),d(S),d(M),d(N),d(F),d(R))}}static{this.\u0275cmp=y({type:n,selectors:[["app-profile"]],standalone:!1,decls:42,vars:6,consts:[[1,"profile-hero"],[1,"avatar-wrap"],["name","person-outline"],[1,"hero-name"],[1,"hero-mobile"],["class","vendor-tag",4,"ngIf"],["class","vendor-tag delivery-tag",4,"ngIf"],[1,"profile-menu"],["class","menu-item vendor-menu-item",3,"click",4,"ngIf"],["class","menu-item delivery-menu-item",3,"click",4,"ngIf"],["routerLink","/location-setup",1,"menu-item"],[1,"menu-icon-wrap"],["name","location-outline"],[1,"menu-label"],["name","chevron-forward-outline",1,"menu-arrow"],[1,"menu-item",3,"click"],["name","receipt-outline"],[1,"menu-item"],[1,"menu-icon-wrap","help-icon-wrap"],["name","help-circle-outline"],[1,"menu-icon-wrap","info-icon-wrap"],["name","information-circle-outline"],[1,"logout-btn",3,"click"],["name","log-out-outline"],[1,"app-version"],[1,"vendor-tag"],["name","storefront-outline"],[1,"vendor-tag","delivery-tag"],["name","bicycle-outline"],[1,"menu-item","vendor-menu-item",3,"click"],["class","pending-badge",4,"ngIf"],[1,"pending-badge"],[1,"menu-item","delivery-menu-item",3,"click"],[1,"menu-icon-wrap","delivery-icon-wrap"]],template:function(l,o){l&1&&(t(0,"ion-content")(1,"div",0)(2,"div",1),i(3,"ion-icon",2),e(),t(4,"h2",3),a(5),e(),t(6,"p",4),a(7),e(),v(8,W,3,0,"div",5)(9,q,3,0,"div",6),e(),t(10,"div",7),v(11,J,7,1,"div",8)(12,K,6,0,"div",9),t(13,"div",10)(14,"div",11),i(15,"ion-icon",12),e(),t(16,"span",13),a(17,"Manage Addresses"),e(),i(18,"ion-icon",14),e(),t(19,"div",15),m("click",function(){return o.goToOrders()}),t(20,"div",11),i(21,"ion-icon",16),e(),t(22,"span",13),a(23,"Order History"),e(),i(24,"ion-icon",14),e(),t(25,"div",17)(26,"div",18),i(27,"ion-icon",19),e(),t(28,"span",13),a(29,"Help & Support"),e(),i(30,"ion-icon",14),e(),t(31,"div",17)(32,"div",20),i(33,"ion-icon",21),e(),t(34,"span",13),a(35,"About Twinker"),e(),i(36,"ion-icon",14),e()(),t(37,"button",22),m("click",function(){return o.logout()}),i(38,"ion-icon",23),a(39," Log out "),e(),t(40,"p",24),a(41,"Twinker v1.0.0"),e()()),l&2&&(c(5),x((o.user==null?null:o.user.fullName)||"User"),c(2),x((o.user==null?null:o.user.mobileNo)||""),c(),s("ngIf",o.isVendor),c(),s("ngIf",o.isDelivery),c(2),s("ngIf",o.isVendor),c(),s("ngIf",o.isDelivery))},dependencies:[w,T,V,j,E],styles:["ion-content[_ngcontent-%COMP%]{--background: #f5f5f5}.profile-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);padding:28px 0 44px;display:flex;flex-direction:column;align-items:center;position:relative}.avatar-wrap[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:36px;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px #0000002e;margin-bottom:12px}.avatar-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:44px;color:#f85c70}.hero-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:20px;color:#fff;margin:0 0 4px}.hero-mobile[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#ffffffd1;margin:0}.vendor-tag[_ngcontent-%COMP%]{margin-top:10px;background:#ffffff38;border:1px solid rgba(255,255,255,.5);border-radius:20px;padding:4px 14px;font-family:latoBold,sans-serif;font-size:12px;color:#fff;letter-spacing:.4px;display:flex;align-items:center;gap:5px}.vendor-tag[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px}.delivery-tag[_ngcontent-%COMP%]{background:#4a5bf533;border-color:#4a5bf566}.profile-menu[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:16px 16px 20px;overflow:hidden;box-shadow:0 4px 20px #00000014}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:13px 18px;border-bottom:1px solid #f4f4f4;cursor:pointer;transition:background .12s}.menu-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.menu-item[_ngcontent-%COMP%]:active{background:#fafafa}.menu-icon-wrap[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:12px;background:#fff0f2;display:flex;align-items:center;justify-content:center;flex-shrink:0}.menu-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#f85c70}.vendor-menu-item[_ngcontent-%COMP%]   .menu-icon-wrap[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff0f2,#ffe8e0)}.delivery-icon-wrap[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a5bf51a,#4a5bf50f)!important}.delivery-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4a5bf5!important}.menu-label[_ngcontent-%COMP%]{flex:1;margin-left:14px;font-family:latoRegular,sans-serif;font-size:15px;color:#1a1a1a}.pending-badge[_ngcontent-%COMP%]{background:#f85c70;color:#fff;font-size:11px;font-family:latoBold,sans-serif;min-width:20px;height:20px;border-radius:10px;padding:0 6px;display:inline-flex;align-items:center;justify-content:center;margin-right:6px;box-shadow:0 2px 6px #f85c7066}.menu-arrow[_ngcontent-%COMP%]{font-size:17px;color:#d0d0d0}.help-icon-wrap[_ngcontent-%COMP%]{background:#f0f4ff}.help-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4a5bf5}.info-icon-wrap[_ngcontent-%COMP%]{background:#f0faf5}.info-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2dbcb6}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;width:calc(100% - 32px);margin:4px 16px 12px;padding:13px;border-radius:14px;border:1.5px solid #FFD6DA;background:#fff8f9;color:#e74c3c;font-family:latoBold,sans-serif;font-size:15px;cursor:pointer;transition:background .15s}.logout-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.logout-btn[_ngcontent-%COMP%]:active{background:#ffe8eb}.app-version[_ngcontent-%COMP%]{text-align:center;padding:4px 0 24px;font-family:latoRegular,sans-serif;font-size:12px;color:#ccc}"]})}}return n})();var Q=[{path:"",component:A}],L=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=u({type:n})}static{this.\u0275inj=g({imports:[C.forChild(Q),C]})}}return n})();var ge=(()=>{class n{static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275mod=u({type:n})}static{this.\u0275inj=g({imports:[k,I,D,L]})}}return n})();export{ge as ProfilePageModule};
