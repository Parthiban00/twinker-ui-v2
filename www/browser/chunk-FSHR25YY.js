import{A as u,B as d,D as l,E as t,F as n,Fa as v,G as p,Jb as j,K as h,L as y,Lb as R,M as f,Nb as N,Qa as E,S as _,T as a,U as g,V as m,W as I,Wb as V,Zb as Y,db as B,eb as F,ka as k,kb as z,la as S,m as x,nb as T,o as b,p as C,pb as A,qb as D,ta as w,w as o,y as O,z as M}from"./chunk-AM2DXERQ.js";function q(e,s){if(e&1&&(t(0,"div",37),p(1,"ion-icon",38),t(2,"span"),a(3),n()()),e&2){let i=f();o(3),m("You're saving \u20B9 ",i.totalSaved.toFixed(2)," on this order")}}function J(e,s){if(e&1&&(t(0,"div",41)(1,"span"),a(2,"Coupon discount"),n(),t(3,"span",43),a(4),n()()),e&2){let i=f(2);o(4),m("-\u20B9",i.couponDiscount.toFixed(2))}}function K(e,s){if(e&1&&(t(0,"span"),a(1),n()),e&2){let i=f(2);o(),m("\u20B9",i.deliveryFee.toFixed(2))}}function L(e,s){e&1&&(t(0,"span",43),a(1,"FREE"),n())}function Q(e,s){if(e&1&&(t(0,"div",41)(1,"span"),a(2,"Platform fee"),n(),t(3,"span"),a(4),n()()),e&2){let i=f(2);o(4),m("\u20B9",i.platformFee.toFixed(2))}}function U(e,s){if(e&1&&(t(0,"div",41)(1,"span"),a(2),n(),t(3,"span"),a(4),n()()),e&2){let i=f(2);o(2),g(i.feeBreakdown.tax.label),o(2),m("\u20B9",i.taxAmount.toFixed(2))}}function W(e,s){if(e&1&&(t(0,"div",39),d(1,J,5,1,"div",40),t(2,"div",41)(3,"span"),a(4,"Delivery"),n(),d(5,K,2,1,"span",35)(6,L,2,0,"span",42),n(),d(7,Q,5,1,"div",40)(8,U,5,2,"div",40),n()),e&2){let i=f();o(),l("ngIf",i.couponDiscount>0),o(4),l("ngIf",!i.feeBreakdown.delivery.freeDeliveryApplied),o(),l("ngIf",i.feeBreakdown.delivery.freeDeliveryApplied),o(),l("ngIf",i.platformFee>0),o(),l("ngIf",i.taxAmount>0)}}function X(e,s){e&1&&p(0,"div",54)}function Z(e,s){e&1&&(t(0,"span",55),a(1,"Soon"),n())}function ee(e,s){if(e&1){let i=h();t(0,"button",44),y("click",function(){let r=b(i).$implicit,P=f();return C(P.selectPayment(r.id))}),t(1,"div",45)(2,"div",46),d(3,X,1,0,"div",47),n()(),t(4,"div",48),p(5,"ion-icon",49),n(),t(6,"div",50)(7,"span",51),a(8),n(),t(9,"span",52),a(10),n()(),d(11,Z,2,0,"span",53),n()}if(e&2){let i=s.$implicit,c=f();_("selected",c.selectedPayment===i.id)("disabled",!i.enabled),o(3),l("ngIf",c.selectedPayment===i.id),o(),_("disabled-icon",!i.enabled),o(),l("name",i.icon),o(3),g(i.name),o(2),g(i.description),o(),l("ngIf",!i.enabled)}}function te(e,s){e&1&&(t(0,"div",56),p(1,"ion-icon",57),t(2,"span"),a(3,"Please keep exact change ready for the delivery partner"),n()())}function ne(e,s){e&1&&(t(0,"span"),a(1,"Confirm & Place Order"),n())}function ie(e,s){e&1&&(t(0,"span",58),p(1,"ion-spinner",59),a(2," Placing order... "),n())}var $=(()=>{class e{constructor(i){this.modalCtrl=i,this.totalAmount=0,this.totalItems=0,this.totalSaved=0,this.deliveryAddress="",this.deliveryFee=0,this.platformFee=0,this.taxAmount=0,this.feeBreakdown=null,this.appliedOffer=null,this.couponDiscount=0,this.selectedPayment="COD",this.isPlacing=!1,this.paymentOptions=[{id:"COD",name:"Cash on Delivery",description:"Pay when your order arrives",icon:"cash-outline",enabled:!0},{id:"PG",name:"Payment Gateway",description:"Coming soon",icon:"card-outline",enabled:!1}]}ngOnInit(){}selectPayment(i){this.paymentOptions.find(r=>r.id===i)?.enabled&&(this.selectedPayment=i)}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirmOrder(){this.isPlacing=!0,setTimeout(()=>{this.modalCtrl.dismiss({paymentMethod:this.selectedPayment,totalAmount:this.totalAmount},"confirm")},400)}static{this.\u0275fac=function(c){return new(c||e)(O(V))}}static{this.\u0275cmp=M({type:e,selectors:[["app-payment"]],inputs:{totalAmount:"totalAmount",totalItems:"totalItems",totalSaved:"totalSaved",deliveryAddress:"deliveryAddress",deliveryFee:"deliveryFee",platformFee:"platformFee",taxAmount:"taxAmount",feeBreakdown:"feeBreakdown",appliedOffer:"appliedOffer",couponDiscount:"couponDiscount"},standalone:!1,decls:54,vars:15,consts:[[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back","color","dark"],[1,"payment-title"],[1,"payment-content",3,"scrollY"],[1,"order-summary-card"],[1,"summary-top"],[1,"summary-icon-wrap"],["name","receipt-outline"],[1,"summary-details"],[1,"summary-label"],[1,"summary-amount"],[1,"summary-badge"],[1,"badge-text"],["class","savings-strip",4,"ngIf"],["class","fee-mini-summary",4,"ngIf"],[1,"section"],[1,"section-label"],["name","location-outline",1,"section-icon"],[1,"address-card"],[1,"address-left"],[1,"address-tag"],["name","business-outline"],[1,"address-text"],[1,"change-link"],["name","wallet-outline",1,"section-icon"],[1,"payment-options"],["class","payment-option",3,"selected","disabled","click",4,"ngFor","ngForOf"],["class","info-note",4,"ngIf"],[1,"confirm-footer"],[1,"footer-top"],[1,"footer-total-label"],[1,"footer-total-amount"],[1,"confirm-btn",3,"click","disabled"],[4,"ngIf"],["class","placing-text",4,"ngIf"],[1,"savings-strip"],["name","pricetag-outline"],[1,"fee-mini-summary"],["class","fee-mini-row",4,"ngIf"],[1,"fee-mini-row"],["class","fee-mini-green",4,"ngIf"],[1,"fee-mini-green"],[1,"payment-option",3,"click"],[1,"option-radio"],[1,"radio-outer"],["class","radio-inner",4,"ngIf"],[1,"option-icon-wrap"],[3,"name"],[1,"option-text"],[1,"option-name"],[1,"option-desc"],["class","soon-tag",4,"ngIf"],[1,"radio-inner"],[1,"soon-tag"],[1,"info-note"],["name","information-circle-outline"],[1,"placing-text"],["name","crescent",1,"btn-spinner"]],template:function(c,r){c&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),y("click",function(){return r.cancel()}),p(4,"ion-icon",3),n()(),t(5,"ion-title",4),a(6,"Confirm Order"),n()()(),t(7,"ion-content",5)(8,"div",6)(9,"div",7)(10,"div",8),p(11,"ion-icon",9),n(),t(12,"div",10)(13,"span",11),a(14,"Order Total"),n(),t(15,"span",12),a(16),n()(),t(17,"div",13)(18,"span",14),a(19),n()()(),d(20,q,4,1,"div",15),n(),d(21,W,9,5,"div",16),t(22,"div",17)(23,"div",18),p(24,"ion-icon",19),t(25,"span"),a(26,"Delivering to"),n()(),t(27,"div",20)(28,"div",21)(29,"span",22),p(30,"ion-icon",23),a(31," Office "),n(),t(32,"p",24),a(33),n()(),t(34,"button",25),a(35,"Change"),n()()(),t(36,"div",17)(37,"div",18),p(38,"ion-icon",26),t(39,"span"),a(40,"Payment method"),n()(),t(41,"div",27),d(42,ee,12,11,"button",28),n()(),d(43,te,4,0,"div",29),n(),t(44,"ion-footer",0)(45,"div",30)(46,"div",31)(47,"span",32),a(48,"Total"),n(),t(49,"span",33),a(50),n()(),t(51,"button",34),y("click",function(){return r.confirmOrder()}),d(52,ne,2,0,"span",35)(53,ie,3,0,"span",36),n()()()),c&2&&(o(7),l("scrollY",!0),o(9),m("\u20B9 ",r.totalAmount.toFixed(2)),o(3),I("",r.totalItems," ",r.totalItems===1?"item":"items"),o(),l("ngIf",r.totalSaved>0),o(),l("ngIf",r.feeBreakdown),o(12),g(r.deliveryAddress||"Default delivery address"),o(9),l("ngForOf",r.paymentOptions),o(),l("ngIf",r.selectedPayment==="COD"),o(7),m("\u20B9 ",r.totalAmount.toFixed(2)),o(),_("placing",r.isPlacing),l("disabled",r.isPlacing),o(),l("ngIf",!r.isPlacing),o(),l("ngIf",r.isPlacing))},dependencies:[k,S,B,F,z,T,A,D,j,R,N],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-width: 0}.payment-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:18px;color:#1a1a1a}.payment-content[_ngcontent-%COMP%]{--background: #fff}ion-footer[_ngcontent-%COMP%]{background:#fff}.order-summary-card[_ngcontent-%COMP%]{margin:16px 20px 20px;background:linear-gradient(135deg,#f85c70,#fc5c7d);border-radius:16px;overflow:hidden}.summary-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:18px 18px 14px}.summary-icon-wrap[_ngcontent-%COMP%]{width:44px;height:44px;background:#fff3;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.summary-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#fff}.summary-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.summary-label[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#fffc}.summary-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:22px;color:#fff;letter-spacing:.3px}.summary-badge[_ngcontent-%COMP%]{background:#fff3;border-radius:20px;padding:5px 12px;flex-shrink:0}.summary-badge[_ngcontent-%COMP%]   .badge-text[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:12px;color:#fff}.savings-strip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#ffffff26;padding:10px 18px}.savings-strip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#fff}.savings-strip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#fff}.fee-mini-summary[_ngcontent-%COMP%]{margin:0 20px 16px;padding:12px 14px;background:#fafafa;border:1px solid #f0f0f0;border-radius:12px}.fee-mini-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:3px 0;font-family:latoRegular,sans-serif;font-size:13px;color:#888}.fee-mini-row[_ngcontent-%COMP%]   .fee-mini-green[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#2ecc71}.section[_ngcontent-%COMP%]{padding:0 20px 18px}.section-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.section-label[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:18px;color:#888}.section-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#888;text-transform:uppercase;letter-spacing:.5px}.address-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;background:#fafafa;border:1px solid #f0f0f0;border-radius:14px;padding:14px}.address-left[_ngcontent-%COMP%]{flex:1;min-width:0}.address-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;font-family:latoBold,sans-serif;font-size:13px;color:#1a1a1a;margin-bottom:6px}.address-tag[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px;color:#f85c70}.address-text[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#888;line-height:1.4;margin:0}.change-link[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;cursor:pointer;padding:0;flex-shrink:0;margin-left:12px}.payment-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;width:100%;background:#fff;border:1.5px solid #eee;border-radius:14px;padding:14px 16px;cursor:pointer;transition:border-color .2s,background .2s;text-align:left}.payment-option.selected[_ngcontent-%COMP%]{border-color:#f85c70;background:#fff5f6}.payment-option.disabled[_ngcontent-%COMP%]{opacity:.55;cursor:not-allowed}.option-radio[_ngcontent-%COMP%]{flex-shrink:0}.radio-outer[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:2px solid #ccc;display:flex;align-items:center;justify-content:center;transition:border-color .2s}.selected[_ngcontent-%COMP%]   .radio-outer[_ngcontent-%COMP%]{border-color:#f85c70}.radio-inner[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#f85c70}.option-icon-wrap[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:#fff0f1;display:flex;align-items:center;justify-content:center;flex-shrink:0}.option-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#f85c70}.option-icon-wrap.disabled-icon[_ngcontent-%COMP%]{background:#f0f0f0}.option-icon-wrap.disabled-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#999}.option-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px;min-width:0}.option-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a}.option-desc[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888}.soon-tag[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:3px 10px;font-family:latoBold,sans-serif;font-size:11px;color:#999;flex-shrink:0}.info-note[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;margin:0 20px 20px;padding:12px 14px;background:#fff8e1;border-radius:12px}.info-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#f59e0b;flex-shrink:0;margin-top:1px}.info-note[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#92700c;line-height:1.4}.confirm-footer[_ngcontent-%COMP%]{background:#fff;border-top:1px solid #f0f0f0;padding:14px 20px;padding-bottom:calc(14px + env(safe-area-inset-bottom))}.footer-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.footer-total-label[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#888}.footer-total-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:20px;color:#1a1a1a}.confirm-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#f85c70,#fc5c7d);color:#fff;font-family:latoBold,sans-serif;font-size:16px;border:none;border-radius:30px;padding:15px;cursor:pointer;transition:opacity .2s,transform .1s}.confirm-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98)}.confirm-btn[_ngcontent-%COMP%]:disabled{opacity:.85;cursor:not-allowed}.confirm-btn.placing[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa8a99,#fd8da0)}.placing-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.btn-spinner[_ngcontent-%COMP%]{width:20px;height:20px;--color: #fff}"]})}}return e})();var oe=[{path:"",component:$}],H=(()=>{class e{static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275mod=u({type:e})}static{this.\u0275inj=x({imports:[v.forChild(oe),v]})}}return e})();var ye=(()=>{class e{static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275mod=u({type:e})}static{this.\u0275inj=x({imports:[w,E,Y,H]})}}return e})();export{$ as a,ye as b};
