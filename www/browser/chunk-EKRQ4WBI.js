import{a as R}from"./chunk-7IJLS62Y.js";import{a as Ct}from"./chunk-ZBLHFQ54.js";import{a as bt,b as vt}from"./chunk-3QDLUYRS.js";import{a as xt}from"./chunk-RH4O7VWY.js";import{a as ht}from"./chunk-6GAUFMC7.js";import{a as N}from"./chunk-NRKDQ5D2.js";import{a as ft}from"./chunk-5AN2NTKU.js";import{A as b,B as _,C as c,D as Q,E as j,Ea as rt,F as U,H as W,I as y,J as m,K as x,Ka as at,L as P,La as st,M as A,Qa as ct,R as J,Ra as B,U as Y,V as K,Wa as lt,Xa as D,Z as E,_ as X,aa as Z,ba as V,e as k,fa as tt,fb as mt,g,ga as et,gb as dt,h as u,ia as nt,k as L,la as q,m as G,n as S,nb as pt,o,pb as gt,q as v,r as T,s as z,t as p,u as l,v as r,w as a,wa as it,wb as ut,x as h,xb as _t,y as I,ya as ot,z as M,zb as F}from"./chunk-4FIZF6KI.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{e as w}from"./chunk-JHI3MBHO.js";var kt=["menuAnchor"],St=()=>["Free delivery","Take away"];function Tt(i,d){if(i&1&&(r(0,"ion-title",49),m(1),a()),i&2){let t=c();o(),x(t.displayVendor.name)}}function zt(i,d){if(i&1){let t=b();r(0,"button",50),_("click",function(){let n=g(t).$implicit,s=c();return u(s.selectCategory(n.id))}),m(1),a()}if(i&2){let t=d.$implicit,e=c();y("active",e.selectedCategory===t.id),o(),P(" ",t.name," ")}}function Et(i,d){if(i&1&&(r(0,"span",51),m(1),a()),i&2){let t=d.$implicit;o(),P(" ",t," ")}}function Vt(i,d){if(i&1&&(r(0,"div",56),h(1,"ion-icon",57),r(2,"span"),m(3),a()()),i&2){let t=d.$implicit;o(),W("color",t.color),l("name",t.icon),o(2),x(t.label)}}function Bt(i,d){if(i&1&&(r(0,"div",52)(1,"p",53),m(2,"Discount for you"),a(),r(3,"div",54),p(4,Vt,4,4,"div",55),a()()),i&2){let t=c();o(4),l("ngForOf",t.displayDiscounts)}}function Dt(i,d){if(i&1){let t=b();r(0,"ion-icon",58),_("click",function(){g(t);let n=c();return u(n.clearSearch())}),a()}}function Ft(i,d){if(i&1){let t=b();r(0,"button",50),_("click",function(){let n=g(t).$implicit,s=c();return u(s.selectCategory(n.id))}),m(1),a()}if(i&2){let t=d.$implicit,e=c();y("active",e.selectedCategory===t.id),o(),P(" ",t.name," ")}}function Nt(i,d){if(i&1&&(r(0,"span",74),m(1),a()),i&2){let t=c(2).$implicit,e=c(2);o(),x(e.getDisplayCount(t))}}function Rt(i,d){if(i&1){let t=b();I(0),r(1,"div",71)(2,"button",72),_("click",function(){g(t);let n=c().$implicit,s=c(2);return u(s.addItem(n))}),m(3,"Add"),a(),p(4,Nt,2,1,"span",73),a(),M()}if(i&2){let t=c().$implicit,e=c(2);o(4),l("ngIf",e.getDisplayCount(t))}}function $t(i,d){if(i&1){let t=b();r(0,"button",72),_("click",function(){g(t);let n=c(2).$implicit,s=c(2);return u(s.addItem(n))}),m(1,"Add"),a()}}function jt(i,d){if(i&1){let t=b();r(0,"div",77)(1,"button",78),_("click",function(){g(t);let n=c(2).$implicit,s=c(2);return u(s.removeItem(n))}),m(2,"-"),a(),r(3,"span",79),m(4),a(),r(5,"button",78),_("click",function(){g(t);let n=c(2).$implicit,s=c(2);return u(s.addItem(n))}),m(6,"+"),a()()}if(i&2){let t=c(2).$implicit;o(4),x(t.itemCount)}}function Ut(i,d){if(i&1&&(I(0),p(1,$t,2,0,"button",75)(2,jt,7,1,"div",76),M()),i&2){let t=c().$implicit;o(),l("ngIf",!t.itemCount),o(),l("ngIf",t.itemCount)}}function At(i,d){i&1&&(r(0,"span",80),m(1,"Customisable"),a())}function qt(i,d){if(i&1&&(r(0,"div",63)(1,"div",64),h(2,"img",65),p(3,Rt,5,1,"ng-container",66)(4,Ut,3,2,"ng-container",66),a(),r(5,"p",67),m(6),a(),r(7,"p",68),m(8),a(),r(9,"p",69),m(10),a(),p(11,At,2,0,"span",70),a()),i&2){let t=d.$implicit,e=c(2);o(2),l("src",e.getItemImage(t),S)("alt",t.productName),o(),l("ngIf",e.isCustomizable(t)),o(),l("ngIf",!e.isCustomizable(t)),o(2),x(t.productName),o(2),x(t.description),o(2),P("$ ",t.price),o(),l("ngIf",e.isCustomizable(t))}}function Ht(i,d){if(i&1&&(r(0,"div",59)(1,"h3",60),m(2,"Most popular"),a(),r(3,"div",61),p(4,qt,12,8,"div",62),a()()),i&2){let t=c();o(4),l("ngForOf",t.filteredPopularItems)}}function Lt(i,d){i&1&&h(0,"img",96)}function Gt(i,d){i&1&&h(0,"img",97)}function Qt(i,d){i&1&&h(0,"img",98)}function Wt(i,d){if(i&1&&(r(0,"span",99),m(1),Y(2,"uppercase"),a()),i&2){let t=c().$implicit;o(),x(K(2,1,t.tag))}}function Jt(i,d){i&1&&(r(0,"span",80),m(1,"Customisable"),a())}function Yt(i,d){if(i&1&&(r(0,"span",74),m(1),a()),i&2){let t=c(2).$implicit,e=c(3);o(),x(e.getDisplayCount(t))}}function Kt(i,d){if(i&1){let t=b();I(0),r(1,"div",71)(2,"button",72),_("click",function(){g(t);let n=c().$implicit,s=c(3);return u(s.addItem(n))}),m(3,"Add"),a(),p(4,Yt,2,1,"span",73),a(),M()}if(i&2){let t=c().$implicit,e=c(3);o(4),l("ngIf",e.getDisplayCount(t))}}function Xt(i,d){if(i&1){let t=b();r(0,"button",72),_("click",function(){g(t);let n=c(2).$implicit,s=c(3);return u(s.addItem(n))}),m(1,"Add"),a()}}function Zt(i,d){if(i&1){let t=b();r(0,"div",77)(1,"button",78),_("click",function(){g(t);let n=c(2).$implicit,s=c(3);return u(s.removeItem(n))}),m(2,"-"),a(),r(3,"span",79),m(4),a(),r(5,"button",78),_("click",function(){g(t);let n=c(2).$implicit,s=c(3);return u(s.addItem(n))}),m(6,"+"),a()()}if(i&2){let t=c(2).$implicit;o(4),x(t.itemCount)}}function te(i,d){if(i&1&&(I(0),p(1,Xt,2,0,"button",75)(2,Zt,7,1,"div",76),M()),i&2){let t=c().$implicit;o(),l("ngIf",!t.itemCount),o(),l("ngIf",t.itemCount)}}function ee(i,d){if(i&1&&(r(0,"div",84)(1,"div",85)(2,"div",86),p(3,Lt,1,0,"img",87)(4,Gt,1,0,"img",88)(5,Qt,1,0,"img",89)(6,Wt,3,3,"span",90),a(),r(7,"h4",91),m(8),a(),r(9,"p",92),m(10),a(),r(11,"p",93),m(12),a(),p(13,Jt,2,0,"span",70),a(),r(14,"div",94),h(15,"img",95),p(16,Kt,5,1,"ng-container",66)(17,te,3,2,"ng-container",66),a()()),i&2){let t=d.$implicit,e=c(3);o(3),l("ngIf",t.type==="non-veg"),o(),l("ngIf",t.type==="veg"),o(),l("ngIf",t.type==="egg"),o(),l("ngIf",t.tag&&t.tag!=="none"),o(2),x(t.productName),o(2),x(t.description),o(2),P("$ ",t.price),o(),l("ngIf",e.isCustomizable(t)),o(2),l("src",e.getItemImage(t),S)("alt",t.productName),o(),l("ngIf",e.isCustomizable(t)),o(),l("ngIf",!e.isCustomizable(t))}}function ne(i,d){if(i&1&&(r(0,"div",82)(1,"h3",60),m(2),a(),p(3,ee,18,12,"div",83),a()),i&2){let t=c().$implicit,e=c();l("id","section-"+t.category._id),o(2),x(t.category.categoryName),o(),l("ngForOf",e.getFilteredProducts(t.products))}}function ie(i,d){if(i&1&&(I(0),p(1,ne,4,3,"div",81),M()),i&2){let t=d.$implicit,e=c();o(),l("ngIf",t.category._id!=="popular"&&e.getFilteredProducts(t.products).length)}}function oe(i,d){if(i&1&&(r(0,"div",100),h(1,"ion-icon",101),r(2,"p"),m(3),a()()),i&2){let t=c();o(3),P('No dishes found for "',t.searchTerm,'"')}}function re(i,d){if(i&1){let t=b();r(0,"button",102),_("click",function(){let n=g(t).$implicit,s=c();return u(s.navigateToCategory(n.category._id))}),r(1,"span",103),m(2),a(),r(3,"span",104),m(4),a()()}if(i&2){let t=d.$implicit,e=c();y("active",e.selectedCategory===t.category._id),o(2),x(t.category.categoryName),o(2),x(t.products.length)}}function ae(i,d){if(i&1){let t=b();r(0,"div",105),_("click",function(){g(t);let n=c();return u(n.goToCart())}),r(1,"div",106)(2,"span",107),m(3),a(),r(4,"span",108),m(5),a()(),r(6,"div",109)(7,"span",110),m(8),a(),h(9,"ion-icon",111),a()()}if(i&2){let t=c();y("shifted",t.showMenuSheet),o(3),A("",t.cartTotalItems," ",t.cartTotalItems===1?"Item":"Items"),o(2),A("",t.cartFirstItemName,"",t.cartItems.length>1?" & more":""),o(3),P("$ ",t.cartTotalPrice.toFixed(2))}}var yt=(()=>{class i{constructor(t,e,n,s,C,f,O,$,Mt){this.popoverController=t,this.router=e,this.modalCtrl=n,this.storageService=s,this.commonService=C,this.navController=f,this.eventBus=O,this.activatedRoute=$,this.itemService=Mt,this.vendorId="",this.imgBaseUrl=ft.imageBaseUrl,this.productDetails=[],this.selectedCategory="",this.specialOfferItems=[],this.categoryTabs=[],this.mostPopularItems=[],this.displayProducts=[],this.vegOnly=!1,this.searchTerm="",this.starRating=3,this.averageRating=3,this.comments="",this.activeSegment="items",this.stickyHeader=!1,this.menuThreshold=0,this.showMenuSheet=!1,this.cartItems=[],this.dummyVendor={name:"Bottega Ristorante",address:"Fatmagustu, 92180, Jakarta",description:"Italian restaurant serving a variety of pasta, pizza, and continental dishes",rating:4.6,distance:"4.2km",deliveryTime:"30 min",priceRange:"200 for two",cuisine:"Chicagostyle",tags:["Free delivery","Take away","Chicagostyle"],profileImgUrl:"",dummyImg:"assets/shop.jpg"},this.dummyDiscounts=[{label:"1 Mln discount 17%",icon:"pricetag-outline",color:"#2DBCB6"},{label:"Shopping discount 10%",icon:"cart-outline",color:"#4A5BF5"}],this.dummyProducts=[{category:{_id:"popular",categoryName:"Popular"},products:[]},{category:{_id:"main-courses",categoryName:"Main Courses"},products:[{_id:"m1",productName:"Bottega's Fried Rice",description:"Orange beans, chicken, tomato, lemon, mushroom, peas pilaf",price:9.5,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"popular",dummyImg:"assets/fried-rice.jpg",customizable:[],itemCount:0,customizationGroups:[{_id:"cg-m1-size",groupName:"Choose Size",type:"single",required:!0,options:[{_id:"cg-m1-s1",name:"Regular",price:0,isDefault:!0},{_id:"cg-m1-s2",name:"Medium",price:2},{_id:"cg-m1-s3",name:"Large",price:4}]},{_id:"cg-m1-extras",groupName:"Add Extras",type:"multi",required:!1,maxSelect:3,options:[{_id:"cg-m1-e1",name:"Extra Egg",price:1.5},{_id:"cg-m1-e2",name:"Extra Chicken",price:2.5},{_id:"cg-m1-e3",name:"Mushrooms",price:1},{_id:"cg-m1-e4",name:"Spicy Sauce",price:0}]}]},{_id:"m2",productName:"Salmon with Bacon",description:"Fresh salmon fillet wrapped in crispy bacon with herbs",price:12.5,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"popular",dummyImg:"assets/fish.jpg",customizable:[],itemCount:0},{_id:"m3",productName:"Saut\xE9 Olio With Sambal Matah",description:"Tuna fish mixed, olive oil, garlic, ginger, chili, rice",price:8.5,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"none",dummyImg:"assets/biriyani.jpg",customizable:[],itemCount:0},{_id:"m4",productName:"Chicken Parmigiana",description:"Breaded chicken cutlet with marinara and mozzarella",price:10.5,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"popular",dummyImg:"assets/chicken.jpg",customizable:[],itemCount:0}]},{category:{_id:"appetizer",categoryName:"Appetizer"},products:[{_id:"a1",productName:"Chicken Lollipop",description:"Crispy chicken drumettes with sweet chili sauce",price:6.5,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"none",dummyImg:"assets/chicken.jpg",customizable:[],itemCount:0},{_id:"a2",productName:"Calamari",description:"Deep fried calamari rings with tartar sauce",price:7,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"popular",dummyImg:"assets/sea-foods.jpg",customizable:[],itemCount:0},{_id:"a3",productName:"French Fries with Grated Parmesan",description:"Crispy fries topped with grated parmesan cheese",price:5.5,imageUrl:"",isAvailable:!0,type:"veg",tag:"none",dummyImg:"assets/meals.jpg",customizable:[],itemCount:0,customizationGroups:[{_id:"cg-a3-portion",groupName:"Choose Portion",type:"single",required:!0,options:[{_id:"cg-a3-p1",name:"Small",price:0,isDefault:!0},{_id:"cg-a3-p2",name:"Regular",price:1.5},{_id:"cg-a3-p3",name:"Large",price:3}]}]},{_id:"a4",productName:"Nachos Chili Con Carne",description:"Tortilla chips with spiced beef, cheese, jalapenos",price:8,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"none",dummyImg:"assets/beaf.jpeg",customizable:[],itemCount:0}]},{category:{_id:"pizza-pasta",categoryName:"Pizza & Pasta"},products:[{_id:"p1",productName:"Spaghetti Aglio Olio with Chili",description:"Spaghetti with garlic, olive oil, chili flakes and grilled chicken",price:9,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"none",dummyImg:"assets/parotta.jpeg",customizable:[],itemCount:0},{_id:"p2",productName:"Beef Pepperoni Pizza",description:"Classic pizza with beef pepperoni and mozzarella",price:11,imageUrl:"",isAvailable:!0,type:"non-veg",tag:"none",dummyImg:"assets/beaf.jpeg",customizable:[],itemCount:0,customizationGroups:[{_id:"cg-p2-crust",groupName:"Choose Crust",type:"single",required:!0,options:[{_id:"cg-p2-c1",name:"Classic Hand Tossed",price:0,isDefault:!0},{_id:"cg-p2-c2",name:"Thin Crust",price:0},{_id:"cg-p2-c3",name:"Cheese Burst",price:3}]},{_id:"cg-p2-toppings",groupName:"Extra Toppings",type:"multi",required:!1,maxSelect:4,options:[{_id:"cg-p2-t1",name:"Extra Cheese",price:2},{_id:"cg-p2-t2",name:"Jalapenos",price:1},{_id:"cg-p2-t3",name:"Olives",price:1},{_id:"cg-p2-t4",name:"Onions",price:.5}]}]},{_id:"p3",productName:"Sauce Mac & Cheese",description:"Creamy macaroni and cheese baked to perfection",price:7.5,imageUrl:"",isAvailable:!0,type:"veg",tag:"none",dummyImg:"assets/meals.jpg",customizable:[],itemCount:0}]}]}ngOnInit(){this.initDummyPopularItems(),this.updateDisplayData(),this.loadCartFromStorage()}ionViewWillEnter(){this.userData=this.storageService.getUser(),this.activatedRoute.queryParams.subscribe(t=>{this.vendorId=t.vendorId,this.vendorId&&(this.getAllProductsByVendor(this.vendorId),this.getDiscountedItemsByVendor(this.vendorId),this.getVendorDetails(this.vendorId),this.getReviewsByVendor(this.vendorId))})}ionViewDidEnter(){return w(this,null,function*(){setTimeout(()=>w(this,null,function*(){if(this.menuAnchorRef&&this.content){let e=this.menuAnchorRef.nativeElement.getBoundingClientRect(),n=yield this.content.getScrollElement();this.menuThreshold=e.top+n.scrollTop-56}}),300)})}onScroll(t){let e=t.detail.scrollTop,n=this.menuThreshold||400,s=e>n;s!==this.stickyHeader&&(this.stickyHeader=s)}handleSearchInput(t){this.searchTerm=t.detail.value||""}onInlineSearch(t){this.searchTerm=t.target.value||""}clearSearch(){this.searchTerm=""}get filteredPopularItems(){if(!this.searchTerm)return this.mostPopularItems;let t=this.searchTerm.toLowerCase();return this.mostPopularItems.filter(e=>e.productName?.toLowerCase().includes(t))}getFilteredProducts(t){let e=t;if(this.vegOnly&&(e=e.filter(n=>n.type==="veg")),this.searchTerm){let n=this.searchTerm.toLowerCase();e=e.filter(s=>s.productName?.toLowerCase().includes(n)||s.description?.toLowerCase().includes(n))}return e}hasSearchResults(){if(this.filteredPopularItems.length)return!0;for(let t of this.displayProducts)if(t.category._id!=="popular"&&this.getFilteredProducts(t.products).length)return!0;return!1}initDummyPopularItems(){let t=this.dummyProducts.filter(n=>n.category._id!=="popular").flatMap(n=>n.products),e=t.filter(n=>n.tag==="popular");this.dummyProducts[0].products=e.length?e:t.slice(0,4)}updateDisplayData(){let t=this.productDetails.length?this.productDetails:this.dummyProducts;this.displayProducts=t,this.categoryTabs=t.map(n=>({id:n.category._id,name:n.category.categoryName})),this.categoryTabs.length&&!this.selectedCategory&&(this.selectedCategory=this.categoryTabs[0].id);let e=t.flatMap(n=>n.products);this.mostPopularItems=e.filter(n=>n.tag==="popular"||n.tag==="bestseller").slice(0,6),this.mostPopularItems.length||(this.mostPopularItems=e.slice(0,6))}get displayVendor(){return this.vendorDetails||this.dummyVendor}get displayDiscounts(){return this.dummyDiscounts}isCustomizable(t){return t.customizationGroups?.length>0}selectCategory(t){this.selectedCategory=t;let e=document.getElementById("section-"+t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}getItemImage(t){return t.imageUrl?this.imgBaseUrl+t.imageUrl:t.dummyImg||"assets/announcement-banner.jpg"}getCoverImage(){return this.vendorDetails?.profileImgUrl?this.imgBaseUrl+this.vendorDetails.profileImgUrl:this.dummyVendor.dummyImg}addItem(t){this.isCustomizable(t)?this.openModal(t):(t.itemCount=(t.itemCount||0)+1,this.syncCart())}removeItem(t){if(this.isCustomizable(t)){let e=this.cartItems.map(n=>n._id).lastIndexOf(t._id);e>-1&&(this.cartItems.splice(e,1),this.saveCartToStorage())}else t.itemCount>0&&(t.itemCount--,this.syncCart())}getCustomizedItemCount(t){return this.cartItems.filter(e=>e._id===t&&e.cartItemId).reduce((e,n)=>e+n.itemCount,0)}getDisplayCount(t){return this.isCustomizable(t)?this.getCustomizedItemCount(t._id):t.itemCount||0}syncCart(){let e=this.displayProducts.flatMap(s=>s.products).filter(s=>s.itemCount>0&&!this.isCustomizable(s)),n=this.cartItems.filter(s=>s.cartItemId);this.cartItems=[...e,...n],this.saveCartToStorage()}get cartTotalItems(){return this.cartItems.reduce((t,e)=>t+e.itemCount,0)}get cartTotalPrice(){return this.cartItems.reduce((t,e)=>t+e.price*e.itemCount,0)}get cartFirstItemName(){return this.cartItems.length?this.cartItems[0].productName:""}saveCartToStorage(){let t=this.displayVendor,e=this.cartItems.map(n=>({_id:n._id,cartItemId:n.cartItemId||null,productName:n.productName,price:n.price,basePrice:n.basePrice||n.price,itemCount:n.itemCount,imageUrl:n.imageUrl,dummyImg:n.dummyImg,type:n.type,customizations:n.customizations||null,customizationSummary:n.customizationSummary||null,vendorId:n.vendorId||this.vendorId,vendorName:n.vendorName||t.name,vendorImage:n.vendorImage||t.profileImgUrl||t.dummyImg,vendorCuisine:n.vendorCuisine||t.cuisine||t.slogan}));localStorage.setItem("cart-items",JSON.stringify(e))}loadCartFromStorage(){let t=localStorage.getItem("cart-items");if(t)try{let e=JSON.parse(t),n=this.displayProducts.flatMap(f=>f.products);e.filter(f=>!f.cartItemId).forEach(f=>{let O=n.find($=>$._id===f._id);O&&(O.itemCount=f.itemCount)});let s=e.filter(f=>f.cartItemId),C=n.filter(f=>f.itemCount>0&&!this.isCustomizable(f));this.cartItems=[...C,...s]}catch(e){}}onToggleChange(t){this.vegOnly=t.detail.checked}onRatingUpdated(t){this.starRating=t}segmentChange(t){this.activeSegment=t.detail.value}goBack(){this.navController.back()}toggleMenuSheet(){this.showMenuSheet=!this.showMenuSheet}navigateToCategory(t){this.showMenuSheet=!1,this.selectedCategory=t,setTimeout(()=>{let e=document.getElementById("section-"+t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},150)}getAllProductsByVendor(t){let e=this.vegOnly?"?vegOnly=true":""+this.searchTerm?`?search=${this.searchTerm}`:"";this.itemService.getAllProductsByVendor(t,e).subscribe({next:n=>{if(n.status)if(n.data){if(this.productDetails=n.data,this.productDetails){let s=this.productDetails.map(C=>C.products||[]).reduce((C,f)=>C.concat(f),[]).filter(C=>C.tag&&C.tag!=="none");if(s.length>0){let C={category:{categoryName:"Popular",closeTime:"",status:!0,vendor:s[0]?.vendor,_id:"featured-items"},products:s};this.productDetails.unshift(C)}}this.selectedCategory="",this.updateDisplayData()}else this.productDetails=[];else this.commonService.presentToast("bottom",n.message,"danger")},error:n=>{this.commonService.presentToast("bottom",n.error.message?n.error.message:"Error while fetching products!","danger")}})}getVendorDetails(t){this.itemService.getVendorDetails(t).subscribe({next:e=>{e.status?e.data?this.vendorDetails=e.data:this.vendorDetails=null:this.commonService.presentToast("bottom",e.message,"danger")},error:e=>{this.commonService.presentToast("bottom",e.error.message?e.error.message:"Error while fetching vendor details!","danger")}})}getDiscountedItemsByVendor(t){this.itemService.getDiscountedProductsByVendor(t).subscribe({next:e=>{e.status?e.data?this.specialOfferItems=e.data:this.specialOfferItems=[]:this.commonService.presentToast("bottom",e.message,"danger")},error:e=>{this.commonService.presentToast("bottom",e.error.message?e.error.message:"Error while fetching special offer items!","danger")}})}getReviewsByVendor(t){this.itemService.getReviewByVendor(t).subscribe({next:e=>{e.status?e.data&&(this.customerReviews=e.data,this.averageRating=e.data.averageRating):this.commonService.presentToast("bottom",e.message,"danger")},error:e=>{this.commonService.presentToast("bottom",e.error.message?e.error.message:"Error while fetching reviews!","danger")}})}submitReview(){let t={userId:this.userData._id,vendorId:this.vendorId,starCount:this.starRating,comments:this.comments};this.itemService.addReview(t).subscribe({next:e=>{e.status?this.getReviewsByVendor(this.vendorId):this.commonService.presentToast("bottom",e.message,"danger")},error:e=>{this.commonService.presentToast("bottom",e.error.message?e.error.message:"Error while add review","danger")}})}openModal(t){return w(this,null,function*(){let e=yield this.modalCtrl.create({component:bt,componentProps:{data:t},breakpoints:[0,1],initialBreakpoint:1,cssClass:"item-customise-sheet",handle:!0});e.present();let{data:n,role:s}=yield e.onWillDismiss();s==="confirm"&&n&&this.handleModalData(n)})}handleModalData(t){let e=t.product,n=this.displayVendor,s={_id:e._id,cartItemId:`${e._id}_${Date.now()}`,productName:e.productName,basePrice:e.price,price:t.totalPrice,itemCount:1,imageUrl:e.imageUrl,dummyImg:e.dummyImg,type:e.type,customizations:t.customizations,customizationSummary:t.customizationSummary,vendorId:this.vendorId,vendorName:n.name,vendorImage:n.profileImgUrl||n.dummyImg,vendorCuisine:n.cuisine||n.slogan};this.cartItems.push(s),this.saveCartToStorage()}goToCart(){this.router.navigate(["/cart"])}static{this.\u0275fac=function(e){return new(e||i)(v(_t),v(nt),v(ut),v(N),v(xt),v(ot),v(Ct),v(et),v(R))}}static{this.\u0275cmp=T({type:i,selectors:[["app-items"]],viewQuery:function(e,n){if(e&1&&Q(B,5)(kt,5,G),e&2){let s;j(s=U())&&(n.content=s.first),j(s=U())&&(n.menuAnchorRef=s.first)}},standalone:!1,decls:66,vars:37,consts:[["menuAnchor",""],[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back",3,"color"],["class","sticky-title",4,"ngIf"],["slot","end"],["slot","icon-only","name","share-social-outline",3,"color"],[1,"sticky-bar"],[1,"sticky-search"],["placeholder","Search for dishes...",1,"sticky-searchbar",3,"ionInput","value","debounce"],[1,"sticky-tabs"],[1,"tabs-scroll"],["class","tab-btn",3,"active","click",4,"ngFor","ngForOf"],[3,"ionScroll","fullscreen","scrollEvents"],[1,"cover-image"],["alt","Restaurant cover",3,"src"],[1,"info-card"],[1,"fav-btn-wrap"],[1,"fav-btn"],["name","heart-outline","color","danger"],[1,"restaurant-name"],[1,"restaurant-address"],[1,"info-badges"],[1,"badge"],["name","star",1,"badge-icon","star"],["name","bicycle-outline",1,"badge-icon"],["name","time-outline",1,"badge-icon"],[1,"tag-pills"],["class","tag-pill",4,"ngFor","ngForOf"],["class","discount-section",4,"ngIf"],[1,"search-bar-inline"],[1,"search-input-wrap"],["name","search-outline",1,"search-icon"],["type","text","placeholder","Search for dishes...",1,"search-input",3,"input","value"],["name","close-circle","class","clear-icon",3,"click",4,"ngIf"],[1,"category-tabs"],["class","popular-section","id","section-popular",4,"ngIf"],[4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"menu-backdrop",3,"click"],[1,"menu-sheet"],[1,"sheet-handle",3,"click"],[1,"sheet-title"],[1,"sheet-list"],["class","sheet-item",3,"active","click",4,"ngFor","ngForOf"],["class","cart-bar",3,"shifted","click",4,"ngIf"],[1,"floating-menu-btn",3,"click"],["name","restaurant-outline"],[1,"sticky-title"],[1,"tab-btn",3,"click"],[1,"tag-pill"],[1,"discount-section"],[1,"discount-label"],[1,"discount-badges"],["class","discount-badge",4,"ngFor","ngForOf"],[1,"discount-badge"],[3,"name"],["name","close-circle",1,"clear-icon",3,"click"],["id","section-popular",1,"popular-section"],[1,"section-title"],[1,"popular-grid"],["class","popular-card",4,"ngFor","ngForOf"],[1,"popular-card"],[1,"popular-img-wrap"],[3,"src","alt"],[4,"ngIf"],[1,"popular-name"],[1,"popular-desc"],[1,"popular-price"],["class","customisable-tag",4,"ngIf"],[1,"add-btn-wrap"],[1,"add-btn",3,"click"],["class","customise-badge",4,"ngIf"],[1,"customise-badge"],["class","add-btn",3,"click",4,"ngIf"],["class","qty-control",4,"ngIf"],[1,"qty-control"],[1,"qty-btn",3,"click"],[1,"qty-count"],[1,"customisable-tag"],["class","category-section",3,"id",4,"ngIf"],[1,"category-section",3,"id"],["class","item-card",4,"ngFor","ngForOf"],[1,"item-card"],[1,"item-info"],[1,"item-type-row"],["src","assets/non-veg.png","class","type-icon",4,"ngIf"],["src","assets/veg.png","class","type-icon",4,"ngIf"],["src","assets/egg.png","class","type-icon",4,"ngIf"],["class","item-tag",4,"ngIf"],[1,"item-name"],[1,"item-desc"],[1,"item-price"],[1,"item-img-wrap"],[1,"item-img",3,"src","alt"],["src","assets/non-veg.png",1,"type-icon"],["src","assets/veg.png",1,"type-icon"],["src","assets/egg.png",1,"type-icon"],[1,"item-tag"],[1,"no-results"],["name","search-outline"],[1,"sheet-item",3,"click"],[1,"sheet-item-name"],[1,"sheet-item-count"],[1,"cart-bar",3,"click"],[1,"cart-bar-info"],[1,"cart-bar-count"],[1,"cart-bar-name"],[1,"cart-bar-action"],[1,"cart-bar-price"],["name","chevron-forward-outline"]],template:function(e,n){if(e&1){let s=b();r(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2)(3,"ion-button",3),_("click",function(){return g(s),u(n.goBack())}),h(4,"ion-icon",4),a()(),p(5,Tt,2,1,"ion-title",5),r(6,"ion-buttons",6)(7,"ion-button"),h(8,"ion-icon",7),a()()(),r(9,"div",8)(10,"div",9)(11,"ion-searchbar",10),_("ionInput",function(f){return g(s),u(n.handleSearchInput(f))}),a()(),r(12,"div",11)(13,"div",12),p(14,zt,2,3,"button",13),a()()()(),r(15,"ion-content",14),_("ionScroll",function(f){return g(s),u(n.onScroll(f))}),r(16,"div",15),h(17,"img",16),a(),r(18,"div",17)(19,"div",18)(20,"button",19),h(21,"ion-icon",20),a()(),r(22,"h1",21),m(23),a(),r(24,"p",22),m(25),a(),r(26,"div",23)(27,"div",24),h(28,"ion-icon",25),r(29,"span"),m(30),a()(),r(31,"div",24),h(32,"ion-icon",26),r(33,"span"),m(34),a()(),r(35,"div",24),h(36,"ion-icon",27),r(37,"span"),m(38),a()()(),r(39,"div",28),p(40,Et,2,1,"span",29),a(),p(41,Bt,5,1,"div",30),r(42,"div",31,0)(44,"div",32),h(45,"ion-icon",33),r(46,"input",34),_("input",function(f){return g(s),u(n.onInlineSearch(f))}),a(),p(47,Dt,1,0,"ion-icon",35),a()(),r(48,"div",36)(49,"div",12),p(50,Ft,2,3,"button",13),a()(),p(51,Ht,5,1,"div",37)(52,ie,2,1,"ng-container",38)(53,oe,4,1,"div",39),a()(),r(54,"div",40),_("click",function(){return g(s),u(n.toggleMenuSheet())}),a(),r(55,"div",41)(56,"div",42),_("click",function(){return g(s),u(n.toggleMenuSheet())}),a(),r(57,"h3",43),m(58,"Menu"),a(),r(59,"div",44),p(60,re,5,4,"button",45),a()(),p(61,ae,10,7,"div",46),r(62,"button",47),_("click",function(){return g(s),u(n.toggleMenuSheet())}),h(63,"ion-icon",48),r(64,"span"),m(65,"Menu"),a()()}e&2&&(y("sticky-active",n.stickyHeader),o(4),l("color",n.stickyHeader?"dark":"light"),o(),l("ngIf",n.stickyHeader),o(3),l("color",n.stickyHeader?"dark":"light"),o(),y("visible",n.stickyHeader),o(2),l("value",n.searchTerm)("debounce",300),o(3),l("ngForOf",n.categoryTabs),o(),l("fullscreen",!0)("scrollEvents",!0),o(2),l("src",n.getCoverImage(),S),o(6),x(n.displayVendor.name),o(2),x(n.displayVendor.address||n.displayVendor.slogan),o(5),x(n.displayVendor.rating||4.6),o(4),x(n.displayVendor.distance||"4.2km"),o(4),x(n.displayVendor.deliveryTime||"30 min"),o(2),l("ngForOf",n.displayVendor.tags||J(36,St)),o(),l("ngIf",n.displayDiscounts.length),o(5),l("value",n.searchTerm),o(),l("ngIf",n.searchTerm),o(3),l("ngForOf",n.categoryTabs),o(),l("ngIf",n.filteredPopularItems.length),o(),l("ngForOf",n.displayProducts),o(),l("ngIf",n.searchTerm&&!n.hasSearchResults()),o(),y("visible",n.showMenuSheet),o(),y("open",n.showMenuSheet),o(5),l("ngForOf",n.displayProducts),o(),l("ngIf",n.cartItems.length),o(),y("hidden",n.showMenuSheet)("above-cart",n.cartItems.length))},dependencies:[E,X,at,st,B,lt,D,dt,pt,gt,rt,Z],styles:["ion-header[_ngcontent-%COMP%]{transition:background .3s ease}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--ion-color-base: transparent !important;--border-width: 0 !important}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .25);--border-radius: 50%;width:36px;height:36px;margin:0 4px}ion-header[_ngcontent-%COMP%]   .sticky-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:16px;color:#1a1a1a!important;padding-left:0}ion-header.sticky-active[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2px 12px #0000000f}ion-header.sticky-active[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #ffffff}ion-header.sticky-active[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #f2f2f2}.sticky-bar[_ngcontent-%COMP%]{max-height:0;opacity:0;overflow:hidden;background:#fff;transition:max-height .35s cubic-bezier(.4,0,.2,1),opacity .25s ease}.sticky-bar.visible[_ngcontent-%COMP%]{max-height:120px;opacity:1}.sticky-bar[_ngcontent-%COMP%]   .sticky-search[_ngcontent-%COMP%]{padding:0 14px}.sticky-bar[_ngcontent-%COMP%]   .sticky-search[_ngcontent-%COMP%]   .sticky-searchbar[_ngcontent-%COMP%]{--background: #f5f5f5;--border-radius: 10px;--box-shadow: none;--placeholder-color: #aaa;--icon-color: #aaa;--height: 38px;padding:0;font-size:13px}.sticky-bar[_ngcontent-%COMP%]   .sticky-tabs[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0}.sticky-bar[_ngcontent-%COMP%]   .sticky-tabs[_ngcontent-%COMP%]   .tabs-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:0 14px;scrollbar-width:none}.sticky-bar[_ngcontent-%COMP%]   .sticky-tabs[_ngcontent-%COMP%]   .tabs-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.sticky-bar[_ngcontent-%COMP%]   .sticky-tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#999;background:none;border:none;border-bottom:2px solid transparent;padding:8px 14px;white-space:nowrap;cursor:pointer;flex-shrink:0;transition:color .2s,border-color .2s}.sticky-bar[_ngcontent-%COMP%]   .sticky-tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{color:#f85c70;border-bottom-color:#f85c70}.cover-image[_ngcontent-%COMP%]{width:100%;height:240px;margin-top:-56px;overflow:hidden}.cover-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:24px 24px 0 0;margin-top:-28px;position:relative;z-index:2;padding:28px 20px 20px;min-height:100vh}.fav-btn-wrap[_ngcontent-%COMP%]{position:absolute;top:-20px;right:20px;z-index:3}.fav-btn-wrap[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#fff;border:none;box-shadow:0 2px 10px #0000001f;display:flex;align-items:center;justify-content:center;cursor:pointer}.fav-btn-wrap[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.restaurant-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:22px;color:#1a1a1a;margin:0 0 4px;line-height:1.2}.restaurant-address[_ngcontent-%COMP%]{font-family:latoRegular;font-size:13px;color:#888;margin:0 0 14px}.info-badges[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:12px}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;background:#f5f5f5;border-radius:20px;padding:6px 12px}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{font-size:15px;color:#888}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   .badge-icon.star[_ngcontent-%COMP%]{color:#f5a623}.info-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#1a1a1a}.tag-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.tag-pills[_ngcontent-%COMP%]   .tag-pill[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#f85c70;border:1px solid #F85C70;border-radius:20px;padding:4px 12px;background:#f85c700f}.discount-section[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:12px 14px;margin-bottom:16px}.discount-section[_ngcontent-%COMP%]   .discount-label[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#1a1a1a;margin:0 0 8px}.discount-section[_ngcontent-%COMP%]   .discount-badges[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.discount-section[_ngcontent-%COMP%]   .discount-badges[_ngcontent-%COMP%]   .discount-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.discount-section[_ngcontent-%COMP%]   .discount-badges[_ngcontent-%COMP%]   .discount-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.discount-section[_ngcontent-%COMP%]   .discount-badges[_ngcontent-%COMP%]   .discount-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#555}.search-bar-inline[_ngcontent-%COMP%]{margin-bottom:14px}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f5f5f5;border-radius:12px;padding:0 14px;height:44px;transition:box-shadow .2s ease}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 1.5px #f85c70}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:18px;color:#aaa;margin-right:10px;flex-shrink:0}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;font-family:latoRegular;font-size:14px;color:#1a1a1a;outline:none;height:100%}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#bbb}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:18px;color:#ccc;cursor:pointer;flex-shrink:0;margin-left:8px;transition:color .15s}.search-bar-inline[_ngcontent-%COMP%]   .search-input-wrap[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{color:#999}.category-tabs[_ngcontent-%COMP%]{margin-bottom:18px;margin-left:-20px;margin-right:-20px;border-bottom:1px solid #f0f0f0}.category-tabs[_ngcontent-%COMP%]   .tabs-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:0 20px;gap:0;scrollbar-width:none}.category-tabs[_ngcontent-%COMP%]   .tabs-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.category-tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#999;background:none;border:none;border-bottom:2px solid transparent;padding:10px 16px;white-space:nowrap;cursor:pointer;transition:color .2s,border-color .2s;flex-shrink:0}.category-tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{color:#f85c70;border-bottom-color:#f85c70}.popular-section[_ngcontent-%COMP%]{margin-bottom:24px}.section-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:17px;color:#1a1a1a;margin:0 0 14px}.popular-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:14px}.popular-card[_ngcontent-%COMP%]{cursor:pointer}.popular-card[_ngcontent-%COMP%]   .popular-img-wrap[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:1/.85;border-radius:14px;overflow:visible;margin-bottom:16px}.popular-card[_ngcontent-%COMP%]   .popular-img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:14px}.popular-card[_ngcontent-%COMP%]   .popular-img-wrap[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:50%;transform:translate(-50%);width:70px;height:28px;background:#fff;color:#2ecc71;border:1px solid #2ecc71;border-radius:6px;font-family:latoBold;font-size:13px;cursor:pointer;box-shadow:0 2px 6px #00000014}.popular-card[_ngcontent-%COMP%]   .popular-img-wrap[_ngcontent-%COMP%]   .qty-control[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:50%;transform:translate(-50%);display:flex;align-items:center;background:#2ecc71;border-radius:6px;overflow:hidden;box-shadow:0 2px 6px #00000014}.popular-card[_ngcontent-%COMP%]   .popular-img-wrap[_ngcontent-%COMP%]   .qty-control[_ngcontent-%COMP%]   .qty-btn[_ngcontent-%COMP%]{width:28px;height:28px;background:#fff;color:#2ecc71;border:1px solid #2ecc71;font-family:latoBold;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center}.popular-card[_ngcontent-%COMP%]   .popular-img-wrap[_ngcontent-%COMP%]   .qty-control[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#fff;padding:0 10px;min-width:14px;text-align:center}.popular-card[_ngcontent-%COMP%]   .popular-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:13px;color:#1a1a1a;margin:0 0 3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.popular-card[_ngcontent-%COMP%]   .popular-desc[_ngcontent-%COMP%]{font-family:latoRegular;font-size:11px;color:#999;margin:0 0 4px;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.popular-card[_ngcontent-%COMP%]   .popular-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#f85c70;margin:0}.category-section[_ngcontent-%COMP%]{margin-bottom:24px;scroll-margin-top:20px}.item-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:14px;padding:14px 0;border-bottom:1px solid #f2f2f2}.item-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-info[_ngcontent-%COMP%]{flex:1;min-width:0}.item-info[_ngcontent-%COMP%]   .item-type-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-bottom:4px}.item-info[_ngcontent-%COMP%]   .item-type-row[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{width:16px;height:16px}.item-info[_ngcontent-%COMP%]   .item-type-row[_ngcontent-%COMP%]   .item-tag[_ngcontent-%COMP%]{font-family:latoBold;font-size:9px;color:#fff;background:#f85c70;border-radius:4px;padding:2px 6px;letter-spacing:.3px}.item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;margin:0 0 4px;line-height:1.3}.item-info[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#999;margin:0 0 6px;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.item-info[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#1a1a1a;margin:0}.item-img-wrap[_ngcontent-%COMP%]{flex:0 0 auto;width:100px;position:relative;display:flex;flex-direction:column;align-items:center}.item-img-wrap[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{width:100px;height:85px;border-radius:14px;object-fit:cover}.item-img-wrap[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:absolute;bottom:-10px;width:70px;height:28px;background:#fff;color:#2ecc71;border:1px solid #2ecc71;border-radius:6px;font-family:latoBold;font-size:13px;cursor:pointer;box-shadow:0 2px 6px #00000014}.item-img-wrap[_ngcontent-%COMP%]   .qty-control[_ngcontent-%COMP%]{position:absolute;bottom:-10px;display:flex;align-items:center;background:#2ecc71;border-radius:6px;overflow:hidden;box-shadow:0 2px 6px #00000014}.item-img-wrap[_ngcontent-%COMP%]   .qty-control[_ngcontent-%COMP%]   .qty-btn[_ngcontent-%COMP%]{width:28px;height:28px;background:#fff;color:#2ecc71;border:1px solid #2ecc71;font-family:latoBold;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center}.item-img-wrap[_ngcontent-%COMP%]   .qty-control[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]{font-family:latoBold;font-size:14px;color:#fff;padding:0 10px;min-width:14px;text-align:center}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 20px;color:#bbb}.no-results[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular;font-size:14px;color:#999;text-align:center;margin:0}.cart-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:998;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#f85c70,#fc5c7d);padding:14px 20px;padding-bottom:calc(14px + env(safe-area-inset-bottom,0px));cursor:pointer;transition:transform .3s ease,opacity .3s ease}.cart-bar.shifted[_ngcontent-%COMP%]{transform:translateY(100%);opacity:0}.cart-bar[_ngcontent-%COMP%]   .cart-bar-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.cart-bar[_ngcontent-%COMP%]   .cart-bar-info[_ngcontent-%COMP%]   .cart-bar-count[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#fff}.cart-bar[_ngcontent-%COMP%]   .cart-bar-info[_ngcontent-%COMP%]   .cart-bar-name[_ngcontent-%COMP%]{font-family:latoRegular;font-size:12px;color:#ffffffd9;max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cart-bar[_ngcontent-%COMP%]   .cart-bar-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.cart-bar[_ngcontent-%COMP%]   .cart-bar-action[_ngcontent-%COMP%]   .cart-bar-price[_ngcontent-%COMP%]{font-family:latoBold;font-size:16px;color:#fff}.cart-bar[_ngcontent-%COMP%]   .cart-bar-action[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff}.floating-menu-btn[_ngcontent-%COMP%]{position:fixed;bottom:24px;left:50%;transform:translate(-50%);z-index:999;display:flex;align-items:center;gap:6px;background:#1a1a1a;color:#fff;border:none;border-radius:30px;padding:12px 24px;font-family:latoBold;font-size:14px;cursor:pointer;box-shadow:0 4px 20px #00000040;transition:transform .3s cubic-bezier(.4,0,.2,1),opacity .3s ease,bottom .3s ease}.floating-menu-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.floating-menu-btn.above-cart[_ngcontent-%COMP%]{bottom:76px}.floating-menu-btn.hidden[_ngcontent-%COMP%]{transform:translate(-50%) translateY(80px);opacity:0;pointer-events:none}.menu-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;z-index:1000;opacity:0;pointer-events:none;transition:opacity .3s ease}.menu-backdrop.visible[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.menu-sheet[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:1001;background:#fff;border-radius:20px 20px 0 0;padding:8px 0 0;max-height:55vh;transform:translateY(100%);transition:transform .35s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column}.menu-sheet.open[_ngcontent-%COMP%]{transform:translateY(0)}.menu-sheet[_ngcontent-%COMP%]   .sheet-handle[_ngcontent-%COMP%]{width:36px;height:4px;background:#ddd;border-radius:2px;margin:0 auto 12px;cursor:pointer}.menu-sheet[_ngcontent-%COMP%]   .sheet-title[_ngcontent-%COMP%]{font-family:latoBold;font-size:18px;color:#1a1a1a;margin:0 0 6px;padding:0 20px}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:4px 0 env(safe-area-inset-bottom,20px)}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;background:none;border:none;padding:14px 20px;cursor:pointer;transition:background .15s ease}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item[_ngcontent-%COMP%]:active{background:#f8f8f8}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item.active[_ngcontent-%COMP%]{background:#f85c700f}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item.active[_ngcontent-%COMP%]   .sheet-item-name[_ngcontent-%COMP%]{color:#f85c70}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item.active[_ngcontent-%COMP%]   .sheet-item-count[_ngcontent-%COMP%]{background:#f85c70;color:#fff}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item[_ngcontent-%COMP%]   .sheet-item-name[_ngcontent-%COMP%]{font-family:latoBold;font-size:15px;color:#1a1a1a;text-align:left}.menu-sheet[_ngcontent-%COMP%]   .sheet-list[_ngcontent-%COMP%]   .sheet-item[_ngcontent-%COMP%]   .sheet-item-count[_ngcontent-%COMP%]{font-family:latoBold;font-size:12px;color:#888;background:#f0f0f0;border-radius:12px;padding:3px 10px;min-width:28px;text-align:center}.customisable-tag[_ngcontent-%COMP%]{font-family:latoRegular;font-size:10px;color:#f85c70;display:block;margin-top:2px}.add-btn-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center}.add-btn-wrap[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:static!important;left:auto!important;transform:none!important}.popular-img-wrap[_ngcontent-%COMP%]   .add-btn-wrap[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:50%;transform:translate(-50%)}.item-img-wrap[_ngcontent-%COMP%]   .add-btn-wrap[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:50%;transform:translate(-50%)}.customise-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:20px;height:20px;border-radius:50%;background:#f85c70;color:#fff;font-family:latoBold;font-size:11px;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 4px #00000026}"]})}}return i})();var se=[{path:"",component:yt}],Pt=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=z({type:i})}static{this.\u0275inj=k({imports:[q.forChild(se),q]})}}return i})();function ce(i,d){if(i&1){let t=b();r(0,"ion-col",1),_("click",function(){let n=g(t).index,s=c();return u(s.onStarClick(n))}),h(1,"ion-icon",2),a()}if(i&2){let t=d.$implicit,e=c();o(),l("name",t?"star":"star-outline")("color",e.color)}}var It=(()=>{class i{constructor(){this.starCount=5,this.color="primary",this.ratingUpdated=new L,this.stars=[]}ngOnInit(){this.calculateStars()}calculateStars(){this.stars=Array(this.starCount).fill(!1).map((t,e)=>e<this.rating)}onStarClick(t){this.rating=t+1,this.calculateStars(),this.ratingUpdated.emit(this.rating)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=T({type:i,selectors:[["app-star-rating"]],inputs:{rating:"rating",starCount:"starCount",color:"color"},outputs:{ratingUpdated:"ratingUpdated"},decls:2,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"font-size","24px",3,"name","color"]],template:function(e,n){e&1&&(r(0,"ion-row"),p(1,ce,2,2,"ion-col",0),a()),e&2&&(o(),l("ngForOf",n.stars))},dependencies:[F,ct,D,mt,V,E],styles:["ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer}"]})}}return i})();var Qe=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=z({type:i})}static{this.\u0275inj=k({providers:[ht,N,R],imports:[V,it,F,Pt,tt,It,vt]})}}return i})();export{Qe as ItemsPageModule};
