import{a as ke,b as Ie}from"./chunk-4BPUJZTK.js";import{b as Be}from"./chunk-F22BKXHD.js";import{a as Se}from"./chunk-C3WCWZX6.js";import{a as Me}from"./chunk-TM7DXTGG.js";import{a as we}from"./chunk-SPXHMXQI.js";import{a as N}from"./chunk-3LO6F2N4.js";import{a as ye}from"./chunk-EVNIR4QR.js";import{a as Oe,b as Pe}from"./chunk-ATZI6UPN.js";import{a as L}from"./chunk-UGG7OXGH.js";import{B as l,C as n,D as o,E as p,F as I,Fa as se,G as S,I as h,J as _,Ja as W,Jb as Ce,K as s,Ka as le,Lb as he,Ma as de,Nb as be,Oa as fe,P as ee,Q as w,S as r,T as v,U as m,Ua as pe,V as M,Wa as ge,Wb as R,X as te,Y as ne,Z as ie,Zb as j,b as K,da as oe,e as Q,fa as ae,fb as me,g as q,gb as _e,ja as z,l as X,m as E,ma as re,mb as ue,n as Z,na as D,o as u,p as x,pb as xe,rb as ve,sb as A,t as Y,u as i,ua as ce,w as b,x as T,xa as F,y as V,z as g}from"./chunk-U3GTSJOD.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{a as H,b as J,e as G}from"./chunk-JHI3MBHO.js";function Le(t,d){if(t&1&&(n(0,"p",17),r(1),o()),t&2){let e=s();i(),v(e.orderCode)}}var Ee=(()=>{class t{constructor(e,a,c,f){this.modalCtrl=e,this.cdr=a,this.eventBus=c,this.storageService=f,this.orderCode="",this.vertical="eats",this.state="success"}ngOnInit(){this.storageService.clearCartByVertical(this.vertical),this.eventBus.emit("cart:updated",0),this.cdr.detectChanges()}trackOrder(){this.modalCtrl.dismiss({action:"track"},"confirm")}goHome(){this.modalCtrl.dismiss({action:"home"},"confirm")}static{this.\u0275fac=function(a){return new(a||t)(b(R),b(z),b(N),b(L))}}static{this.\u0275cmp=T({type:t,selectors:[["app-order-status"]],inputs:{orderCode:"orderCode",vertical:"vertical"},decls:23,vars:1,consts:[[1,"order-status-page"],[1,"status-content","success-content"],[1,"icon-area"],[1,"circle-bg","success-circle"],["name","checkmark",1,"status-icon","check-icon"],[1,"confetti-dot","dot-1"],[1,"confetti-dot","dot-2"],[1,"confetti-dot","dot-3"],[1,"confetti-dot","dot-4"],[1,"confetti-dot","dot-5"],[1,"confetti-dot","dot-6"],[1,"status-title","success-title"],["class","order-code",4,"ngIf"],[1,"status-subtitle"],[1,"action-buttons"],[1,"primary-btn",3,"click"],[1,"secondary-btn",3,"click"],[1,"order-code"]],template:function(a,c){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"ion-icon",4),o(),p(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),o(),n(11,"h1",11),r(12,"Order placed!"),o(),g(13,Le,2,1,"p",12),n(14,"p",13),r(15,"Your order is confirmed."),p(16,"br"),r(17,"Sit back and relax!"),o(),n(18,"div",14)(19,"button",15),_("click",function(){return c.trackOrder()}),r(20,"Track my order"),o(),n(21,"button",16),_("click",function(){return c.goHome()}),r(22,"Back to home"),o()()()()),a&2&&(i(13),l("ngIf",c.orderCode))},dependencies:[F,D,j,A],styles:[".order-status-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background:#fff;padding:40px 32px}.status-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:100%;max-width:320px;animation:_ngcontent-%COMP%_fadeIn .5s ease}.icon-area[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;margin-bottom:36px;display:flex;align-items:center;justify-content:center}.circle-bg[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;z-index:2}.placing-circle[_ngcontent-%COMP%]{background:linear-gradient(145deg,#f85c70,#fc5c7d);box-shadow:0 12px 40px #f85c7059}.success-circle[_ngcontent-%COMP%]{background:linear-gradient(145deg,#f85c70,#fc5c7d);box-shadow:0 12px 40px #f85c7059;animation:_ngcontent-%COMP%_scaleIn .5s cubic-bezier(.34,1.56,.64,1)}.status-icon[_ngcontent-%COMP%]{font-size:48px;color:#fff;z-index:3}.check-icon[_ngcontent-%COMP%]{font-size:56px;font-weight:700;animation:_ngcontent-%COMP%_checkPop .6s cubic-bezier(.34,1.56,.64,1) .2s both}.spinner-arc[_ngcontent-%COMP%]{position:absolute;top:-4px;left:-4px;width:128px;height:128px;z-index:4;animation:_ngcontent-%COMP%_spinArc 1.4s linear infinite}.arc[_ngcontent-%COMP%]{transform-origin:center}.pulse-ring[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border:2px solid rgba(248,92,112,.2);z-index:1}.ring-1[_ngcontent-%COMP%]{width:140px;height:140px;top:0;left:0;animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite}.ring-2[_ngcontent-%COMP%]{width:140px;height:140px;top:0;left:0;animation:_ngcontent-%COMP%_pulseRing 2s ease-out .8s infinite}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:50%;z-index:1;animation:_ngcontent-%COMP%_confettiBurst .8s cubic-bezier(.34,1.56,.64,1) forwards;opacity:0}.dot-1[_ngcontent-%COMP%]{width:10px;height:10px;background:gold;top:0;left:20%;animation-delay:.1s}.dot-2[_ngcontent-%COMP%]{width:8px;height:8px;background:#f85c70;top:10%;right:5%;animation-delay:.2s}.dot-3[_ngcontent-%COMP%]{width:12px;height:12px;background:#4a5bf5;bottom:15%;left:0;animation-delay:.15s}.dot-4[_ngcontent-%COMP%]{width:7px;height:7px;background:#2dbcb6;bottom:5%;right:15%;animation-delay:.25s}.dot-5[_ngcontent-%COMP%]{width:9px;height:9px;background:#ff8c42;top:30%;left:-5%;animation-delay:.3s}.dot-6[_ngcontent-%COMP%]{width:6px;height:6px;background:gold;top:20%;right:-2%;animation-delay:.18s}.status-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:26px;color:#1a1a1a;margin:0 0 10px}.success-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideUp .5s ease .3s both}.order-code[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;background:#f85c7014;border-radius:20px;padding:4px 14px;margin:-4px 0 12px;letter-spacing:.5px;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease .35s both}.status-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:15px;color:#888;line-height:1.5;margin:0 0 36px}.progress-wrap[_ngcontent-%COMP%]{width:100%;margin-bottom:32px}.progress-track[_ngcontent-%COMP%]{width:100%;height:6px;background:#f0f0f0;border-radius:3px;overflow:hidden;margin-bottom:10px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#f85c70,#fc5c7d);border-radius:3px;transition:width 1s linear}.progress-time[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#888}.cancel-btn[_ngcontent-%COMP%]{background:none;border:1.5px solid #e0e0e0;border-radius:30px;padding:13px 40px;font-family:latoBold,sans-serif;font-size:15px;color:#888;cursor:pointer;transition:border-color .2s,color .2s}.cancel-btn[_ngcontent-%COMP%]:active{border-color:#f85c70;color:#f85c70}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease .5s both}.primary-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#f85c70,#fc5c7d);color:#fff;font-family:latoBold,sans-serif;font-size:16px;border:none;border-radius:30px;padding:15px;cursor:pointer;transition:transform .1s}.primary-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.secondary-btn[_ngcontent-%COMP%]{width:100%;background:#fff;color:#1a1a1a;font-family:latoBold,sans-serif;font-size:15px;border:1.5px solid #e0e0e0;border-radius:30px;padding:14px;cursor:pointer;transition:border-color .2s}.secondary-btn[_ngcontent-%COMP%]:active{border-color:#f85c70}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spinArc{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulseRing{0%{transform:scale(1);opacity:.6}to{transform:scale(1.6);opacity:0}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_checkPop{0%{transform:scale(0) rotate(-45deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_confettiBurst{0%{transform:scale(0) translate(0);opacity:0}50%{opacity:1}to{transform:scale(1) translate(var(--tx, 0),var(--ty, 0));opacity:.8}}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}"]})}}return t})();var Te=(()=>{class t{constructor(e){this.webservice=e}calculateFees(e){return this.webservice.post("locality/calculateFees",e)}static{this.\u0275fac=function(a){return new(a||t)(Z(Pe))}}static{this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $e(t,d){if(t&1&&(n(0,"span",17),r(1),o()),t&2){let e=s();i(),v(e.eatsCartCount)}}function Ue(t,d){if(t&1&&(n(0,"span",18),r(1),o()),t&2){let e=s();i(),v(e.martCartCount)}}function Ge(t,d){if(t&1){let e=h();n(0,"div",25),_("click",function(){u(e);let c=s(2);return x(c.switchVertical("mart"))}),p(1,"ion-icon",11),n(2,"span"),r(3),o(),p(4,"ion-icon",26),o()}if(t&2){let e=s(2);i(3),M("You have ",e.martCartCount," item",e.martCartCount>1?"s":""," in your Mart cart")}}function Ke(t,d){if(t&1){let e=h();n(0,"div",25),_("click",function(){u(e);let c=s(2);return x(c.switchVertical("eats"))}),p(1,"ion-icon",9),n(2,"span"),r(3),o(),p(4,"ion-icon",26),o()}if(t&2){let e=s(2);i(3),M("You have ",e.eatsCartCount," item",e.eatsCartCount>1?"s":""," in your Eats cart")}}function qe(t,d){if(t&1){let e=h();n(0,"div",19),p(1,"ion-icon",20),n(2,"h2",21),r(3),o(),n(4,"p",22),r(5),o(),n(6,"button",23),_("click",function(){u(e);let c=s();return x(c.browsRestaurants())}),r(7),o(),g(8,Ge,5,2,"div",24)(9,Ke,5,2,"div",24),o()}if(t&2){let e=s();i(),w("empty-icon-mart",e.activeVertical==="mart"),l("name",e.activeVertical==="mart"?"bag-handle-outline":"cart-outline"),i(2),m(" ",e.activeVertical==="mart"?"Your Mart cart is empty":"Your Eats cart is empty"," "),i(2),m(" ",e.activeVertical==="mart"?"Add groceries, medicines or essentials to get started":"Add items from restaurants to start your order"," "),i(),w("browse-btn-mart",e.activeVertical==="mart"),i(),m(" ",e.activeVertical==="mart"?"Browse Stores":"Browse Restaurants"," "),i(),l("ngIf",e.activeVertical==="eats"&&e.martCartCount>0),i(),l("ngIf",e.activeVertical==="mart"&&e.eatsCartCount>0)}}function Ye(t,d){if(t&1&&(I(0),r(1),S()),t&2){let e=s(3);i(),M("",e.eatsCartCount," item",e.eatsCartCount>1?"s":""," waiting in Eats")}}function We(t,d){if(t&1&&(I(0),r(1),S()),t&2){let e=s(3);i(),M("",e.martCartCount," item",e.martCartCount>1?"s":""," waiting in Mart")}}function He(t,d){if(t&1){let e=h();n(0,"div",64),p(1,"ion-icon",65),n(2,"span"),r(3," Ordering from "),n(4,"strong"),r(5),o(),r(6," \xA0\xB7\xA0 "),g(7,Ye,2,2,"ng-container",51)(8,We,2,2,"ng-container",51),o(),n(9,"button",66),_("click",function(){u(e);let c=s(2);return x(c.switchVertical(c.activeVertical==="mart"?"eats":"mart"))}),r(10," Switch "),o()()}if(t&2){let e=s(2);i(),l("name",e.activeVertical==="mart"?"bag-handle-outline":"restaurant-outline"),i(4),v(e.activeVertical==="mart"?"Twinker Mart":"Twinker Eats"),i(2),l("ngIf",e.activeVertical==="mart"),i(),l("ngIf",e.activeVertical==="eats")}}function Je(t,d){if(t&1&&(n(0,"p",67)(1,"strong"),r(2),o()()),t&2){let e=s(2);i(2),m("",e.feeBreakdown.delivery.maxDistanceKm," km distance")}}function Qe(t,d){t&1&&(n(0,"p",67)(1,"strong"),r(2,"Calculating..."),o()())}function Xe(t,d){t&1&&(n(0,"span"),r(1," \xB7 Free delivery!"),o())}function Ze(t,d){if(t&1&&(n(0,"p",68),r(1),g(2,Xe,2,0,"span",51),o()),t&2){let e=s(2);i(),m(" Est. delivery fee \u20B9",e.feeBreakdown.delivery.originalFee.toFixed(0)," "),i(),l("ngIf",e.feeBreakdown.delivery.freeDeliveryApplied)}}function et(t,d){if(t&1&&(n(0,"div",69)(1,"p"),r(2),o()()),t&2){let e=s(2);i(2),v(e.userAddress.fullAddress||e.userAddress.addressLine1||"Delivery address")}}function tt(t,d){if(t&1&&(n(0,"p",89),r(1),o()),t&2){let e=s().$implicit;i(),v(e.vendorCuisine)}}function nt(t,d){t&1&&p(0,"img",112)}function it(t,d){t&1&&p(0,"img",113)}function ot(t,d){t&1&&p(0,"img",114)}function at(t,d){if(t&1&&(n(0,"p",115),r(1),o()),t&2){let e=s().$implicit;i(),v(e.customizationSummary)}}function rt(t,d){if(t&1&&(n(0,"span",116),r(1),o()),t&2){let e=s().$implicit;i(),m(" \u20B9 ",(e.basePrice*e.itemCount).toFixed(2)," ")}}function ct(t,d){if(t&1){let e=h();n(0,"div",90)(1,"div",91)(2,"div",92),g(3,nt,1,0,"img",93)(4,it,1,0,"img",94)(5,ot,1,0,"img",95),o(),n(6,"h4",96),r(7),o(),g(8,at,2,1,"p",97),n(9,"div",98)(10,"span",99),r(11),o(),g(12,rt,2,1,"span",100),o(),n(13,"div",101)(14,"div",102)(15,"button",103),_("click",function(){let c=u(e).$implicit,f=s(3);return x(f.decrementItem(c))}),p(16,"ion-icon",104),o(),n(17,"span",105),r(18),o(),n(19,"button",103),_("click",function(){let c=u(e).$implicit,f=s(3);return x(f.incrementItem(c))}),p(20,"ion-icon",106),o()(),n(21,"button",107),r(22,"Note"),o(),n(23,"button",108),p(24,"ion-icon",109),o()()(),n(25,"div",110),p(26,"img",111),o()()}if(t&2){let e=d.$implicit,a=s(3);i(3),l("ngIf",e.type==="non-veg"),i(),l("ngIf",e.type==="veg"),i(),l("ngIf",e.type==="egg"),i(2),v(e.productName),i(),l("ngIf",e.customizationSummary),i(3),m("\u20B9 ",(e.price*e.itemCount).toFixed(2)),i(),l("ngIf",e.basePrice&&e.basePrice!==e.price),i(6),v(e.itemCount),i(8),l("src",a.getItemImage(e),Y)("alt",e.productName)}}function st(t,d){t&1&&(n(0,"div",117),p(1,"ion-spinner",118),n(2,"span"),r(3,"Finding best offers..."),o()())}function lt(t,d){if(t&1){let e=h();I(0),n(1,"div",120)(2,"div",121)(3,"div",122),p(4,"ion-icon",123),o(),n(5,"div",124)(6,"span",125),r(7," Add "),n(8,"strong"),r(9),o(),r(10," to unlock "),n(11,"strong",126),r(12),o()(),n(13,"span",127),r(14),o()()(),n(15,"button",128),_("click",function(){u(e);let c=s(2).$implicit,f=s(2);return x(f.goToVendor(c.vendorId))}),r(16,"Add items"),o()(),n(17,"div",129),p(18,"div",130),oe(19,"number"),o(),S()}if(t&2){let e=d.ngIf,a=s(2).$implicit,c=s(2);i(9),m("\u20B9",c.getVendorNudgeAmount(a)," more"),i(3),v(c.getVendorNudgeLabel(e)),i(2),v(e.title),i(4),ee("width",ae(19,5,a.subtotal/e.minOrderAmount*100,"1.0-0"),"%")}}function dt(t,d){if(t&1){let e=h();n(0,"div",131)(1,"div",132)(2,"div",133),p(3,"ion-icon",134),o(),n(4,"div",135)(5,"span",136)(6,"span",137),r(7,"AUTO APPLIED"),o()(),n(8,"span",138),r(9),o(),n(10,"span",139),p(11,"ion-icon",140),r(12),o()()(),n(13,"button",141),_("click",function(){u(e);let c=s(2).$implicit,f=s(2);return x(f.removeVendorOffer(c))}),r(14,"REMOVE"),o()()}if(t&2){let e=s(2).$implicit;i(9),M(" ",e.appliedOffer.code?e.appliedOffer.code+" \xB7 ":"","",e.appliedOffer.title," "),i(3),m(" You save \u20B9",e.offerDiscount," on this order! ")}}function ft(t,d){if(t&1&&(I(0),g(1,lt,20,8,"ng-container",51)(2,dt,15,3,"div",119),S()),t&2){let e=s().$implicit,a=s(2);i(),l("ngIf",a.getVendorBestNudgeOffer(e)),i(),l("ngIf",e.appliedOffer)}}function pt(t,d){if(t&1&&(n(0,"span",142),r(1),o()),t&2){let e=s().$implicit;i(),m("\u20B9",e.subtotal.toFixed(2))}}function gt(t,d){if(t&1){let e=h();n(0,"div",70)(1,"div",71),_("click",function(){let c=u(e).$implicit,f=s(2);return x(f.goToVendor(c.vendorId))}),n(2,"div",72),p(3,"img",73),o(),n(4,"div",74)(5,"h4",75),r(6),o(),g(7,tt,2,1,"p",76),o(),p(8,"ion-icon",77),o(),g(9,ct,27,10,"div",78),n(10,"div",79)(11,"span",80),r(12,"Need anything else?"),o(),n(13,"button",81),_("click",function(){let c=u(e).$implicit,f=s(2);return x(f.goToVendor(c.vendorId))}),r(14,"Add more"),o()(),n(15,"div",82),g(16,st,4,0,"div",83)(17,ft,3,2,"ng-container",51),n(18,"div",84)(19,"span",85),r(20,"Subtotal"),o(),n(21,"div",86),g(22,pt,2,1,"span",87),n(23,"span",88),r(24),o()()()()()}if(t&2){let e=d.$implicit,a=s(2);i(3),l("src",a.getVendorImage(e),Y)("alt",e.vendorName),i(3),v(e.vendorName),i(),l("ngIf",e.vendorCuisine),i(2),l("ngForOf",e.items),i(7),l("ngIf",a.isLoadingOffers),i(),l("ngIf",!a.isLoadingOffers),i(5),l("ngIf",e.offerDiscount),i(),w("amount-savings",e.offerDiscount),i(),m(" \u20B9",(e.subtotal-(e.offerDiscount||0)).toFixed(2)," ")}}function mt(t,d){if(t&1){let e=h();n(0,"div",148),_("click",function(){u(e);let c=s(3);return x(c.toggleOfferSheet())}),n(1,"div",149),p(2,"ion-icon",150),n(3,"span",151),r(4,"Apply Coupon"),o()(),p(5,"ion-icon",152),o()}}function _t(t,d){if(t&1){let e=h();n(0,"div",153),_("click",function(){u(e);let c=s(3);return x(c.toggleOfferSheet())}),n(1,"div",154),p(2,"ion-icon",155),n(3,"span",156),r(4," Best offer: "),n(5,"strong"),r(6),o(),r(7," saves "),n(8,"strong"),r(9),o()()(),n(10,"button",157),_("click",function(c){u(e);let f=s(3);return c.stopPropagation(),x(f.applyOffer(f.getBestOffer()))}),r(11,"APPLY"),o()()}if(t&2){let e=s(3);i(6),v(e.getBestOffer().code||e.getBestOffer().title),i(3),m("\u20B9",e.getOfferSavings(e.getBestOffer()))}}function ut(t,d){t&1&&(n(0,"div",158),p(1,"ion-spinner",118),n(2,"span"),r(3,"Finding best offers..."),o()())}function xt(t,d){if(t&1&&(n(0,"p",184),r(1),o()),t&2){let e=s().$implicit;i(),v(e.description)}}function vt(t,d){if(t&1&&(n(0,"span",185),r(1),o()),t&2){let e=s().$implicit;i(),v(e.code)}}function Ct(t,d){if(t&1&&(n(0,"span",186),r(1),o()),t&2){let e=s().$implicit;i(),m("Min \u20B9",e.minOrderAmount)}}function ht(t,d){if(t&1&&(n(0,"span",187),r(1),o()),t&2){let e=s().$implicit;i(),v(e.vendor.name)}}function bt(t,d){if(t&1){let e=h();n(0,"div",171)(1,"div",172)(2,"div",173),p(3,"ion-icon",174),n(4,"span",175),r(5),o(),n(6,"span",176),r(7),o()(),g(8,xt,2,1,"p",177),n(9,"div",178),g(10,vt,2,1,"span",179)(11,Ct,2,1,"span",180),n(12,"span",181),r(13),o(),g(14,ht,2,1,"span",182),o()(),n(15,"button",183),_("click",function(){let c=u(e).$implicit,f=s(5);return x(f.applyOffer(c))}),r(16,"APPLY"),o()()}if(t&2){let e=d.$implicit,a=s(5);i(3),l("name",e.icon||"pricetag-outline"),i(2),v(e.title),i(2),v(a.getOfferLabel(e)),i(),l("ngIf",e.description),i(2),l("ngIf",e.code),i(),l("ngIf",e.minOrderAmount>0),i(2),m("Saves \u20B9",a.getOfferSavings(e)),i(),l("ngIf",e.vendor==null?null:e.vendor.name)}}function Ot(t,d){if(t&1&&(n(0,"div",168)(1,"h4",169),r(2),o(),g(3,bt,17,8,"div",170),o()),t&2){let e=s(4);i(2),m("Available Offers (",e.applicableOffers.length,")"),i(),l("ngForOf",e.applicableOffers)}}function Pt(t,d){if(t&1){let e=h();n(0,"div",188)(1,"p"),r(2,"No applicable offers for this order"),o(),n(3,"button",189),_("click",function(){u(e);let c=s(4);return x(c.goToDeals())}),r(4,"Browse all deals"),o()()}}function yt(t,d){t&1&&(n(0,"div",190),p(1,"ion-spinner",118),n(2,"span"),r(3,"Loading offers..."),o()())}function Mt(t,d){if(t&1){let e=h();n(0,"div",159)(1,"div",160),_("click",function(){u(e);let c=s(3);return x(c.toggleOfferSheet())}),n(2,"div",149),p(3,"ion-icon",150),n(4,"span",151),r(5,"Apply Coupon"),o()(),p(6,"ion-icon",161),o(),n(7,"div",162)(8,"input",163),ie("ngModelChange",function(c){u(e);let f=s(3);return ne(f.couponCode,c)||(f.couponCode=c),x(c)}),_("keyup.enter",function(){u(e);let c=s(3);return x(c.applyCouponCode())}),o(),n(9,"button",164),_("click",function(){u(e);let c=s(3);return x(c.applyCouponCode())}),r(10," APPLY "),o()(),g(11,Ot,4,2,"div",165)(12,Pt,5,0,"div",166)(13,yt,4,0,"div",167),o()}if(t&2){let e=s(3);i(8),te("ngModel",e.couponCode),i(),l("disabled",!e.couponCode.trim()),i(2),l("ngIf",e.applicableOffers.length>0),i(),l("ngIf",e.applicableOffers.length===0&&!e.isLoadingOffers),i(),l("ngIf",e.isLoadingOffers)}}function wt(t,d){if(t&1&&(n(0,"div",143),g(1,mt,6,0,"div",144)(2,_t,12,2,"div",145)(3,ut,4,0,"div",146)(4,Mt,14,5,"div",147),o()),t&2){let e=s(2);i(),l("ngIf",!e.showOfferSheet),i(),l("ngIf",!e.showOfferSheet&&e.getBestOffer()&&!e.isLoadingOffers),i(),l("ngIf",!e.showOfferSheet&&e.isLoadingOffers),i(),l("ngIf",e.showOfferSheet)}}function kt(t,d){if(t&1){let e=h();n(0,"div",191),p(1,"ion-icon",192),n(2,"div",193)(3,"span",194),r(4),o(),n(5,"span",195),r(6),o()(),n(7,"button",196),_("click",function(){u(e);let c=s(2);return x(c.removeOffer())}),r(8,"REMOVE"),o()()}if(t&2){let e=s(2);i(4),v(e.appliedOffer.code||e.appliedOffer.title),i(2),m("applied \u2014 you save \u20B9",e.couponDiscount)}}function It(t,d){if(t&1&&(n(0,"span",197),r(1),o()),t&2){let e=s(2);i(),m("\u20B9 ",e.totalOriginalPrice.toFixed(2))}}function St(t,d){if(t&1&&(n(0,"div",198)(1,"div",199),p(2,"ion-icon",200),n(3,"span"),r(4),o()(),n(5,"span",201),r(6),o()()),t&2){let e=s(2);i(4),v(e.activeVertical==="mart"?"Store offers":"Restaurant offers"),i(2),m("-\u20B9",e.vendorDiscountTotal.toFixed(2))}}function Bt(t,d){if(t&1&&(n(0,"div",202)(1,"span"),r(2),o(),n(3,"span",201),r(4),o()()),t&2){let e=s(2);i(2),m("Coupon (",e.appliedOffer.code||e.appliedOffer.title,")"),i(2),m("-\u20B9",e.couponDiscount.toFixed(2))}}function Et(t,d){if(t&1&&(n(0,"span",203),r(1),o()),t&2){let e=s(2);i(),m(" (",e.feeBreakdown.delivery.maxDistanceKm," km)")}}function Tt(t,d){if(t&1&&(I(0),n(1,"span",197),r(2),o(),n(3,"span",204),r(4,"FREE"),o(),S()),t&2){let e=s(3);i(2),m("\u20B9 ",e.feeBreakdown.delivery.originalFee.toFixed(2))}}function Vt(t,d){if(t&1&&(n(0,"span"),r(1),o()),t&2){let e=s(3);i(),m("\u20B9 ",e.feeBreakdown.delivery.fee.toFixed(2))}}function zt(t,d){if(t&1&&(n(0,"div",44),g(1,Tt,5,1,"ng-container",51)(2,Vt,2,1,"span",51),o()),t&2){let e=s(2);i(),l("ngIf",e.feeBreakdown.delivery.freeDeliveryApplied),i(),l("ngIf",!e.feeBreakdown.delivery.freeDeliveryApplied)}}function Dt(t,d){t&1&&(n(0,"span",205),p(1,"ion-spinner",118),o())}function Ft(t,d){t&1&&(n(0,"span"),r(1,"--"),o())}function At(t,d){if(t&1&&(n(0,"div",43)(1,"span"),r(2,"Platform fee"),o(),n(3,"span"),r(4),o()()),t&2){let e=s(2);i(4),m("\u20B9 ",e.platformFee.toFixed(2))}}function Rt(t,d){if(t&1&&(n(0,"span",207),r(1),o()),t&2){let e=s(3);i(),m("(",e.feeBreakdown.tax.value,"%)")}}function jt(t,d){if(t&1&&(n(0,"div",43)(1,"span"),r(2),g(3,Rt,2,1,"span",206),o(),n(4,"span"),r(5),o()()),t&2){let e=s(2);i(2),m(" ",e.feeBreakdown.tax.label," "),i(),l("ngIf",e.feeBreakdown.tax.type==="percentage"),i(2),m("\u20B9 ",e.taxAmount.toFixed(2))}}function Lt(t,d){if(t&1){let e=h();n(0,"button",208),_("click",function(){u(e);let c=s(2);return x(c.toggleFeeDetails())}),n(1,"span"),r(2),o(),p(3,"ion-icon",65),o()}if(t&2){let e=s(2);i(2),v(e.showFeeDetails?"Hide details":"View details"),i(),l("name",e.showFeeDetails?"chevron-up-outline":"chevron-down-outline")}}function Nt(t,d){if(t&1&&(n(0,"div",213)(1,"span"),r(2),o(),n(3,"span",214),r(4),o()()),t&2){let e=d.$implicit;i(2),v(e.vendorName),i(2),m("",e.distanceKm," km")}}function $t(t,d){if(t&1&&(n(0,"div",213)(1,"span"),r(2),o(),n(3,"span",214),r(4),o()()),t&2){let e=s(3);i(2),M("Extra distance (",(e.feeBreakdown.delivery.maxDistanceKm-e.feeBreakdown.delivery.baseDistanceKm).toFixed(1)," km x \u20B9",e.feeBreakdown.delivery.perKmCharge,")"),i(2),m("\u20B9 ",((e.feeBreakdown.delivery.maxDistanceKm-e.feeBreakdown.delivery.baseDistanceKm)*e.feeBreakdown.delivery.perKmCharge).toFixed(2))}}function Ut(t,d){if(t&1&&(n(0,"div",218)(1,"span"),r(2),o()()),t&2){let e=s(3);i(2),M("Multi-store surcharge (",e.feeBreakdown.delivery.storeCount," stores, +",(e.feeBreakdown.delivery.storeCount-1)*e.feeBreakdown.delivery.multiStoreSurchargePercent,"%)")}}function Gt(t,d){if(t&1&&(n(0,"div",218),p(1,"ion-icon",219),n(2,"span"),r(3),o()()),t&2){let e=s(3);i(3),m("Free delivery applied (order above \u20B9",e.feeBreakdown.delivery.freeDeliveryThreshold,")")}}function Kt(t,d){if(t&1&&(n(0,"div",218),p(1,"ion-icon",220),n(2,"span"),r(3),o()()),t&2){let e=s(3);i(3),m("Add \u20B9",(e.feeBreakdown.delivery.freeDeliveryThreshold-e.totalDiscountedPrice).toFixed(0)," more for free delivery")}}function qt(t,d){if(t&1&&(n(0,"div",210)(1,"div",211),r(2,"Platform fee"),o(),n(3,"div",213)(4,"span"),r(5,"Service & operations charge"),o(),n(6,"span",214),r(7),o()()()),t&2){let e=s(3);i(7),m("\u20B9 ",e.platformFee.toFixed(2))}}function Yt(t,d){if(t&1&&(n(0,"span"),r(1),o()),t&2){let e=s(4);i(),m("",e.feeBreakdown.tax.value,"% on item total")}}function Wt(t,d){t&1&&(n(0,"span"),r(1,"Flat tax"),o())}function Ht(t,d){if(t&1&&(n(0,"div",210)(1,"div",211),r(2),o(),n(3,"div",213),g(4,Yt,2,1,"span",51)(5,Wt,2,0,"span",51),n(6,"span",214),r(7),o()()()),t&2){let e=s(3);i(2),v(e.feeBreakdown.tax.label),i(2),l("ngIf",e.feeBreakdown.tax.type==="percentage"),i(),l("ngIf",e.feeBreakdown.tax.type==="flat"),i(2),m("\u20B9 ",e.taxAmount.toFixed(2))}}function Jt(t,d){if(t&1&&(n(0,"div",209)(1,"div",210)(2,"div",211),r(3,"Delivery breakdown"),o(),g(4,Nt,5,2,"div",212),n(5,"div",213)(6,"span"),r(7),o(),n(8,"span",214),r(9),o()(),g(10,$t,5,3,"div",215)(11,Ut,3,2,"div",216)(12,Gt,4,1,"div",216)(13,Kt,4,1,"div",216),o(),g(14,qt,8,1,"div",217)(15,Ht,8,4,"div",217),o()),t&2){let e=s(2);i(4),l("ngForOf",e.feeBreakdown.delivery.vendorDistances),i(3),m("Base fee (first ",e.feeBreakdown.delivery.baseDistanceKm," km)"),i(2),m("\u20B9 ",e.feeBreakdown.delivery.baseFee),i(),l("ngIf",e.feeBreakdown.delivery.maxDistanceKm>e.feeBreakdown.delivery.baseDistanceKm),i(),l("ngIf",e.feeBreakdown.delivery.storeCount>1),i(),l("ngIf",e.feeBreakdown.delivery.freeDeliveryApplied),i(),l("ngIf",!e.feeBreakdown.delivery.freeDeliveryApplied&&e.feeBreakdown.delivery.freeDeliveryThreshold>0),i(),l("ngIf",e.platformFee>0),i(),l("ngIf",e.taxAmount>0)}}function Qt(t,d){if(t&1&&(n(0,"span"),r(1),o()),t&2){let e=s(3);i(),m(" with ",e.appliedOffer.code||e.appliedOffer.title)}}function Xt(t,d){if(t&1&&(n(0,"p",221),r(1),g(2,Qt,2,1,"span",51),o()),t&2){let e=s(2);i(),m("You saved \u20B9 ",e.totalSaved.toFixed(2)),i(),l("ngIf",e.appliedOffer)}}function Zt(t,d){if(t&1){let e=h();n(0,"div",27),g(1,He,11,4,"div",28),n(2,"div",29)(3,"h3",30),r(4,"Delivery location"),o(),n(5,"div",31)(6,"div",32),g(7,Je,3,1,"p",33)(8,Qe,3,0,"p",33)(9,Ze,3,2,"p",34),o(),n(10,"button",35),_("click",function(){u(e);let c=s();return x(c.changeLocation())}),r(11,"Change location"),o()(),n(12,"div",36)(13,"button",37),r(14,"Add note"),o()(),g(15,et,3,1,"div",38),o(),p(16,"div",39),g(17,gt,25,11,"div",40),p(18,"div",39),g(19,wt,5,4,"div",41)(20,kt,9,2,"div",42),n(21,"div",29)(22,"h3",30),r(23,"Payment summary"),o(),n(24,"div",43)(25,"span"),r(26,"Price"),o(),n(27,"div",44),g(28,It,2,1,"span",45),n(29,"span"),r(30),o()()(),g(31,St,7,2,"div",46)(32,Bt,5,2,"div",47),n(33,"div",43)(34,"span"),r(35,"Delivery fee"),g(36,Et,2,1,"span",48),o(),g(37,zt,3,2,"div",49)(38,Dt,2,0,"span",50)(39,Ft,2,0,"span",51),o(),g(40,At,5,1,"div",52)(41,jt,6,3,"div",52),n(42,"div",53)(43,"span"),r(44,"Total payment"),o(),n(45,"span",54),r(46),o()(),g(47,Lt,4,2,"button",55)(48,Jt,16,9,"div",56),o(),n(49,"div",57),p(50,"ion-icon",58),n(51,"span",59),r(52,"My wallet"),o(),p(53,"ion-icon",60),n(54,"span",61),r(55,"\xB7"),o(),n(56,"span",62),r(57),o()(),g(58,Xt,3,2,"p",63),o()}if(t&2){let e=s();i(),l("ngIf",e.hasBothCarts),i(6),l("ngIf",e.feeBreakdown),i(),l("ngIf",!e.feeBreakdown&&!e.isLoadingFees),i(),l("ngIf",e.feeBreakdown),i(6),l("ngIf",e.userAddress),i(2),l("ngForOf",e.vendorGroups),i(2),l("ngIf",!e.appliedOffer),i(),l("ngIf",e.appliedOffer),i(8),l("ngIf",e.totalOriginalPrice>e.totalDiscountedPrice),i(2),m("\u20B9 ",e.totalDiscountedPrice.toFixed(2)),i(),l("ngIf",e.vendorDiscountTotal>0),i(),l("ngIf",e.appliedOffer),i(4),l("ngIf",e.feeBreakdown),i(),l("ngIf",!e.isLoadingFees&&e.feeBreakdown),i(),l("ngIf",e.isLoadingFees),i(),l("ngIf",!e.isLoadingFees&&!e.feeBreakdown),i(),l("ngIf",e.feeBreakdown&&e.platformFee>0),i(),l("ngIf",e.feeBreakdown&&e.taxAmount>0),i(5),m("\u20B9 ",e.totalPayment.toFixed(2)),i(),l("ngIf",e.feeBreakdown),i(),l("ngIf",e.showFeeDetails&&e.feeBreakdown),i(9),m("\u20B9 ",e.totalPayment.toFixed(2)),i(),l("ngIf",e.totalSaved>0)}}function en(t,d){if(t&1&&(n(0,"span",235),r(1),o()),t&2){let e=s(3);i(),m(" Order ",e.activeOrder.orderId," is in progress ")}}function tn(t,d){if(t&1&&(n(0,"span",235),r(1),o()),t&2){let e=s(3);i(),m(" ",e.activeOrderCount," orders in progress ")}}function nn(t,d){if(t&1){let e=h();n(0,"div",226)(1,"div",227),p(2,"ion-icon",228),n(3,"div",229),g(4,en,2,1,"span",230)(5,tn,2,1,"span",230),n(6,"span",231),r(7,"You can still place another order."),o()()(),n(8,"div",232)(9,"button",233),_("click",function(){u(e);let c=s(2);return x(c.router.navigate(["/tabs/orders"]))}),r(10,"View"),o(),n(11,"button",234),_("click",function(){u(e);let c=s(2);return x(c.setForcePlace())}),r(12),o()()()}if(t&2){let e=s(2);i(4),l("ngIf",e.activeOrderCount===1),i(),l("ngIf",e.activeOrderCount>1),i(6),w("active",e.forcePlace),i(),m(" ",e.forcePlace?"Will place":"Place anyway"," ")}}function on(t,d){t&1&&(n(0,"span",236),p(1,"ion-spinner",237),o())}function an(t,d){if(t&1){let e=h();n(0,"ion-footer",0),g(1,nn,13,5,"div",222),n(2,"div",223)(3,"button",224),_("click",function(){u(e);let c=s();return x(c.openPaymentModal())}),g(4,on,2,0,"span",225),n(5,"span"),r(6),o()()()()}if(t&2){let e=s();i(),l("ngIf",e.activeOrderCount>0),i(2),l("disabled",e.isCheckoutLoading),i(),l("ngIf",e.isCheckoutLoading),i(2),v(e.isCheckoutLoading?"Preparing summary...":"Place order")}}var Ve=(()=>{class t{get eatsCartCount(){return this.storageService.getEatsCart().reduce((e,a)=>e+(a.itemCount||a.quantity||1),0)}get martCartCount(){return this.storageService.getMartCart().reduce((e,a)=>e+(a.itemCount||a.quantity||1),0)}get hasBothCarts(){return this.eatsCartCount>0&&this.martCartCount>0}get activeOrder(){return this.activeOrders[0]||null}get activeOrderCount(){return this.activeOrders.length}constructor(e,a,c,f,B,C,P,U,O,y,k){this.modalCtrl=e,this.router=a,this.eventBus=c,this.dealsService=f,this.homeMainService=B,this.storageService=C,this.commonService=P,this.cartService=U,this.orderService=O,this.platform=y,this.cdr=k,this.cartItems=[],this.vendorGroups=[],this.imgBaseUrl=Oe.imageBaseUrl,this.applicableOffers=[],this.appliedOffer=null,this.couponDiscount=0,this.showOfferSheet=!1,this.couponCode="",this.isLoadingOffers=!1,this.localityId="",this.vendorAllOffers={},this.feeBreakdown=null,this.isLoadingFees=!1,this.showFeeDetails=!1,this.userAddress=null,this.activeVertical="eats",this.activeOrders=[],this.forcePlace=!1,this.refreshDebounce=null}ngOnInit(){}ionViewWillEnter(){this.activeVertical=this.storageService.getActiveVertical(),this.loadCart()}ionViewDidEnter(){this.backButtonSub=this.platform.backButton.subscribeWithPriority(9999,()=>{this.goBack()})}ionViewWillLeave(){this.backButtonSub&&(this.backButtonSub.unsubscribe(),this.backButtonSub=void 0)}ngOnDestroy(){this.backButtonSub&&(this.backButtonSub.unsubscribe(),this.backButtonSub=void 0)}loadCart(){let e=this.storageService.getCartByVertical(this.activeVertical);if(!e.length){this.cartItems=[],this.vendorGroups=[];return}try{this.cartItems=e.map(a=>{let c=a.vendor||{};return J(H({},a),{itemCount:a.itemCount||a.quantity||1,vendorId:a.vendorId||c._id||"unknown",vendorName:a.vendorName||c.businessName||c.name||(this.activeVertical==="mart"?"Unknown Store":"Unknown Restaurant"),vendorImage:a.vendorImage||c.imageUrl||"",vendorCuisine:a.vendorCuisine||c.cuisineType||""})}),this.storageService.saveCartByVertical(this.activeVertical,this.cartItems)}catch(a){this.cartItems=[]}this.buildVendorGroups(),this.loadApplicableOffers()}buildVendorGroups(){let e=new Map;for(let a of this.cartItems){let c=a.vendorId||"unknown";e.has(c)||e.set(c,{vendorId:c,vendorName:a.vendorName||"Unknown Restaurant",vendorImage:a.vendorImage||"",vendorCuisine:a.vendorCuisine||"",items:[],subtotal:0});let f=e.get(c);f.items.push(a),f.subtotal+=a.price*a.itemCount}this.vendorGroups=Array.from(e.values())}loadApplicableOffers(){if(this.isCartEmpty)return;let e=this.storageService.getUser();e?._id&&(this.isLoadingOffers=!0,this.orderService.getActiveOrder(e._id,this.activeVertical).subscribe({next:a=>{this.activeOrders=a?.data||[],this.cdr.detectChanges()},error:()=>{this.activeOrders=[]}}),this.homeMainService.getDefaultAddressByUserId(e._id).subscribe({next:a=>{a?.status&&a?.data?.locality?(this.localityId=a.data.locality._id,this.userAddress=a.data,this.fetchOffers(),this.calculateCartFees()):(this.isLoadingOffers=!1,this.cdr.detectChanges())},error:()=>{this.isLoadingOffers=!1,this.cdr.detectChanges()}}))}setForcePlace(){this.forcePlace=!0,this.cdr.detectChanges()}fetchOffers(){let e=this.vendorGroups.map(f=>f.vendorId).filter(f=>f!=="unknown");if(e.length===0){this.isLoadingOffers=!1;return}let a=this.totalDiscountedPrice,c={};this.vendorGroups.forEach(f=>{f.vendorId!=="unknown"&&(c[f.vendorId]=f.subtotal)}),Q({applicable:this.dealsService.getApplicableOffers(this.localityId,e,a,c).pipe(q(()=>K(null))),allDeals:this.dealsService.getDealsPage(this.localityId).pipe(q(()=>K(null)))}).subscribe(({applicable:f,allDeals:B})=>{let C=B?.data?.restaurantOffers||[];this.vendorAllOffers={};for(let O of C){let y=O.vendor?._id;y&&(this.vendorAllOffers[y]||(this.vendorAllOffers[y]=[]),this.vendorAllOffers[y].push(O))}let P=f?.status&&f?.data?f.data:[];for(let O of this.vendorGroups){let y=P.filter(k=>k.type==="restaurant"&&k.vendor?._id===O.vendorId).sort((k,De)=>(De.calculatedDiscount||0)-(k.calculatedDiscount||0))[0];O.appliedOffer=y||void 0,O.offerDiscount=y&&y.calculatedDiscount||0}let U=new Set(this.vendorGroups.filter(O=>O.appliedOffer).map(O=>O.appliedOffer._id));this.applicableOffers=P.filter(O=>!U.has(O._id)),this.isLoadingOffers=!1,this.appliedOffer&&this.revalidateAppliedOffer(),this.cdr.detectChanges()})}revalidateAppliedOffer(){if(!this.appliedOffer)return;if(this.applicableOffers.some(a=>a._id===this.appliedOffer._id)){let a=this.applicableOffers.find(c=>c._id===this.appliedOffer._id);a&&(this.couponDiscount=a.calculatedDiscount,this.appliedOffer=a)}else{let a=this.appliedOffer.code||this.appliedOffer.title;this.appliedOffer=null,this.couponDiscount=0,this.commonService.presentToast("bottom",`Offer "${a}" removed \u2014 order no longer meets requirements`,"danger"),this.cdr.detectChanges()}}applyOffer(e){this.appliedOffer=e,this.couponDiscount=e.calculatedDiscount||0,this.showOfferSheet=!1,this.couponCode="";let a=e.code||e.title;this.commonService.presentToast("bottom",`${a} applied \u2014 you save \u20B9${this.couponDiscount}`,"success"),this.cdr.detectChanges()}removeOffer(){this.appliedOffer=null,this.couponDiscount=0,this.cdr.detectChanges()}removeVendorOffer(e){e.appliedOffer=void 0,e.offerDiscount=0,this.cdr.detectChanges()}getVendorBestNudgeOffer(e){return e.appliedOffer?null:(this.vendorAllOffers[e.vendorId]||[]).filter(c=>c.minOrderAmount>0&&c.minOrderAmount>e.subtotal&&c.minOrderAmount-e.subtotal<=300).sort((c,f)=>c.minOrderAmount-e.subtotal-(f.minOrderAmount-e.subtotal))[0]||null}getVendorNudgeAmount(e){let a=this.getVendorBestNudgeOffer(e);return a?Math.ceil(a.minOrderAmount-e.subtotal):0}getVendorNudgeLabel(e){return e?e.discountType==="percentage"?`${e.discountValue}% OFF`:`\u20B9${e.discountValue} OFF`:""}applyCouponCode(){if(!this.couponCode.trim())return;let e=new Date,a=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;this.dealsService.validateCoupon({code:this.couponCode.trim(),localityId:this.localityId,orderAmount:this.totalDiscountedPrice,clientTime:a}).subscribe({next:c=>{c?.status&&c?.data?(this.appliedOffer=c.data.offer,this.couponDiscount=c.data.discountAmount,this.showOfferSheet=!1,this.couponCode="",this.commonService.presentToast("bottom",`${c.data.offer.code||c.data.offer.title} applied \u2014 you save \u20B9${this.couponDiscount}`,"success")):this.commonService.presentToast("bottom",c?.message||"Invalid coupon code","danger"),this.cdr.detectChanges()},error:c=>{let f=c?.error?.message||"Invalid or expired coupon code";this.commonService.presentToast("bottom",f,"danger"),this.cdr.detectChanges()}})}toggleOfferSheet(){this.showOfferSheet=!this.showOfferSheet}getOfferSavings(e){return e.calculatedDiscount||0}getBestOffer(){return this.applicableOffers.length===0?null:this.applicableOffers[0]}getOfferLabel(e){return e.discountType==="percentage"?`${e.discountValue}% OFF`:`\u20B9${e.discountValue} OFF`}get isCartEmpty(){return this.cartItems.length===0}get hasMultipleVendors(){return this.vendorGroups.length>1}get totalOriginalPrice(){return this.cartItems.reduce((e,a)=>{let c=a.basePrice||a.price;return e+c*a.itemCount},0)}get totalDiscountedPrice(){return this.cartItems.reduce((e,a)=>e+a.price*a.itemCount,0)}get deliveryFee(){return this.feeBreakdown?.delivery?.fee??0}get platformFee(){return this.feeBreakdown?.platformFee??0}get taxAmount(){return this.feeBreakdown?.tax?.amount??0}get vendorDiscountTotal(){return this.vendorGroups.reduce((e,a)=>e+(a.offerDiscount||0),0)}get totalPayment(){return Math.max(0,this.totalDiscountedPrice-this.vendorDiscountTotal-this.couponDiscount+this.deliveryFee+this.platformFee+this.taxAmount)}get totalSaved(){return this.totalOriginalPrice-this.totalDiscountedPrice+this.vendorDiscountTotal+this.couponDiscount}get totalItems(){return this.cartItems.reduce((e,a)=>e+a.itemCount,0)}get isCheckoutLoading(){return this.isCartEmpty?!1:this.isLoadingOffers||this.isLoadingFees||!this.userAddress||!this.feeBreakdown}incrementItem(e){e.itemCount++,this.saveAndRefresh()}decrementItem(e){e.itemCount--,e.itemCount<=0&&(this.cartItems=this.cartItems.filter(a=>a!==e)),this.saveAndRefresh()}saveAndRefresh(){this.storageService.saveCartByVertical(this.activeVertical,this.cartItems),this.eventBus.emit("cart:updated",this.totalItems),this.buildVendorGroups(),this.cdr.detectChanges(),this.refreshDebounce&&clearTimeout(this.refreshDebounce),this.refreshDebounce=setTimeout(()=>{this.localityId&&(this.fetchOffers(),this.calculateCartFees())},400)}calculateCartFees(){if(this.isCartEmpty||!this.localityId||!this.userAddress)return;let e=this.vendorGroups.map(c=>c.vendorId).filter(c=>c!=="unknown");if(e.length===0)return;let a=this.userAddress.coords;!a?.lat||!a?.lng||(this.isLoadingFees=!0,this.cartService.calculateFees({localityId:this.localityId,vendorIds:e,userLat:a.lat,userLng:a.lng,orderSubtotal:this.totalDiscountedPrice}).subscribe({next:c=>{c?.status&&c?.data?this.feeBreakdown=c.data:this.feeBreakdown||(this.feeBreakdown=this.createFallbackFeeBreakdown()),this.isLoadingFees=!1,this.cdr.detectChanges()},error:()=>{this.feeBreakdown||(this.feeBreakdown=this.createFallbackFeeBreakdown()),this.isLoadingFees=!1,this.cdr.detectChanges()}}))}createFallbackFeeBreakdown(){return{delivery:{fee:0,originalFee:0,freeDeliveryApplied:!1,freeDeliveryThreshold:0,baseDistanceKm:0,baseFee:0,perKmCharge:0,maxDistanceKm:0,storeCount:0,multiStoreSurchargePercent:0,vendorDistances:[]},platformFee:0,tax:{amount:0,type:"flat",value:0,label:"Tax"},totalFees:0}}toggleFeeDetails(){this.showFeeDetails=!this.showFeeDetails}getItemImage(e){return e.imageUrl?this.imgBaseUrl+e.imageUrl:e.dummyImg||"assets/announcement-banner.jpg"}getVendorImage(e){return e.vendorImage?e.vendorImage.startsWith("http")||e.vendorImage.startsWith("assets/")?e.vendorImage:this.imgBaseUrl+e.vendorImage:"assets/shop.jpg"}goToVendor(e){e&&e!=="unknown"&&this.router.navigate(["/items"],{queryParams:{vendorId:e,vertical:this.activeVertical}})}goBack(){this.router.navigate(["/tabs/home-main"])}clearCart(){this.storageService.clearCartByVertical(this.activeVertical),this.cartItems=[],this.vendorGroups=[],this.appliedOffer=null,this.couponDiscount=0,this.applicableOffers=[],this.feeBreakdown=null,this.eventBus.emit("cart:updated",0)}switchVertical(e){this.activeVertical!==e&&(this.activeVertical=e,this.storageService.saveActiveVertical(e),this.eventBus.emit("vertical:changed",e),this.cartItems=[],this.vendorGroups=[],this.appliedOffer=null,this.couponDiscount=0,this.feeBreakdown=null,this.applicableOffers=[],this.vendorAllOffers={},this.activeOrders=[],this.forcePlace=!1,this.showOfferSheet=!1,this.couponCode="",this.cdr.detectChanges(),this.loadCart())}browsRestaurants(){this.storageService.saveActiveVertical(this.activeVertical),this.router.navigate(["/tabs/home-main"])}goToDeals(){this.router.navigate(["/tabs/deals"])}changeLocation(){this.router.navigate(["/location-setup"])}openPaymentModal(){return G(this,null,function*(){if(this.isCheckoutLoading)return;let a={userId:this.storageService.getUser()._id,localityId:this.localityId,vertical:this.activeVertical,vendorOrders:this.vendorGroups.map(C=>({vendor:C.vendorId,vendorName:C.vendorName,vendorAddress:"",items:C.items.map(P=>({product:P._id,productName:P.productName,quantity:P.itemCount,price:P.price,actualPrice:P.basePrice||P.price,totalPrice:P.price*P.itemCount})),subtotal:C.subtotal,offerDiscount:C.offerDiscount||0,appliedOffer:C.appliedOffer?{offerId:C.appliedOffer._id,offerTitle:C.appliedOffer.title,offerCode:C.appliedOffer.code||"",offerType:C.appliedOffer.type||C.appliedOffer.offerType||"restaurant",discountType:C.appliedOffer.discountType||"percentage",discountValue:C.appliedOffer.discountValue||0,maxDiscountCap:C.appliedOffer.maxDiscountCap??null,minOrderAmount:C.appliedOffer.minOrderAmount||0,discountAmount:C.offerDiscount||0}:void 0,status:"placed"})),deliveryAddress:{addressId:this.userAddress?._id,label:this.userAddress?.addressType||"Home",fullAddress:this.userAddress?.fullAddress||this.userAddress?.addressLine1||"",landmark:this.userAddress?.landmark||"",coords:this.userAddress?.coords||{lat:0,lng:0}},itemTotal:this.totalDiscountedPrice,vendorDiscounts:this.vendorDiscountTotal,couponDiscount:this.couponDiscount,appliedCoupon:this.appliedOffer?{code:this.appliedOffer.code||"",offerId:this.appliedOffer._id,offerTitle:this.appliedOffer.title||"",offerType:this.appliedOffer.type||this.appliedOffer.offerType||"platform_coupon",discountType:this.appliedOffer.discountType||"percentage",discountValue:this.appliedOffer.discountValue||0,maxDiscountCap:this.appliedOffer.maxDiscountCap??null,minOrderAmount:this.appliedOffer.minOrderAmount||0,discountAmount:this.couponDiscount}:void 0,deliveryFee:this.deliveryFee,platformFee:this.platformFee,taxAmount:this.taxAmount,totalAmount:this.totalPayment,forcePlace:this.forcePlace},c=yield this.modalCtrl.create({component:ke,componentProps:{totalAmount:this.totalPayment,totalItems:this.totalItems,totalSaved:this.totalSaved,appliedOffer:this.appliedOffer,couponDiscount:this.couponDiscount,deliveryFee:this.deliveryFee,platformFee:this.platformFee,taxAmount:this.taxAmount,feeBreakdown:this.feeBreakdown,deliveryAddress:this.userAddress?.fullAddress||"",orderPayload:a},cssClass:"payment-confirm-modal"});yield c.present();let{data:f,role:B}=yield c.onWillDismiss();B==="confirm"&&(yield this.openOrderStatus(f?.orderId))})}openOrderStatus(e=""){return G(this,null,function*(){let a=yield this.modalCtrl.create({component:Ee,componentProps:{orderCode:e,vertical:this.activeVertical},cssClass:"order-status-modal",backdropDismiss:!1,showBackdrop:!1});yield a.present();let{data:c,role:f}=yield a.onWillDismiss();f!=="cancel"&&(this.cartItems=[],this.vendorGroups=[],this.appliedOffer=null,this.couponDiscount=0,c?.action==="track"?this.router.navigate(["/tabs/orders"],{queryParams:{highlight:e}}):this.router.navigate(["/tabs/home-main"]))})}static{this.\u0275fac=function(a){return new(a||t)(b(R),b(se),b(N),b(Se),b(we),b(L),b(ye),b(Te),b(Me),b(ge),b(z))}}static{this.\u0275cmp=T({type:t,selectors:[["app-cart"]],standalone:!1,decls:25,vars:10,consts:[[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back","color","dark"],[1,"cart-title"],["slot","end"],["slot","icon-only","name","heart-outline","color","danger"],[1,"cart-vertical-tabs"],[1,"cv-tab",3,"click"],["name","restaurant-outline"],["class","cv-badge cv-badge-eats",4,"ngIf"],["name","bag-handle-outline"],["class","cv-badge cv-badge-mart",4,"ngIf"],[3,"fullscreen"],["class","empty-state",4,"ngIf"],["class","cart-content",4,"ngIf"],["class","ion-no-border",4,"ngIf"],[1,"cv-badge","cv-badge-eats"],[1,"cv-badge","cv-badge-mart"],[1,"empty-state"],[1,"empty-icon",3,"name"],[1,"empty-title"],[1,"empty-subtitle"],[1,"browse-btn",3,"click"],["class","empty-other-vertical",3,"click",4,"ngIf"],[1,"empty-other-vertical",3,"click"],["name","chevron-forward-outline"],[1,"cart-content"],["class","vertical-context-banner",4,"ngIf"],[1,"section-block"],[1,"section-heading"],[1,"delivery-card"],[1,"delivery-info"],["class","delivery-distance",4,"ngIf"],["class","delivery-meta",4,"ngIf"],[1,"link-btn",3,"click"],[1,"action-chips"],[1,"chip-btn"],["class","address-box",4,"ngIf"],[1,"divider"],["class","vendor-group",4,"ngFor","ngForOf"],["class","coupon-section",4,"ngIf"],["class","coupon-applied",4,"ngIf"],[1,"summary-row"],[1,"summary-prices"],["class","original-price",4,"ngIf"],["class","summary-row vendor-savings-row",4,"ngIf"],["class","summary-row coupon-savings-row",4,"ngIf"],["class","delivery-km",4,"ngIf"],["class","summary-prices",4,"ngIf"],["class","inline-spinner",4,"ngIf"],[4,"ngIf"],["class","summary-row",4,"ngIf"],[1,"summary-row","total-row"],[1,"total-amount"],["class","view-details-link",3,"click",4,"ngIf"],["class","fee-details-expand",4,"ngIf"],[1,"payment-method"],["name","wallet-outline",1,"wallet-icon"],[1,"wallet-label"],["name","chevron-down-outline",1,"wallet-arrow"],[1,"wallet-dot"],[1,"wallet-amount"],["class","savings-text",4,"ngIf"],[1,"vertical-context-banner"],[3,"name"],[1,"vcb-switch-btn",3,"click"],[1,"delivery-distance"],[1,"delivery-meta"],[1,"address-box"],[1,"vendor-group"],[1,"vendor-header",3,"click"],[1,"vendor-avatar"],[3,"src","alt"],[1,"vendor-info"],[1,"vendor-name"],["class","vendor-cuisine",4,"ngIf"],["name","chevron-forward-outline",1,"vendor-arrow"],["class","cart-item",4,"ngFor","ngForOf"],[1,"add-more-row"],[1,"add-more-label"],[1,"add-more-btn",3,"click"],[1,"vendor-offer-area"],["class","vendor-offer-loading",4,"ngIf"],[1,"vendor-subtotal"],[1,"subtotal-label"],[1,"vendor-subtotal-prices"],["class","subtotal-original",4,"ngIf"],[1,"subtotal-amount"],[1,"vendor-cuisine"],[1,"cart-item"],[1,"cart-item-left"],[1,"item-type-row"],["src","assets/non-veg.png","class","type-icon",4,"ngIf"],["src","assets/veg.png","class","type-icon",4,"ngIf"],["src","assets/egg.png","class","type-icon",4,"ngIf"],[1,"cart-item-name"],["class","cart-item-customization",4,"ngIf"],[1,"cart-item-price-row"],[1,"cart-item-price"],["class","cart-item-original",4,"ngIf"],[1,"cart-item-actions"],[1,"qty-control"],[1,"qty-btn",3,"click"],["name","remove-outline"],[1,"qty-count"],["name","add-outline"],[1,"note-btn"],[1,"heart-btn"],["name","heart-outline"],[1,"cart-item-right"],[1,"cart-item-img",3,"src","alt"],["src","assets/non-veg.png",1,"type-icon"],["src","assets/veg.png",1,"type-icon"],["src","assets/egg.png",1,"type-icon"],[1,"cart-item-customization"],[1,"cart-item-original"],[1,"vendor-offer-loading"],["name","dots","color","medium"],["class","vendor-offer-auto",4,"ngIf"],[1,"vendor-offer-nudge"],[1,"nudge-left"],[1,"nudge-icon-wrap"],["name","pricetag-outline"],[1,"nudge-text"],[1,"nudge-headline"],[1,"nudge-discount"],[1,"nudge-sub"],[1,"nudge-add-btn",3,"click"],[1,"nudge-progress-wrap"],[1,"nudge-progress-bar"],[1,"vendor-offer-auto"],[1,"vendor-offer-auto-left"],[1,"offer-check-wrap"],["name","checkmark-circle",1,"offer-check-icon"],[1,"vendor-offer-auto-text"],[1,"vendor-offer-auto-label"],[1,"auto-badge"],[1,"vendor-offer-name"],[1,"vendor-offer-auto-savings"],["name","gift-outline"],[1,"vendor-offer-remove-btn",3,"click"],[1,"subtotal-original"],[1,"coupon-section"],["class","coupon-collapsed",3,"click",4,"ngIf"],["class","best-offer-suggestion",3,"click",4,"ngIf"],["class","coupon-loading",4,"ngIf"],["class","coupon-expanded",4,"ngIf"],[1,"coupon-collapsed",3,"click"],[1,"coupon-collapsed-left"],["name","pricetag-outline",1,"coupon-icon"],[1,"coupon-label"],["name","chevron-down-outline",1,"coupon-toggle-icon"],[1,"best-offer-suggestion",3,"click"],[1,"best-offer-info"],["name","gift-outline",1,"best-offer-icon"],[1,"best-offer-text"],[1,"best-offer-apply-btn",3,"click"],[1,"coupon-loading"],[1,"coupon-expanded"],[1,"coupon-expanded-header",3,"click"],["name","chevron-up-outline",1,"coupon-toggle-icon"],[1,"coupon-input-row"],["type","text","placeholder","Enter coupon code",1,"coupon-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"coupon-apply-btn",3,"click","disabled"],["class","offers-list",4,"ngIf"],["class","no-offers",4,"ngIf"],["class","offers-loading",4,"ngIf"],[1,"offers-list"],[1,"offers-list-title"],["class","offer-card-apply",4,"ngFor","ngForOf"],[1,"offer-card-apply"],[1,"offer-card-left"],[1,"offer-card-header"],[1,"offer-card-icon",3,"name"],[1,"offer-card-title"],[1,"offer-card-badge"],["class","offer-card-desc",4,"ngIf"],[1,"offer-card-meta"],["class","offer-code-tag",4,"ngIf"],["class","offer-min",4,"ngIf"],[1,"offer-saves"],["class","offer-vendor-badge",4,"ngIf"],[1,"offer-apply-btn",3,"click"],[1,"offer-card-desc"],[1,"offer-code-tag"],[1,"offer-min"],[1,"offer-vendor-badge"],[1,"no-offers"],[1,"no-offers-link",3,"click"],[1,"offers-loading"],[1,"coupon-applied"],["name","checkmark-circle",1,"applied-icon"],[1,"applied-info"],[1,"applied-code"],[1,"applied-savings"],[1,"applied-remove-btn",3,"click"],[1,"original-price"],[1,"summary-row","vendor-savings-row"],[1,"vendor-savings-label"],["name","storefront-outline",1,"vendor-savings-icon"],[1,"coupon-discount-amount"],[1,"summary-row","coupon-savings-row"],[1,"delivery-km"],[1,"free-badge-inline"],[1,"inline-spinner"],["class","tax-rate",4,"ngIf"],[1,"tax-rate"],[1,"view-details-link",3,"click"],[1,"fee-details-expand"],[1,"fee-details-section"],[1,"fee-details-title"],["class","fee-detail-row",4,"ngFor","ngForOf"],[1,"fee-detail-row"],[1,"fee-detail-value"],["class","fee-detail-row",4,"ngIf"],["class","fee-detail-row fee-detail-note",4,"ngIf"],["class","fee-details-section",4,"ngIf"],[1,"fee-detail-row","fee-detail-note"],["name","checkmark-circle",1,"free-check-icon"],["name","information-circle-outline",1,"info-icon"],[1,"savings-text"],["class","active-order-banner",4,"ngIf"],[1,"footer-wrap"],[1,"place-order-btn",3,"click","disabled"],["class","place-order-spinner",4,"ngIf"],[1,"active-order-banner"],[1,"aob-info"],["name","time-outline",1,"aob-icon"],[1,"aob-text"],["class","aob-title",4,"ngIf"],[1,"aob-sub"],[1,"aob-actions"],[1,"aob-view-btn",3,"click"],[1,"aob-force-btn",3,"click"],[1,"aob-title"],[1,"place-order-spinner"],["name","crescent"]],template:function(a,c){a&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),_("click",function(){return c.goBack()}),p(4,"ion-icon",3),o()(),n(5,"ion-title",4),r(6,"My Cart"),o(),n(7,"ion-buttons",5)(8,"ion-button"),p(9,"ion-icon",6),o()()(),n(10,"div",7)(11,"button",8),_("click",function(){return c.switchVertical("eats")}),p(12,"ion-icon",9),n(13,"span"),r(14,"Eats"),o(),g(15,$e,2,1,"span",10),o(),n(16,"button",8),_("click",function(){return c.switchVertical("mart")}),p(17,"ion-icon",11),n(18,"span"),r(19,"Mart"),o(),g(20,Ue,2,1,"span",12),o()()(),n(21,"ion-content",13),g(22,qe,10,10,"div",14)(23,Zt,59,23,"div",15),o(),g(24,an,7,4,"ion-footer",16)),a&2&&(i(11),w("cv-active-eats",c.activeVertical==="eats"),i(4),l("ngIf",c.eatsCartCount>0),i(),w("cv-active-mart",c.activeVertical==="mart"),i(4),l("ngIf",c.martCartCount>0),i(),l("fullscreen",!0),i(),l("ngIf",c.isCartEmpty),i(),l("ngIf",!c.isCartEmpty),i(),l("ngIf",!c.isCartEmpty))},dependencies:[re,D,le,de,fe,me,_e,ue,xe,ve,A,Ce,he,be,ce],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-width: 0}.cart-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:18px;color:#1a1a1a}.cart-vertical-tabs[_ngcontent-%COMP%]{display:flex;gap:0;background:#fff;border-bottom:1px solid #f0f0f0;padding:0 16px}.cv-tab[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:6px;padding:10px 0;border:none;background:transparent;font-family:latoRegular,sans-serif;font-size:14px;color:#999;border-bottom:2px solid transparent;cursor:pointer;position:relative;transition:color .2s,border-color .2s}.cv-tab[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.cv-tab.cv-active-eats[_ngcontent-%COMP%]{color:#f85c70;border-bottom-color:#f85c70;font-family:latoBold,sans-serif}.cv-tab.cv-active-mart[_ngcontent-%COMP%]{color:#4a5bf5;border-bottom-color:#4a5bf5;font-family:latoBold,sans-serif}.cv-badge[_ngcontent-%COMP%]{min-width:18px;height:18px;border-radius:9px;padding:0 5px;font-size:10px;font-family:latoBold,sans-serif;color:#fff;display:flex;align-items:center;justify-content:center}.cv-badge.cv-badge-eats[_ngcontent-%COMP%]{background:#f85c70}.cv-badge.cv-badge-mart[_ngcontent-%COMP%]{background:#4a5bf5}.vertical-context-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;border-radius:12px;margin:8px 16px 0;padding:10px 14px;box-shadow:0 2px 8px #0000000f;font-family:latoRegular,sans-serif;font-size:13px;color:#555}.vertical-context-banner[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#f85c70;flex-shrink:0}.vertical-context-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.vertical-context-banner[_ngcontent-%COMP%]   .vcb-switch-btn[_ngcontent-%COMP%]{background:none;border:1px solid #F85C70;color:#f85c70;font-family:latoBold,sans-serif;font-size:12px;border-radius:20px;padding:4px 12px;cursor:pointer;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 32px 40px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:72px;color:#ddd;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:20px;color:#1a1a1a;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#888;margin:0 0 28px}.empty-state[_ngcontent-%COMP%]   .empty-icon-mart[_ngcontent-%COMP%]{color:#4a5bf5}.empty-state[_ngcontent-%COMP%]   .browse-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:15px;border:none;border-radius:30px;padding:12px 36px;cursor:pointer}.empty-state[_ngcontent-%COMP%]   .browse-btn.browse-btn-mart[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a5bf5,#6b7bff)}.empty-other-vertical[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:20px;background:#f5f5f5;border-radius:12px;padding:10px 16px;cursor:pointer;font-family:latoRegular,sans-serif;font-size:13px;color:#555}.empty-other-vertical[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#f85c70}.empty-other-vertical[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:last-child{color:#bbb;margin-left:auto}ion-content[_ngcontent-%COMP%]{--background: #f5f5f5}.cart-content[_ngcontent-%COMP%]{padding-bottom:20px}.section-block[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:8px 16px;padding:16px;box-shadow:0 2px 8px #0000000f}.section-heading[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#1a1a1a;margin:0 0 14px}.delivery-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;background:#fff;border:1px solid #eee;border-radius:12px;padding:14px;margin-bottom:12px}.delivery-card[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]{flex:1}.delivery-card[_ngcontent-%COMP%]   .delivery-distance[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;margin:0 0 4px}.delivery-card[_ngcontent-%COMP%]   .delivery-meta[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0}.link-btn[_ngcontent-%COMP%]{background:none;border:none;color:#f85c70;font-family:latoRegular,sans-serif;font-size:13px;cursor:pointer;white-space:nowrap;padding:0}.action-chips[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px}.chip-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:20px;padding:8px 16px;font-family:latoRegular,sans-serif;font-size:13px;color:#1a1a1a;cursor:pointer}.address-box[_ngcontent-%COMP%]{background:#fff0f1;border-radius:10px;padding:12px 14px}.address-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#f85c70;margin:0;line-height:1.4}.divider[_ngcontent-%COMP%]{height:8px;background:#f5f5f5}.vendor-group[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:8px 16px;padding:16px;box-shadow:0 2px 8px #0000000f}.vendor-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.vendor-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;cursor:pointer}.vendor-header[_ngcontent-%COMP%]   .vendor-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}.vendor-header[_ngcontent-%COMP%]   .vendor-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.vendor-header[_ngcontent-%COMP%]   .vendor-info[_ngcontent-%COMP%]{flex:1;min-width:0}.vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vendor-header[_ngcontent-%COMP%]   .vendor-cuisine[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:2px 0 0}.vendor-header[_ngcontent-%COMP%]   .vendor-arrow[_ngcontent-%COMP%]{color:#999;font-size:18px;flex-shrink:0}.cart-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:14px 0;border-bottom:1px solid #f0f0f0}.cart-item[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.cart-item-left[_ngcontent-%COMP%]{flex:1;min-width:0}.item-type-row[_ngcontent-%COMP%]{margin-bottom:4px}.item-type-row[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{width:16px;height:16px}.cart-item-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a;margin:0 0 4px}.cart-item-customization[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0 0 6px}.cart-item-price-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.cart-item-price[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a}.cart-item-original[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999;text-decoration:line-through}.cart-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.qty-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;border:1px solid #eee;border-radius:8px;overflow:hidden}.qty-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#fff;border:none;cursor:pointer}.qty-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#f85c70}.qty-count[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;min-width:24px;text-align:center}.note-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:16px;padding:5px 14px;font-family:latoRegular,sans-serif;font-size:12px;color:#1a1a1a;cursor:pointer}.heart-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer}.heart-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#999}.cart-item-right[_ngcontent-%COMP%]{flex-shrink:0}.cart-item-right[_ngcontent-%COMP%]   .cart-item-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:12px;object-fit:cover}.add-more-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 0 4px;border-top:1px solid #f0f0f0;margin-top:4px}.add-more-row[_ngcontent-%COMP%]   .add-more-label[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a}.add-more-row[_ngcontent-%COMP%]   .add-more-btn[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #F85C70;border-radius:20px;padding:6px 20px;font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;cursor:pointer}.vendor-offer-area[_ngcontent-%COMP%]{margin-top:12px;border-top:1px dashed #e8e8e8;padding-top:12px}.vendor-offer-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 0 8px}.vendor-offer-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px}.vendor-offer-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#999}.vendor-offer-nudge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;background:#ff8c4214;border:1px solid rgba(255,140,66,.28);border-radius:10px;padding:10px 12px;margin-bottom:8px}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;flex:1;min-width:0}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-icon-wrap[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:8px;background:#ff8c4226;display:flex;align-items:center;justify-content:center;flex-shrink:0}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff8c42}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-headline[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#1a1a1a;line-height:1.45}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-headline[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-headline[_ngcontent-%COMP%]   .nudge-discount[_ngcontent-%COMP%]{color:#ff8c42}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-sub[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-add-btn[_ngcontent-%COMP%]{background:#ff8c42;color:#fff;border:none;border-radius:16px;padding:6px 14px;font-family:latoBold,sans-serif;font-size:12px;cursor:pointer;white-space:nowrap;flex-shrink:0}.nudge-progress-wrap[_ngcontent-%COMP%]{height:3px;background:#ff8c4226;border-radius:2px;margin-bottom:10px;overflow:hidden}.nudge-progress-wrap[_ngcontent-%COMP%]   .nudge-progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ff8c42,#fc8c5c);border-radius:2px;max-width:100%;transition:width .4s ease}.vendor-offer-auto[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;background:linear-gradient(135deg,#2ecc7114,#27ae601f);border:1px solid rgba(46,204,113,.35);border-radius:10px;padding:10px 12px;margin-bottom:8px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;flex:1;min-width:0}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .offer-check-wrap[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:8px;background:#2ecc7126;display:flex;align-items:center;justify-content:center;flex-shrink:0}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .offer-check-wrap[_ngcontent-%COMP%]   .offer-check-icon[_ngcontent-%COMP%]{font-size:18px;color:#2ecc71}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:3px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-label[_ngcontent-%COMP%]{display:flex;align-items:center}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-label[_ngcontent-%COMP%]   .auto-badge[_ngcontent-%COMP%]{background:#2ecc71;color:#fff;font-family:latoBold,sans-serif;font-size:9px;padding:2px 7px;border-radius:4px;letter-spacing:.6px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#1a1a1a;line-height:1.3}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-savings[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-family:latoBold,sans-serif;font-size:12px;color:#2ecc71}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-savings[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-remove-btn[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:11px;color:#999;cursor:pointer;padding:2px 0;flex-shrink:0;margin-top:2px}.vendor-subtotal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0 0;font-family:latoRegular,sans-serif;font-size:14px;color:#888}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-label[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif}.vendor-subtotal[_ngcontent-%COMP%]   .vendor-subtotal-prices[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-original[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999;text-decoration:line-through}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-amount.amount-savings[_ngcontent-%COMP%]{color:#2ecc71}.coupon-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:8px 16px;padding:0;box-shadow:0 2px 8px #0000000f;overflow:hidden}.coupon-collapsed[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;cursor:pointer}.coupon-collapsed-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.coupon-icon[_ngcontent-%COMP%]{font-size:20px;color:#f85c70}.coupon-label[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a}.coupon-toggle-icon[_ngcontent-%COMP%]{font-size:18px;color:#999}.best-offer-suggestion[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 16px 14px;cursor:pointer}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-icon[_ngcontent-%COMP%]{font-size:18px;color:#ff8c42;flex-shrink:0}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-text[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-apply-btn[_ngcontent-%COMP%]{background:none;border:1.5px solid #F85C70;border-radius:6px;padding:4px 14px;font-family:latoBold,sans-serif;font-size:12px;color:#f85c70;cursor:pointer;flex-shrink:0;margin-left:10px}.coupon-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:0 16px 14px}.coupon-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999}.coupon-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.coupon-expanded[_ngcontent-%COMP%]   .coupon-expanded-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;cursor:pointer;border-bottom:1px solid #f0f0f0}.coupon-input-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px 16px}.coupon-input-row[_ngcontent-%COMP%]   .coupon-input[_ngcontent-%COMP%]{flex:1;border:1.5px solid #e0e0e0;border-radius:10px;padding:10px 14px;font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a;outline:none;text-transform:uppercase}.coupon-input-row[_ngcontent-%COMP%]   .coupon-input[_ngcontent-%COMP%]::placeholder{text-transform:none;color:#999}.coupon-input-row[_ngcontent-%COMP%]   .coupon-input[_ngcontent-%COMP%]:focus{border-color:#f85c70}.coupon-input-row[_ngcontent-%COMP%]   .coupon-apply-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:13px;border:none;border-radius:10px;padding:10px 20px;cursor:pointer;white-space:nowrap}.coupon-input-row[_ngcontent-%COMP%]   .coupon-apply-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}.offers-list[_ngcontent-%COMP%]{padding:0 16px 14px}.offers-list[_ngcontent-%COMP%]   .offers-list-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#888;margin:0 0 12px}.offer-card-apply[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px;margin-bottom:10px;background:#fafafa;border-radius:12px;border-left:3px solid #F85C70}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-left[_ngcontent-%COMP%]{flex:1;min-width:0}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-icon[_ngcontent-%COMP%]{font-size:18px;color:#f85c70;flex-shrink:0}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:10px;padding:2px 8px;border-radius:4px;white-space:nowrap;flex-shrink:0}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-desc[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0 0 6px;line-height:1.4}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.offer-card-apply[_ngcontent-%COMP%]   .offer-code-tag[_ngcontent-%COMP%]{background:#fff0f1;color:#f85c70;font-family:latoBold,sans-serif;font-size:11px;padding:2px 8px;border-radius:4px;letter-spacing:.3px}.offer-card-apply[_ngcontent-%COMP%]   .offer-min[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#999}.offer-card-apply[_ngcontent-%COMP%]   .offer-saves[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:11px;color:#2ecc71}.offer-card-apply[_ngcontent-%COMP%]   .offer-vendor-badge[_ngcontent-%COMP%]{background:#f0f0f0;font-family:latoRegular,sans-serif;font-size:10px;color:#888;padding:2px 6px;border-radius:4px}.offer-card-apply[_ngcontent-%COMP%]   .offer-apply-btn[_ngcontent-%COMP%]{background:none;border:1.5px solid #F85C70;border-radius:6px;padding:6px 16px;font-family:latoBold,sans-serif;font-size:12px;color:#f85c70;cursor:pointer;white-space:nowrap;flex-shrink:0;align-self:center}.no-offers[_ngcontent-%COMP%]{padding:16px;text-align:center}.no-offers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#999;margin:0 0 8px}.no-offers[_ngcontent-%COMP%]   .no-offers-link[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;cursor:pointer;padding:0}.offers-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:20px 16px}.offers-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999}.offers-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.coupon-applied[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:8px 16px;padding:14px 16px;background:#eafaf1;border-radius:14px;border:1px solid #d4edda;box-shadow:0 2px 8px #0000000f}.coupon-applied[_ngcontent-%COMP%]   .applied-icon[_ngcontent-%COMP%]{font-size:22px;color:#2ecc71;flex-shrink:0}.coupon-applied[_ngcontent-%COMP%]   .applied-info[_ngcontent-%COMP%]{flex:1;min-width:0}.coupon-applied[_ngcontent-%COMP%]   .applied-code[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a}.coupon-applied[_ngcontent-%COMP%]   .applied-savings[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#2ecc71;margin-left:4px}.coupon-applied[_ngcontent-%COMP%]   .applied-remove-btn[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:12px;color:#f85c70;cursor:pointer;padding:4px 8px;flex-shrink:0}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a}.summary-row[_ngcontent-%COMP%]   .summary-prices[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.summary-row[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{color:#999;text-decoration:line-through;font-size:13px}.summary-row[_ngcontent-%COMP%]   .free-text[_ngcontent-%COMP%]{color:#2ecc71;font-family:latoBold,sans-serif}.summary-row.vendor-savings-row[_ngcontent-%COMP%]{color:#2ecc71;font-family:latoRegular,sans-serif;font-size:13px}.summary-row.vendor-savings-row[_ngcontent-%COMP%]   .vendor-savings-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.summary-row.vendor-savings-row[_ngcontent-%COMP%]   .vendor-savings-label[_ngcontent-%COMP%]   .vendor-savings-icon[_ngcontent-%COMP%]{font-size:15px;color:#2ecc71}.summary-row.vendor-savings-row[_ngcontent-%COMP%]   .coupon-discount-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#2ecc71}.summary-row.coupon-savings-row[_ngcontent-%COMP%]{color:#2ecc71;font-family:latoRegular,sans-serif;font-size:13px}.summary-row.coupon-savings-row[_ngcontent-%COMP%]   .coupon-discount-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#2ecc71}.summary-row.total-row[_ngcontent-%COMP%]{padding-top:12px;margin-top:4px;border-top:1px solid #eee;font-family:latoBold,sans-serif;font-size:15px}.summary-row.total-row[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:16px}.view-details-link[_ngcontent-%COMP%]{background:none;border:none;padding:8px 0 0;font-family:latoRegular,sans-serif;font-size:13px;color:#f85c70;cursor:pointer;display:flex;align-items:center;gap:4px}.view-details-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;transition:transform .2s}.inline-spinner[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.inline-spinner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.free-badge-inline[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:12px;color:#2ecc71;background:#eafaf1;padding:2px 8px;border-radius:4px}.tax-rate[_ngcontent-%COMP%], .delivery-km[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#999}.fee-details-expand[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px dashed #e0e0e0;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}.fee-details-section[_ngcontent-%COMP%]{margin-bottom:14px}.fee-details-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.fee-details-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#888;margin-bottom:8px;text-transform:uppercase;letter-spacing:.3px}.fee-detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0;font-family:latoRegular,sans-serif;font-size:13px;color:#888}.fee-detail-row[_ngcontent-%COMP%]   .fee-detail-value[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a;font-size:13px}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]{justify-content:flex-start;gap:6px;padding:6px 0 2px;font-size:12px;color:#2ecc71}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]   .free-check-icon[_ngcontent-%COMP%]{font-size:16px;color:#2ecc71}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff8c42}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:inherit}.payment-method[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:14px 16px;background:#fafafa;border-top:1px solid #f0f0f0}.payment-method[_ngcontent-%COMP%]   .wallet-icon[_ngcontent-%COMP%]{font-size:22px;color:#1a1a1a}.payment-method[_ngcontent-%COMP%]   .wallet-label[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#f85c70}.payment-method[_ngcontent-%COMP%]   .wallet-arrow[_ngcontent-%COMP%]{font-size:14px;color:#f85c70}.payment-method[_ngcontent-%COMP%]   .wallet-dot[_ngcontent-%COMP%]{color:#999;font-size:18px}.payment-method[_ngcontent-%COMP%]   .wallet-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;margin-left:auto}.savings-text[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;padding:10px 16px 0;margin:0}ion-footer[_ngcontent-%COMP%]{background:#fff}ion-footer[_ngcontent-%COMP%]   .footer-wrap[_ngcontent-%COMP%]{padding:10px 16px;padding-bottom:calc(10px + env(safe-area-inset-bottom))}.active-order-banner[_ngcontent-%COMP%]{background:#fff8f0;border-top:1px solid #ffe0c0;padding:10px 16px;display:flex;align-items:center;gap:10px}.active-order-banner[_ngcontent-%COMP%]   .aob-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;flex:1;min-width:0}.active-order-banner[_ngcontent-%COMP%]   .aob-info[_ngcontent-%COMP%]   .aob-icon[_ngcontent-%COMP%]{font-size:20px;color:#ff8c42;flex-shrink:0;margin-top:1px}.active-order-banner[_ngcontent-%COMP%]   .aob-info[_ngcontent-%COMP%]   .aob-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1px;min-width:0}.active-order-banner[_ngcontent-%COMP%]   .aob-info[_ngcontent-%COMP%]   .aob-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:12px;color:#1a1a1a;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.active-order-banner[_ngcontent-%COMP%]   .aob-info[_ngcontent-%COMP%]   .aob-sub[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#888}.active-order-banner[_ngcontent-%COMP%]   .aob-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-shrink:0}.active-order-banner[_ngcontent-%COMP%]   .aob-view-btn[_ngcontent-%COMP%]{background:none;border:1px solid #FF8C42;border-radius:16px;padding:5px 12px;font-family:latoBold,sans-serif;font-size:11px;color:#ff8c42;cursor:pointer}.active-order-banner[_ngcontent-%COMP%]   .aob-force-btn[_ngcontent-%COMP%]{background:none;border:1px solid #F85C70;border-radius:16px;padding:5px 12px;font-family:latoBold,sans-serif;font-size:11px;color:#f85c70;cursor:pointer}.active-order-banner[_ngcontent-%COMP%]   .aob-force-btn.active[_ngcontent-%COMP%]{background:#f85c70;color:#fff}.place-order-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:16px;border:none;border-radius:30px;padding:14px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:8px}.place-order-btn[_ngcontent-%COMP%]:disabled{opacity:.75;cursor:not-allowed}.place-order-spinner[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.place-order-spinner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px;color:#fff}"]})}}return t})();var rn=[{path:"",component:Ve}],ze=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=V({type:t})}static{this.\u0275inj=E({imports:[W.forChild(rn),W]})}}return t})();var Dn=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=V({type:t})}static{this.\u0275inj=E({imports:[F,pe,j,ze,Be,Ie]})}}return t})();export{Dn as CartPageModule};
