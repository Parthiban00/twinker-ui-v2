import{b as Be}from"./chunk-A65U7EDA.js";import{a as Ee}from"./chunk-2KTNZ4RA.js";import{a as Ie}from"./chunk-LDNKTUYY.js";import{a as we}from"./chunk-LWJUYWZI.js";import{a as Me}from"./chunk-R23HIETB.js";import{a as ke,b as Se}from"./chunk-FSHR25YY.js";import{a as ye,b as be}from"./chunk-MHL5TPBJ.js";import{a as Pe}from"./chunk-6VMG7IQ2.js";import{A as I,B as m,Ba as ce,D as l,E as n,F as i,Fa as q,G as p,Ga as le,H as k,I as S,Ia as de,Jb as Ce,K as C,Ka as fe,L as x,Lb as he,M as c,Nb as Oe,Qa as pe,R as E,S as ee,T as r,Ta as ge,U as v,V as g,W as B,Wb as V,X as te,Y as ne,Z as ie,Zb as A,b as G,da as oe,db as me,e as H,eb as _e,fa as re,g as U,ia as T,ka as ae,kb as ue,l as J,la as z,m as M,n as Q,nb as xe,o as _,p as u,pb as ve,q as X,qb as D,r as Z,ra as se,ta as F,v as K,w as o,y as O,z as w}from"./chunk-AM2DXERQ.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import{a as W,b as Y,e as $}from"./chunk-JHI3MBHO.js";function je(t,d){if(t&1){let e=C();n(0,"div",3)(1,"div",4)(2,"div",5),X(),n(3,"svg",6),p(4,"circle",7)(5,"circle",8),i(),Z(),p(6,"ion-icon",9),i(),p(7,"div",10)(8,"div",11),i(),n(9,"h1",12),r(10,"Placing order.."),i(),n(11,"p",13),r(12,"Wait a moment, your order is"),p(13,"br"),r(14,"being placed!"),i(),n(15,"div",14)(16,"div",15),p(17,"div",16),i(),n(18,"span",17),r(19),i()(),n(20,"button",18),x("click",function(){_(e);let s=c();return u(s.cancelOrder())}),r(21,"Cancel order"),i()()}if(t&2){let e=c();o(17),E("width",(10-e.countdown)/10*100,"%"),o(2),g("",e.countdown,"s remaining")}}function Le(t,d){if(t&1){let e=C();n(0,"div",19)(1,"div",4)(2,"div",20),p(3,"ion-icon",21),i(),p(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25)(8,"div",26)(9,"div",27),i(),n(10,"h1",28),r(11,"Order successful"),i(),n(12,"p",13),r(13,"Cool down, your food will arrive in"),p(14,"br"),r(15,"25 minutes."),i(),n(16,"div",29)(17,"button",30),x("click",function(){_(e);let s=c();return u(s.trackOrder())}),r(18,"Track my order"),i(),n(19,"button",31),x("click",function(){_(e);let s=c();return u(s.goHome())}),r(20,"Back to home"),i()()()}}var Te=(()=>{class t{constructor(e,a){this.modalCtrl=e,this.cdr=a,this.state="placing",this.countdown=10,this.timerInterval=null}ngOnInit(){this.startCountdown()}ngOnDestroy(){this.clearTimer()}startCountdown(){this.timerInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&(this.clearTimer(),this.onOrderPlaced()),this.cdr.detectChanges()},1e3)}onOrderPlaced(){this.state="success",localStorage.removeItem("cart-items"),this.cdr.detectChanges()}clearTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}cancelOrder(){this.clearTimer(),this.modalCtrl.dismiss(null,"cancel")}trackOrder(){this.modalCtrl.dismiss({action:"track"},"confirm")}goHome(){this.modalCtrl.dismiss({action:"home"},"confirm")}static{this.\u0275fac=function(a){return new(a||t)(O(V),O(T))}}static{this.\u0275cmp=w({type:t,selectors:[["app-order-status"]],decls:3,vars:2,consts:[[1,"order-status-page"],["class","status-content",4,"ngIf"],["class","status-content success-content",4,"ngIf"],[1,"status-content"],[1,"icon-area"],[1,"circle-bg","placing-circle"],["viewBox","0 0 120 120",1,"spinner-arc"],["cx","60","cy","60","r","56","fill","none","stroke","rgba(255,255,255,0.3)","stroke-width","4"],["cx","60","cy","60","r","56","fill","none","stroke","#fff","stroke-width","4","stroke-dasharray","88 264","stroke-linecap","round",1,"arc"],["name","bag-handle-outline",1,"status-icon"],[1,"pulse-ring","ring-1"],[1,"pulse-ring","ring-2"],[1,"status-title"],[1,"status-subtitle"],[1,"progress-wrap"],[1,"progress-track"],[1,"progress-fill"],[1,"progress-time"],[1,"cancel-btn",3,"click"],[1,"status-content","success-content"],[1,"circle-bg","success-circle"],["name","checkmark",1,"status-icon","check-icon"],[1,"confetti-dot","dot-1"],[1,"confetti-dot","dot-2"],[1,"confetti-dot","dot-3"],[1,"confetti-dot","dot-4"],[1,"confetti-dot","dot-5"],[1,"confetti-dot","dot-6"],[1,"status-title","success-title"],[1,"action-buttons"],[1,"primary-btn",3,"click"],[1,"secondary-btn",3,"click"]],template:function(a,s){a&1&&(n(0,"div",0),m(1,je,22,3,"div",1)(2,Le,21,0,"div",2),i()),a&2&&(o(),l("ngIf",s.state==="placing"),o(),l("ngIf",s.state==="success"))},dependencies:[F,z,A,D],styles:[".order-status-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background:#fff;padding:40px 32px}.status-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:100%;max-width:320px;animation:_ngcontent-%COMP%_fadeIn .5s ease}.icon-area[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;margin-bottom:36px;display:flex;align-items:center;justify-content:center}.circle-bg[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative;z-index:2}.placing-circle[_ngcontent-%COMP%]{background:linear-gradient(145deg,#f85c70,#fc5c7d);box-shadow:0 12px 40px #f85c7059}.success-circle[_ngcontent-%COMP%]{background:linear-gradient(145deg,#f85c70,#fc5c7d);box-shadow:0 12px 40px #f85c7059;animation:_ngcontent-%COMP%_scaleIn .5s cubic-bezier(.34,1.56,.64,1)}.status-icon[_ngcontent-%COMP%]{font-size:48px;color:#fff;z-index:3}.check-icon[_ngcontent-%COMP%]{font-size:56px;font-weight:700;animation:_ngcontent-%COMP%_checkPop .6s cubic-bezier(.34,1.56,.64,1) .2s both}.spinner-arc[_ngcontent-%COMP%]{position:absolute;top:-4px;left:-4px;width:128px;height:128px;z-index:4;animation:_ngcontent-%COMP%_spinArc 1.4s linear infinite}.arc[_ngcontent-%COMP%]{transform-origin:center}.pulse-ring[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border:2px solid rgba(248,92,112,.2);z-index:1}.ring-1[_ngcontent-%COMP%]{width:140px;height:140px;top:0;left:0;animation:_ngcontent-%COMP%_pulseRing 2s ease-out infinite}.ring-2[_ngcontent-%COMP%]{width:140px;height:140px;top:0;left:0;animation:_ngcontent-%COMP%_pulseRing 2s ease-out .8s infinite}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:50%;z-index:1;animation:_ngcontent-%COMP%_confettiBurst .8s cubic-bezier(.34,1.56,.64,1) forwards;opacity:0}.dot-1[_ngcontent-%COMP%]{width:10px;height:10px;background:gold;top:0;left:20%;animation-delay:.1s}.dot-2[_ngcontent-%COMP%]{width:8px;height:8px;background:#f85c70;top:10%;right:5%;animation-delay:.2s}.dot-3[_ngcontent-%COMP%]{width:12px;height:12px;background:#4a5bf5;bottom:15%;left:0;animation-delay:.15s}.dot-4[_ngcontent-%COMP%]{width:7px;height:7px;background:#2dbcb6;bottom:5%;right:15%;animation-delay:.25s}.dot-5[_ngcontent-%COMP%]{width:9px;height:9px;background:#ff8c42;top:30%;left:-5%;animation-delay:.3s}.dot-6[_ngcontent-%COMP%]{width:6px;height:6px;background:gold;top:20%;right:-2%;animation-delay:.18s}.status-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:26px;color:#1a1a1a;margin:0 0 10px}.success-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideUp .5s ease .3s both}.status-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:15px;color:#888;line-height:1.5;margin:0 0 36px}.progress-wrap[_ngcontent-%COMP%]{width:100%;margin-bottom:32px}.progress-track[_ngcontent-%COMP%]{width:100%;height:6px;background:#f0f0f0;border-radius:3px;overflow:hidden;margin-bottom:10px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#f85c70,#fc5c7d);border-radius:3px;transition:width 1s linear}.progress-time[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#888}.cancel-btn[_ngcontent-%COMP%]{background:none;border:1.5px solid #e0e0e0;border-radius:30px;padding:13px 40px;font-family:latoBold,sans-serif;font-size:15px;color:#888;cursor:pointer;transition:border-color .2s,color .2s}.cancel-btn[_ngcontent-%COMP%]:active{border-color:#f85c70;color:#f85c70}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease .5s both}.primary-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#f85c70,#fc5c7d);color:#fff;font-family:latoBold,sans-serif;font-size:16px;border:none;border-radius:30px;padding:15px;cursor:pointer;transition:transform .1s}.primary-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.secondary-btn[_ngcontent-%COMP%]{width:100%;background:#fff;color:#1a1a1a;font-family:latoBold,sans-serif;font-size:15px;border:1.5px solid #e0e0e0;border-radius:30px;padding:14px;cursor:pointer;transition:border-color .2s}.secondary-btn[_ngcontent-%COMP%]:active{border-color:#f85c70}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spinArc{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulseRing{0%{transform:scale(1);opacity:.6}to{transform:scale(1.6);opacity:0}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_checkPop{0%{transform:scale(0) rotate(-45deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_confettiBurst{0%{transform:scale(0) translate(0);opacity:0}50%{opacity:1}to{transform:scale(1) translate(var(--tx, 0),var(--ty, 0));opacity:.8}}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}"]})}}return t})();var ze=(()=>{class t{constructor(e){this.webservice=e}calculateFees(e){return this.webservice.post("locality/calculateFees",e)}static{this.\u0275fac=function(a){return new(a||t)(Q(be))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $e(t,d){if(t&1){let e=C();n(0,"div",11),p(1,"ion-icon",12),n(2,"h2",13),r(3,"Your cart is empty"),i(),n(4,"p",14),r(5,"Add items from a restaurant to start your order"),i(),n(6,"button",15),x("click",function(){_(e);let s=c();return u(s.browsRestaurants())}),r(7,"Browse Restaurants"),i()()}}function Ge(t,d){if(t&1&&(n(0,"p",52)(1,"strong"),r(2),i()()),t&2){let e=c(2);o(2),g("",e.feeBreakdown.delivery.maxDistanceKm," km distance")}}function Ue(t,d){t&1&&(n(0,"p",52)(1,"strong"),r(2,"Calculating..."),i()())}function Ke(t,d){t&1&&(n(0,"span"),r(1," \xB7 Free delivery!"),i())}function qe(t,d){if(t&1&&(n(0,"p",53),r(1),m(2,Ke,2,0,"span",39),i()),t&2){let e=c(2);o(),g(" Est. delivery fee \u20B9",e.feeBreakdown.delivery.originalFee.toFixed(0)," "),o(),l("ngIf",e.feeBreakdown.delivery.freeDeliveryApplied)}}function We(t,d){if(t&1&&(n(0,"div",54)(1,"p"),r(2),i()()),t&2){let e=c(2);o(2),v(e.userAddress.fullAddress||e.userAddress.addressLine1||"Delivery address")}}function Ye(t,d){if(t&1&&(n(0,"p",74),r(1),i()),t&2){let e=c().$implicit;o(),v(e.vendorCuisine)}}function He(t,d){t&1&&p(0,"img",97)}function Je(t,d){t&1&&p(0,"img",98)}function Qe(t,d){t&1&&p(0,"img",99)}function Xe(t,d){if(t&1&&(n(0,"p",100),r(1),i()),t&2){let e=c().$implicit;o(),v(e.customizationSummary)}}function Ze(t,d){if(t&1&&(n(0,"span",101),r(1),i()),t&2){let e=c().$implicit;o(),g(" \u20B9 ",(e.basePrice*e.itemCount).toFixed(2)," ")}}function et(t,d){if(t&1){let e=C();n(0,"div",75)(1,"div",76)(2,"div",77),m(3,He,1,0,"img",78)(4,Je,1,0,"img",79)(5,Qe,1,0,"img",80),i(),n(6,"h4",81),r(7),i(),m(8,Xe,2,1,"p",82),n(9,"div",83)(10,"span",84),r(11),i(),m(12,Ze,2,1,"span",85),i(),n(13,"div",86)(14,"div",87)(15,"button",88),x("click",function(){let s=_(e).$implicit,f=c(3);return u(f.decrementItem(s))}),p(16,"ion-icon",89),i(),n(17,"span",90),r(18),i(),n(19,"button",88),x("click",function(){let s=_(e).$implicit,f=c(3);return u(f.incrementItem(s))}),p(20,"ion-icon",91),i()(),n(21,"button",92),r(22,"Note"),i(),n(23,"button",93),p(24,"ion-icon",94),i()()(),n(25,"div",95),p(26,"img",96),i()()}if(t&2){let e=d.$implicit,a=c(3);o(3),l("ngIf",e.type==="non-veg"),o(),l("ngIf",e.type==="veg"),o(),l("ngIf",e.type==="egg"),o(2),v(e.productName),o(),l("ngIf",e.customizationSummary),o(3),g("\u20B9 ",(e.price*e.itemCount).toFixed(2)),o(),l("ngIf",e.basePrice&&e.basePrice!==e.price),o(6),v(e.itemCount),o(8),l("src",a.getItemImage(e),K)("alt",e.productName)}}function tt(t,d){t&1&&(n(0,"div",102),p(1,"ion-spinner",103),n(2,"span"),r(3,"Finding best offers..."),i()())}function nt(t,d){if(t&1){let e=C();k(0),n(1,"div",105)(2,"div",106)(3,"div",107),p(4,"ion-icon",108),i(),n(5,"div",109)(6,"span",110),r(7," Add "),n(8,"strong"),r(9),i(),r(10," to unlock "),n(11,"strong",111),r(12),i()(),n(13,"span",112),r(14),i()()(),n(15,"button",113),x("click",function(){_(e);let s=c(2).$implicit,f=c(2);return u(f.goToVendor(s.vendorId))}),r(16,"Add items"),i()(),n(17,"div",114),p(18,"div",115),oe(19,"number"),i(),S()}if(t&2){let e=d.ngIf,a=c(2).$implicit,s=c(2);o(9),g("\u20B9",s.getVendorNudgeAmount(a)," more"),o(3),v(s.getVendorNudgeLabel(e)),o(2),v(e.title),o(4),E("width",re(19,5,a.subtotal/e.minOrderAmount*100,"1.0-0"),"%")}}function it(t,d){if(t&1){let e=C();n(0,"div",116)(1,"div",117)(2,"div",118),p(3,"ion-icon",119),i(),n(4,"div",120)(5,"span",121)(6,"span",122),r(7,"AUTO APPLIED"),i()(),n(8,"span",123),r(9),i(),n(10,"span",124),p(11,"ion-icon",125),r(12),i()()(),n(13,"button",126),x("click",function(){_(e);let s=c(2).$implicit,f=c(2);return u(f.removeVendorOffer(s))}),r(14,"REMOVE"),i()()}if(t&2){let e=c(2).$implicit;o(9),B(" ",e.appliedOffer.code?e.appliedOffer.code+" \xB7 ":"","",e.appliedOffer.title," "),o(3),g(" You save \u20B9",e.offerDiscount," on this order! ")}}function ot(t,d){if(t&1&&(k(0),m(1,nt,20,8,"ng-container",39)(2,it,15,3,"div",104),S()),t&2){let e=c().$implicit,a=c(2);o(),l("ngIf",a.getVendorBestNudgeOffer(e)),o(),l("ngIf",e.appliedOffer)}}function rt(t,d){if(t&1&&(n(0,"span",127),r(1),i()),t&2){let e=c().$implicit;o(),g("\u20B9",e.subtotal.toFixed(2))}}function at(t,d){if(t&1){let e=C();n(0,"div",55)(1,"div",56),x("click",function(){let s=_(e).$implicit,f=c(2);return u(f.goToVendor(s.vendorId))}),n(2,"div",57),p(3,"img",58),i(),n(4,"div",59)(5,"h4",60),r(6),i(),m(7,Ye,2,1,"p",61),i(),p(8,"ion-icon",62),i(),m(9,et,27,10,"div",63),n(10,"div",64)(11,"span",65),r(12,"Need anything else?"),i(),n(13,"button",66),x("click",function(){let s=_(e).$implicit,f=c(2);return u(f.goToVendor(s.vendorId))}),r(14,"Add more"),i()(),n(15,"div",67),m(16,tt,4,0,"div",68)(17,ot,3,2,"ng-container",39),n(18,"div",69)(19,"span",70),r(20,"Subtotal"),i(),n(21,"div",71),m(22,rt,2,1,"span",72),n(23,"span",73),r(24),i()()()()()}if(t&2){let e=d.$implicit,a=c(2);o(3),l("src",a.getVendorImage(e),K)("alt",e.vendorName),o(3),v(e.vendorName),o(),l("ngIf",e.vendorCuisine),o(2),l("ngForOf",e.items),o(7),l("ngIf",a.isLoadingOffers),o(),l("ngIf",!a.isLoadingOffers),o(5),l("ngIf",e.offerDiscount),o(),ee("amount-savings",e.offerDiscount),o(),g(" \u20B9",(e.subtotal-(e.offerDiscount||0)).toFixed(2)," ")}}function st(t,d){if(t&1){let e=C();n(0,"div",133),x("click",function(){_(e);let s=c(3);return u(s.toggleOfferSheet())}),n(1,"div",134),p(2,"ion-icon",135),n(3,"span",136),r(4,"Apply Coupon"),i()(),p(5,"ion-icon",137),i()}}function ct(t,d){if(t&1){let e=C();n(0,"div",138),x("click",function(){_(e);let s=c(3);return u(s.toggleOfferSheet())}),n(1,"div",139),p(2,"ion-icon",140),n(3,"span",141),r(4," Best offer: "),n(5,"strong"),r(6),i(),r(7," saves "),n(8,"strong"),r(9),i()()(),n(10,"button",142),x("click",function(s){_(e);let f=c(3);return s.stopPropagation(),u(f.applyOffer(f.getBestOffer()))}),r(11,"APPLY"),i()()}if(t&2){let e=c(3);o(6),v(e.getBestOffer().code||e.getBestOffer().title),o(3),g("\u20B9",e.getOfferSavings(e.getBestOffer()))}}function lt(t,d){t&1&&(n(0,"div",143),p(1,"ion-spinner",103),n(2,"span"),r(3,"Finding best offers..."),i()())}function dt(t,d){if(t&1&&(n(0,"p",169),r(1),i()),t&2){let e=c().$implicit;o(),v(e.description)}}function ft(t,d){if(t&1&&(n(0,"span",170),r(1),i()),t&2){let e=c().$implicit;o(),v(e.code)}}function pt(t,d){if(t&1&&(n(0,"span",171),r(1),i()),t&2){let e=c().$implicit;o(),g("Min \u20B9",e.minOrderAmount)}}function gt(t,d){if(t&1&&(n(0,"span",172),r(1),i()),t&2){let e=c().$implicit;o(),v(e.vendor.name)}}function mt(t,d){if(t&1){let e=C();n(0,"div",156)(1,"div",157)(2,"div",158),p(3,"ion-icon",159),n(4,"span",160),r(5),i(),n(6,"span",161),r(7),i()(),m(8,dt,2,1,"p",162),n(9,"div",163),m(10,ft,2,1,"span",164)(11,pt,2,1,"span",165),n(12,"span",166),r(13),i(),m(14,gt,2,1,"span",167),i()(),n(15,"button",168),x("click",function(){let s=_(e).$implicit,f=c(5);return u(f.applyOffer(s))}),r(16,"APPLY"),i()()}if(t&2){let e=d.$implicit,a=c(5);o(3),l("name",e.icon||"pricetag-outline"),o(2),v(e.title),o(2),v(a.getOfferLabel(e)),o(),l("ngIf",e.description),o(2),l("ngIf",e.code),o(),l("ngIf",e.minOrderAmount>0),o(2),g("Saves \u20B9",a.getOfferSavings(e)),o(),l("ngIf",e.vendor==null?null:e.vendor.name)}}function _t(t,d){if(t&1&&(n(0,"div",153)(1,"h4",154),r(2),i(),m(3,mt,17,8,"div",155),i()),t&2){let e=c(4);o(2),g("Available Offers (",e.applicableOffers.length,")"),o(),l("ngForOf",e.applicableOffers)}}function ut(t,d){if(t&1){let e=C();n(0,"div",173)(1,"p"),r(2,"No applicable offers for this order"),i(),n(3,"button",174),x("click",function(){_(e);let s=c(4);return u(s.goToDeals())}),r(4,"Browse all deals"),i()()}}function xt(t,d){t&1&&(n(0,"div",175),p(1,"ion-spinner",103),n(2,"span"),r(3,"Loading offers..."),i()())}function vt(t,d){if(t&1){let e=C();n(0,"div",144)(1,"div",145),x("click",function(){_(e);let s=c(3);return u(s.toggleOfferSheet())}),n(2,"div",134),p(3,"ion-icon",135),n(4,"span",136),r(5,"Apply Coupon"),i()(),p(6,"ion-icon",146),i(),n(7,"div",147)(8,"input",148),ie("ngModelChange",function(s){_(e);let f=c(3);return ne(f.couponCode,s)||(f.couponCode=s),u(s)}),x("keyup.enter",function(){_(e);let s=c(3);return u(s.applyCouponCode())}),i(),n(9,"button",149),x("click",function(){_(e);let s=c(3);return u(s.applyCouponCode())}),r(10," APPLY "),i()(),m(11,_t,4,2,"div",150)(12,ut,5,0,"div",151)(13,xt,4,0,"div",152),i()}if(t&2){let e=c(3);o(8),te("ngModel",e.couponCode),o(),l("disabled",!e.couponCode.trim()),o(2),l("ngIf",e.applicableOffers.length>0),o(),l("ngIf",e.applicableOffers.length===0&&!e.isLoadingOffers),o(),l("ngIf",e.isLoadingOffers)}}function Ct(t,d){if(t&1&&(n(0,"div",128),m(1,st,6,0,"div",129)(2,ct,12,2,"div",130)(3,lt,4,0,"div",131)(4,vt,14,5,"div",132),i()),t&2){let e=c(2);o(),l("ngIf",!e.showOfferSheet),o(),l("ngIf",!e.showOfferSheet&&e.getBestOffer()&&!e.isLoadingOffers),o(),l("ngIf",!e.showOfferSheet&&e.isLoadingOffers),o(),l("ngIf",e.showOfferSheet)}}function ht(t,d){if(t&1){let e=C();n(0,"div",176),p(1,"ion-icon",177),n(2,"div",178)(3,"span",179),r(4),i(),n(5,"span",180),r(6),i()(),n(7,"button",181),x("click",function(){_(e);let s=c(2);return u(s.removeOffer())}),r(8,"REMOVE"),i()()}if(t&2){let e=c(2);o(4),v(e.appliedOffer.code||e.appliedOffer.title),o(2),g("applied \u2014 you save \u20B9",e.couponDiscount)}}function Ot(t,d){if(t&1&&(n(0,"span",182),r(1),i()),t&2){let e=c(2);o(),g("\u20B9 ",e.totalOriginalPrice.toFixed(2))}}function Pt(t,d){if(t&1&&(n(0,"div",183)(1,"div",184),p(2,"ion-icon",185),n(3,"span"),r(4,"Restaurant offers"),i()(),n(5,"span",186),r(6),i()()),t&2){let e=c(2);o(6),g("-\u20B9",e.vendorDiscountTotal.toFixed(2))}}function yt(t,d){if(t&1&&(n(0,"div",187)(1,"span"),r(2),i(),n(3,"span",186),r(4),i()()),t&2){let e=c(2);o(2),g("Coupon (",e.appliedOffer.code||e.appliedOffer.title,")"),o(2),g("-\u20B9",e.couponDiscount.toFixed(2))}}function bt(t,d){if(t&1&&(n(0,"span",188),r(1),i()),t&2){let e=c(2);o(),g(" (",e.feeBreakdown.delivery.maxDistanceKm," km)")}}function Mt(t,d){if(t&1&&(k(0),n(1,"span",182),r(2),i(),n(3,"span",189),r(4,"FREE"),i(),S()),t&2){let e=c(3);o(2),g("\u20B9 ",e.feeBreakdown.delivery.originalFee.toFixed(2))}}function wt(t,d){if(t&1&&(n(0,"span"),r(1),i()),t&2){let e=c(3);o(),g("\u20B9 ",e.feeBreakdown.delivery.fee.toFixed(2))}}function It(t,d){if(t&1&&(n(0,"div",32),m(1,Mt,5,1,"ng-container",39)(2,wt,2,1,"span",39),i()),t&2){let e=c(2);o(),l("ngIf",e.feeBreakdown.delivery.freeDeliveryApplied),o(),l("ngIf",!e.feeBreakdown.delivery.freeDeliveryApplied)}}function kt(t,d){t&1&&(n(0,"span",190),p(1,"ion-spinner",103),i())}function St(t,d){t&1&&(n(0,"span"),r(1,"--"),i())}function Et(t,d){if(t&1&&(n(0,"div",31)(1,"span"),r(2,"Platform fee"),i(),n(3,"span"),r(4),i()()),t&2){let e=c(2);o(4),g("\u20B9 ",e.platformFee.toFixed(2))}}function Bt(t,d){if(t&1&&(n(0,"span",192),r(1),i()),t&2){let e=c(3);o(),g("(",e.feeBreakdown.tax.value,"%)")}}function Tt(t,d){if(t&1&&(n(0,"div",31)(1,"span"),r(2),m(3,Bt,2,1,"span",191),i(),n(4,"span"),r(5),i()()),t&2){let e=c(2);o(2),g(" ",e.feeBreakdown.tax.label," "),o(),l("ngIf",e.feeBreakdown.tax.type==="percentage"),o(2),g("\u20B9 ",e.taxAmount.toFixed(2))}}function zt(t,d){if(t&1){let e=C();n(0,"button",193),x("click",function(){_(e);let s=c(2);return u(s.toggleFeeDetails())}),n(1,"span"),r(2),i(),p(3,"ion-icon",194),i()}if(t&2){let e=c(2);o(2),v(e.showFeeDetails?"Hide details":"View details"),o(),l("name",e.showFeeDetails?"chevron-up-outline":"chevron-down-outline")}}function Ft(t,d){if(t&1&&(n(0,"div",199)(1,"span"),r(2),i(),n(3,"span",200),r(4),i()()),t&2){let e=d.$implicit;o(2),v(e.vendorName),o(2),g("",e.distanceKm," km")}}function Dt(t,d){if(t&1&&(n(0,"div",199)(1,"span"),r(2),i(),n(3,"span",200),r(4),i()()),t&2){let e=c(3);o(2),B("Extra distance (",(e.feeBreakdown.delivery.maxDistanceKm-e.feeBreakdown.delivery.baseDistanceKm).toFixed(1)," km x \u20B9",e.feeBreakdown.delivery.perKmCharge,")"),o(2),g("\u20B9 ",((e.feeBreakdown.delivery.maxDistanceKm-e.feeBreakdown.delivery.baseDistanceKm)*e.feeBreakdown.delivery.perKmCharge).toFixed(2))}}function Vt(t,d){if(t&1&&(n(0,"div",204)(1,"span"),r(2),i()()),t&2){let e=c(3);o(2),B("Multi-store surcharge (",e.feeBreakdown.delivery.storeCount," stores, +",(e.feeBreakdown.delivery.storeCount-1)*e.feeBreakdown.delivery.multiStoreSurchargePercent,"%)")}}function At(t,d){if(t&1&&(n(0,"div",204),p(1,"ion-icon",205),n(2,"span"),r(3),i()()),t&2){let e=c(3);o(3),g("Free delivery applied (order above \u20B9",e.feeBreakdown.delivery.freeDeliveryThreshold,")")}}function Rt(t,d){if(t&1&&(n(0,"div",204),p(1,"ion-icon",206),n(2,"span"),r(3),i()()),t&2){let e=c(3);o(3),g("Add \u20B9",(e.feeBreakdown.delivery.freeDeliveryThreshold-e.totalDiscountedPrice).toFixed(0)," more for free delivery")}}function jt(t,d){if(t&1&&(n(0,"div",196)(1,"div",197),r(2,"Platform fee"),i(),n(3,"div",199)(4,"span"),r(5,"Service & operations charge"),i(),n(6,"span",200),r(7),i()()()),t&2){let e=c(3);o(7),g("\u20B9 ",e.platformFee.toFixed(2))}}function Lt(t,d){if(t&1&&(n(0,"span"),r(1),i()),t&2){let e=c(4);o(),g("",e.feeBreakdown.tax.value,"% on item total")}}function Nt(t,d){t&1&&(n(0,"span"),r(1,"Flat tax"),i())}function $t(t,d){if(t&1&&(n(0,"div",196)(1,"div",197),r(2),i(),n(3,"div",199),m(4,Lt,2,1,"span",39)(5,Nt,2,0,"span",39),n(6,"span",200),r(7),i()()()),t&2){let e=c(3);o(2),v(e.feeBreakdown.tax.label),o(2),l("ngIf",e.feeBreakdown.tax.type==="percentage"),o(),l("ngIf",e.feeBreakdown.tax.type==="flat"),o(2),g("\u20B9 ",e.taxAmount.toFixed(2))}}function Gt(t,d){if(t&1&&(n(0,"div",195)(1,"div",196)(2,"div",197),r(3,"Delivery breakdown"),i(),m(4,Ft,5,2,"div",198),n(5,"div",199)(6,"span"),r(7),i(),n(8,"span",200),r(9),i()(),m(10,Dt,5,3,"div",201)(11,Vt,3,2,"div",202)(12,At,4,1,"div",202)(13,Rt,4,1,"div",202),i(),m(14,jt,8,1,"div",203)(15,$t,8,4,"div",203),i()),t&2){let e=c(2);o(4),l("ngForOf",e.feeBreakdown.delivery.vendorDistances),o(3),g("Base fee (first ",e.feeBreakdown.delivery.baseDistanceKm," km)"),o(2),g("\u20B9 ",e.feeBreakdown.delivery.baseFee),o(),l("ngIf",e.feeBreakdown.delivery.maxDistanceKm>e.feeBreakdown.delivery.baseDistanceKm),o(),l("ngIf",e.feeBreakdown.delivery.storeCount>1),o(),l("ngIf",e.feeBreakdown.delivery.freeDeliveryApplied),o(),l("ngIf",!e.feeBreakdown.delivery.freeDeliveryApplied&&e.feeBreakdown.delivery.freeDeliveryThreshold>0),o(),l("ngIf",e.platformFee>0),o(),l("ngIf",e.taxAmount>0)}}function Ut(t,d){if(t&1&&(n(0,"span"),r(1),i()),t&2){let e=c(3);o(),g(" with ",e.appliedOffer.code||e.appliedOffer.title)}}function Kt(t,d){if(t&1&&(n(0,"p",207),r(1),m(2,Ut,2,1,"span",39),i()),t&2){let e=c(2);o(),g("You saved \u20B9 ",e.totalSaved.toFixed(2)),o(),l("ngIf",e.appliedOffer)}}function qt(t,d){if(t&1){let e=C();n(0,"div",16)(1,"div",17)(2,"h3",18),r(3,"Delivery location"),i(),n(4,"div",19)(5,"div",20),m(6,Ge,3,1,"p",21)(7,Ue,3,0,"p",21)(8,qe,3,2,"p",22),i(),n(9,"button",23),x("click",function(){_(e);let s=c();return u(s.changeLocation())}),r(10,"Change location"),i()(),n(11,"div",24)(12,"button",25),r(13,"Add note"),i()(),m(14,We,3,1,"div",26),i(),p(15,"div",27),m(16,at,25,11,"div",28),p(17,"div",27),m(18,Ct,5,4,"div",29)(19,ht,9,2,"div",30),n(20,"div",17)(21,"h3",18),r(22,"Payment summary"),i(),n(23,"div",31)(24,"span"),r(25,"Price"),i(),n(26,"div",32),m(27,Ot,2,1,"span",33),n(28,"span"),r(29),i()()(),m(30,Pt,7,1,"div",34)(31,yt,5,2,"div",35),n(32,"div",31)(33,"span"),r(34,"Delivery fee"),m(35,bt,2,1,"span",36),i(),m(36,It,3,2,"div",37)(37,kt,2,0,"span",38)(38,St,2,0,"span",39),i(),m(39,Et,5,1,"div",40)(40,Tt,6,3,"div",40),n(41,"div",41)(42,"span"),r(43,"Total payment"),i(),n(44,"span",42),r(45),i()(),m(46,zt,4,2,"button",43)(47,Gt,16,9,"div",44),i(),n(48,"div",45),p(49,"ion-icon",46),n(50,"span",47),r(51,"My wallet"),i(),p(52,"ion-icon",48),n(53,"span",49),r(54,"\xB7"),i(),n(55,"span",50),r(56),i()(),m(57,Kt,3,2,"p",51),i()}if(t&2){let e=c();o(6),l("ngIf",e.feeBreakdown),o(),l("ngIf",!e.feeBreakdown&&!e.isLoadingFees),o(),l("ngIf",e.feeBreakdown),o(6),l("ngIf",e.userAddress),o(2),l("ngForOf",e.vendorGroups),o(2),l("ngIf",!e.appliedOffer),o(),l("ngIf",e.appliedOffer),o(8),l("ngIf",e.totalOriginalPrice>e.totalDiscountedPrice),o(2),g("\u20B9 ",e.totalDiscountedPrice.toFixed(2)),o(),l("ngIf",e.vendorDiscountTotal>0),o(),l("ngIf",e.appliedOffer),o(4),l("ngIf",e.feeBreakdown),o(),l("ngIf",!e.isLoadingFees&&e.feeBreakdown),o(),l("ngIf",e.isLoadingFees),o(),l("ngIf",!e.isLoadingFees&&!e.feeBreakdown),o(),l("ngIf",e.feeBreakdown&&e.platformFee>0),o(),l("ngIf",e.feeBreakdown&&e.taxAmount>0),o(5),g("\u20B9 ",e.totalPayment.toFixed(2)),o(),l("ngIf",e.feeBreakdown),o(),l("ngIf",e.showFeeDetails&&e.feeBreakdown),o(9),g("\u20B9 ",e.totalPayment.toFixed(2)),o(),l("ngIf",e.totalSaved>0)}}function Wt(t,d){if(t&1){let e=C();n(0,"ion-footer",0)(1,"div",208)(2,"button",209),x("click",function(){_(e);let s=c();return u(s.openPaymentModal())}),r(3,"Place order"),i()()()}}var Fe=(()=>{class t{constructor(e,a,s,f,j,L,y,N,h,P){this.modalCtrl=e,this.router=a,this.navController=s,this.eventBus=f,this.dealsService=j,this.homeMainService=L,this.storageService=y,this.commonService=N,this.cartService=h,this.cdr=P,this.cartItems=[],this.vendorGroups=[],this.imgBaseUrl=ye.imageBaseUrl,this.applicableOffers=[],this.appliedOffer=null,this.couponDiscount=0,this.showOfferSheet=!1,this.couponCode="",this.isLoadingOffers=!1,this.localityId="",this.vendorAllOffers={},this.feeBreakdown=null,this.isLoadingFees=!1,this.showFeeDetails=!1,this.userAddress=null}ngOnInit(){}ionViewWillEnter(){this.loadCart()}loadCart(){let e=localStorage.getItem("cart-items");if(!e){this.cartItems=[],this.vendorGroups=[];return}try{let a=JSON.parse(e)||[];this.cartItems=a.map(s=>{let f=s.vendor||{};return Y(W({},s),{itemCount:s.itemCount||s.quantity||1,vendorId:s.vendorId||f._id||"unknown",vendorName:s.vendorName||f.businessName||f.name||"Unknown Restaurant",vendorImage:s.vendorImage||f.imageUrl||"",vendorCuisine:s.vendorCuisine||f.cuisineType||""})}),localStorage.setItem("cart-items",JSON.stringify(this.cartItems))}catch(a){this.cartItems=[]}this.buildVendorGroups(),this.loadApplicableOffers()}buildVendorGroups(){let e=new Map;for(let a of this.cartItems){let s=a.vendorId||"unknown";e.has(s)||e.set(s,{vendorId:s,vendorName:a.vendorName||"Unknown Restaurant",vendorImage:a.vendorImage||"",vendorCuisine:a.vendorCuisine||"",items:[],subtotal:0});let f=e.get(s);f.items.push(a),f.subtotal+=a.price*a.itemCount}this.vendorGroups=Array.from(e.values())}loadApplicableOffers(){if(this.isCartEmpty)return;let e=this.storageService.getUser();e?._id&&(this.isLoadingOffers=!0,this.homeMainService.getDefaultAddressByUserId(e._id).subscribe({next:a=>{a?.status&&a?.data?.locality?(this.localityId=a.data.locality._id,this.userAddress=a.data,this.fetchOffers(),this.calculateCartFees()):(this.isLoadingOffers=!1,this.cdr.detectChanges())},error:()=>{this.isLoadingOffers=!1,this.cdr.detectChanges()}}))}fetchOffers(){let e=this.vendorGroups.map(f=>f.vendorId).filter(f=>f!=="unknown");if(e.length===0){this.isLoadingOffers=!1;return}let a=this.totalDiscountedPrice,s={};this.vendorGroups.forEach(f=>{f.vendorId!=="unknown"&&(s[f.vendorId]=f.subtotal)}),H({applicable:this.dealsService.getApplicableOffers(this.localityId,e,a,s).pipe(U(()=>G(null))),allDeals:this.dealsService.getDealsPage(this.localityId).pipe(U(()=>G(null)))}).subscribe(({applicable:f,allDeals:j})=>{let L=j?.data?.restaurantOffers||[];this.vendorAllOffers={};for(let h of L){let P=h.vendor?._id;P&&(this.vendorAllOffers[P]||(this.vendorAllOffers[P]=[]),this.vendorAllOffers[P].push(h))}let y=f?.status&&f?.data?f.data:[];for(let h of this.vendorGroups){let P=y.filter(b=>b.type==="restaurant"&&b.vendor?._id===h.vendorId).sort((b,Ve)=>(Ve.calculatedDiscount||0)-(b.calculatedDiscount||0))[0];h.appliedOffer=P||void 0,h.offerDiscount=P&&P.calculatedDiscount||0}let N=new Set(this.vendorGroups.filter(h=>h.appliedOffer).map(h=>h.appliedOffer._id));this.applicableOffers=y.filter(h=>!N.has(h._id)),this.isLoadingOffers=!1,this.appliedOffer&&this.revalidateAppliedOffer(),this.cdr.detectChanges()})}revalidateAppliedOffer(){if(!this.appliedOffer)return;if(this.applicableOffers.some(a=>a._id===this.appliedOffer._id)){let a=this.applicableOffers.find(s=>s._id===this.appliedOffer._id);a&&(this.couponDiscount=a.calculatedDiscount,this.appliedOffer=a)}else{let a=this.appliedOffer.code||this.appliedOffer.title;this.appliedOffer=null,this.couponDiscount=0,this.commonService.presentToast("bottom",`Offer "${a}" removed \u2014 order no longer meets requirements`,"danger"),this.cdr.detectChanges()}}applyOffer(e){this.appliedOffer=e,this.couponDiscount=e.calculatedDiscount||0,this.showOfferSheet=!1,this.couponCode="";let a=e.code||e.title;this.commonService.presentToast("bottom",`${a} applied \u2014 you save \u20B9${this.couponDiscount}`,"success"),this.cdr.detectChanges()}removeOffer(){this.appliedOffer=null,this.couponDiscount=0,this.cdr.detectChanges()}removeVendorOffer(e){e.appliedOffer=void 0,e.offerDiscount=0,this.cdr.detectChanges()}getVendorBestNudgeOffer(e){return e.appliedOffer?null:(this.vendorAllOffers[e.vendorId]||[]).filter(s=>s.minOrderAmount>0&&s.minOrderAmount>e.subtotal&&s.minOrderAmount-e.subtotal<=300).sort((s,f)=>s.minOrderAmount-e.subtotal-(f.minOrderAmount-e.subtotal))[0]||null}getVendorNudgeAmount(e){let a=this.getVendorBestNudgeOffer(e);return a?Math.ceil(a.minOrderAmount-e.subtotal):0}getVendorNudgeLabel(e){return e?e.discountType==="percentage"?`${e.discountValue}% OFF`:`\u20B9${e.discountValue} OFF`:""}applyCouponCode(){if(!this.couponCode.trim())return;let e=new Date,a=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;this.dealsService.validateCoupon({code:this.couponCode.trim(),localityId:this.localityId,orderAmount:this.totalDiscountedPrice,clientTime:a}).subscribe({next:s=>{s?.status&&s?.data?(this.appliedOffer=s.data.offer,this.couponDiscount=s.data.discountAmount,this.showOfferSheet=!1,this.couponCode="",this.commonService.presentToast("bottom",`${s.data.offer.code||s.data.offer.title} applied \u2014 you save \u20B9${this.couponDiscount}`,"success")):this.commonService.presentToast("bottom",s?.message||"Invalid coupon code","danger"),this.cdr.detectChanges()},error:s=>{let f=s?.error?.message||"Invalid or expired coupon code";this.commonService.presentToast("bottom",f,"danger"),this.cdr.detectChanges()}})}toggleOfferSheet(){this.showOfferSheet=!this.showOfferSheet}getOfferSavings(e){return e.calculatedDiscount||0}getBestOffer(){return this.applicableOffers.length===0?null:this.applicableOffers[0]}getOfferLabel(e){return e.discountType==="percentage"?`${e.discountValue}% OFF`:`\u20B9${e.discountValue} OFF`}get isCartEmpty(){return this.cartItems.length===0}get hasMultipleVendors(){return this.vendorGroups.length>1}get totalOriginalPrice(){return this.cartItems.reduce((e,a)=>{let s=a.basePrice||a.price;return e+s*a.itemCount},0)}get totalDiscountedPrice(){return this.cartItems.reduce((e,a)=>e+a.price*a.itemCount,0)}get deliveryFee(){return this.feeBreakdown?.delivery?.fee??0}get platformFee(){return this.feeBreakdown?.platformFee??0}get taxAmount(){return this.feeBreakdown?.tax?.amount??0}get vendorDiscountTotal(){return this.vendorGroups.reduce((e,a)=>e+(a.offerDiscount||0),0)}get totalPayment(){return Math.max(0,this.totalDiscountedPrice-this.vendorDiscountTotal-this.couponDiscount+this.deliveryFee+this.platformFee+this.taxAmount)}get totalSaved(){return this.totalOriginalPrice-this.totalDiscountedPrice+this.vendorDiscountTotal+this.couponDiscount}get totalItems(){return this.cartItems.reduce((e,a)=>e+a.itemCount,0)}incrementItem(e){e.itemCount++,this.saveAndRefresh()}decrementItem(e){e.itemCount--,e.itemCount<=0&&(this.cartItems=this.cartItems.filter(a=>a!==e)),this.saveAndRefresh()}saveAndRefresh(){localStorage.setItem("cart-items",JSON.stringify(this.cartItems)),this.eventBus.emit("cart:updated",this.cartItems.length),this.buildVendorGroups(),this.localityId&&(this.fetchOffers(),this.calculateCartFees())}calculateCartFees(){if(this.isCartEmpty||!this.localityId||!this.userAddress)return;let e=this.vendorGroups.map(s=>s.vendorId).filter(s=>s!=="unknown");if(e.length===0)return;let a=this.userAddress.coords;!a?.lat||!a?.lng||(this.isLoadingFees=!0,this.cartService.calculateFees({localityId:this.localityId,vendorIds:e,userLat:a.lat,userLng:a.lng,orderSubtotal:this.totalDiscountedPrice}).subscribe({next:s=>{s?.status&&s?.data&&(this.feeBreakdown=s.data),this.isLoadingFees=!1,this.cdr.detectChanges()},error:()=>{this.isLoadingFees=!1,this.cdr.detectChanges()}}))}toggleFeeDetails(){this.showFeeDetails=!this.showFeeDetails}getItemImage(e){return e.imageUrl?this.imgBaseUrl+e.imageUrl:e.dummyImg||"assets/announcement-banner.jpg"}getVendorImage(e){return e.vendorImage?e.vendorImage.startsWith("http")||e.vendorImage.startsWith("assets/")?e.vendorImage:this.imgBaseUrl+e.vendorImage:"assets/shop.jpg"}goToVendor(e){e&&e!=="unknown"&&this.router.navigate(["/items"],{queryParams:{vendorId:e}})}goBack(){this.navController.back()}clearCart(){localStorage.removeItem("cart-items"),this.cartItems=[],this.vendorGroups=[],this.appliedOffer=null,this.couponDiscount=0,this.applicableOffers=[],this.feeBreakdown=null,this.eventBus.emit("cart:updated",0)}browsRestaurants(){this.router.navigate(["/home-land"])}goToDeals(){this.router.navigate(["/tabs/deals"])}changeLocation(){this.router.navigate(["/location-setup"])}openPaymentModal(){return $(this,null,function*(){let e=yield this.modalCtrl.create({component:ke,componentProps:{totalAmount:this.totalPayment,totalItems:this.totalItems,totalSaved:this.totalSaved,appliedOffer:this.appliedOffer,couponDiscount:this.couponDiscount,deliveryFee:this.deliveryFee,platformFee:this.platformFee,taxAmount:this.taxAmount,feeBreakdown:this.feeBreakdown,deliveryAddress:this.userAddress?.fullAddress||""},cssClass:"payment-confirm-modal"});yield e.present();let{role:a}=yield e.onWillDismiss();a==="confirm"&&this.openOrderStatus()})}openOrderStatus(){return $(this,null,function*(){let e=yield this.modalCtrl.create({component:Te,cssClass:"order-status-modal",backdropDismiss:!1,showBackdrop:!1});yield e.present();let{data:a,role:s}=yield e.onWillDismiss();s!=="cancel"&&(this.cartItems=[],this.vendorGroups=[],this.appliedOffer=null,this.couponDiscount=0,a?.action==="track"?this.router.navigate(["/orders"]):this.router.navigate(["/tabs/home-main"]))})}static{this.\u0275fac=function(a){return new(a||t)(O(V),O(ce),O(ge),O(we),O(Ee),O(Ie),O(Pe),O(Me),O(ze),O(T))}}static{this.\u0275cmp=w({type:t,selectors:[["app-cart"]],standalone:!1,decls:14,vars:4,consts:[[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back","color","dark"],[1,"cart-title"],["slot","end"],["slot","icon-only","name","heart-outline","color","danger"],[3,"fullscreen"],["class","empty-state",4,"ngIf"],["class","cart-content",4,"ngIf"],["class","ion-no-border",4,"ngIf"],[1,"empty-state"],["name","cart-outline",1,"empty-icon"],[1,"empty-title"],[1,"empty-subtitle"],[1,"browse-btn",3,"click"],[1,"cart-content"],[1,"section-block"],[1,"section-heading"],[1,"delivery-card"],[1,"delivery-info"],["class","delivery-distance",4,"ngIf"],["class","delivery-meta",4,"ngIf"],[1,"link-btn",3,"click"],[1,"action-chips"],[1,"chip-btn"],["class","address-box",4,"ngIf"],[1,"divider"],["class","vendor-group",4,"ngFor","ngForOf"],["class","coupon-section",4,"ngIf"],["class","coupon-applied",4,"ngIf"],[1,"summary-row"],[1,"summary-prices"],["class","original-price",4,"ngIf"],["class","summary-row vendor-savings-row",4,"ngIf"],["class","summary-row coupon-savings-row",4,"ngIf"],["class","delivery-km",4,"ngIf"],["class","summary-prices",4,"ngIf"],["class","inline-spinner",4,"ngIf"],[4,"ngIf"],["class","summary-row",4,"ngIf"],[1,"summary-row","total-row"],[1,"total-amount"],["class","view-details-link",3,"click",4,"ngIf"],["class","fee-details-expand",4,"ngIf"],[1,"payment-method"],["name","wallet-outline",1,"wallet-icon"],[1,"wallet-label"],["name","chevron-down-outline",1,"wallet-arrow"],[1,"wallet-dot"],[1,"wallet-amount"],["class","savings-text",4,"ngIf"],[1,"delivery-distance"],[1,"delivery-meta"],[1,"address-box"],[1,"vendor-group"],[1,"vendor-header",3,"click"],[1,"vendor-avatar"],[3,"src","alt"],[1,"vendor-info"],[1,"vendor-name"],["class","vendor-cuisine",4,"ngIf"],["name","chevron-forward-outline",1,"vendor-arrow"],["class","cart-item",4,"ngFor","ngForOf"],[1,"add-more-row"],[1,"add-more-label"],[1,"add-more-btn",3,"click"],[1,"vendor-offer-area"],["class","vendor-offer-loading",4,"ngIf"],[1,"vendor-subtotal"],[1,"subtotal-label"],[1,"vendor-subtotal-prices"],["class","subtotal-original",4,"ngIf"],[1,"subtotal-amount"],[1,"vendor-cuisine"],[1,"cart-item"],[1,"cart-item-left"],[1,"item-type-row"],["src","assets/non-veg.png","class","type-icon",4,"ngIf"],["src","assets/veg.png","class","type-icon",4,"ngIf"],["src","assets/egg.png","class","type-icon",4,"ngIf"],[1,"cart-item-name"],["class","cart-item-customization",4,"ngIf"],[1,"cart-item-price-row"],[1,"cart-item-price"],["class","cart-item-original",4,"ngIf"],[1,"cart-item-actions"],[1,"qty-control"],[1,"qty-btn",3,"click"],["name","remove-outline"],[1,"qty-count"],["name","add-outline"],[1,"note-btn"],[1,"heart-btn"],["name","heart-outline"],[1,"cart-item-right"],[1,"cart-item-img",3,"src","alt"],["src","assets/non-veg.png",1,"type-icon"],["src","assets/veg.png",1,"type-icon"],["src","assets/egg.png",1,"type-icon"],[1,"cart-item-customization"],[1,"cart-item-original"],[1,"vendor-offer-loading"],["name","dots","color","medium"],["class","vendor-offer-auto",4,"ngIf"],[1,"vendor-offer-nudge"],[1,"nudge-left"],[1,"nudge-icon-wrap"],["name","pricetag-outline"],[1,"nudge-text"],[1,"nudge-headline"],[1,"nudge-discount"],[1,"nudge-sub"],[1,"nudge-add-btn",3,"click"],[1,"nudge-progress-wrap"],[1,"nudge-progress-bar"],[1,"vendor-offer-auto"],[1,"vendor-offer-auto-left"],[1,"offer-check-wrap"],["name","checkmark-circle",1,"offer-check-icon"],[1,"vendor-offer-auto-text"],[1,"vendor-offer-auto-label"],[1,"auto-badge"],[1,"vendor-offer-name"],[1,"vendor-offer-auto-savings"],["name","gift-outline"],[1,"vendor-offer-remove-btn",3,"click"],[1,"subtotal-original"],[1,"coupon-section"],["class","coupon-collapsed",3,"click",4,"ngIf"],["class","best-offer-suggestion",3,"click",4,"ngIf"],["class","coupon-loading",4,"ngIf"],["class","coupon-expanded",4,"ngIf"],[1,"coupon-collapsed",3,"click"],[1,"coupon-collapsed-left"],["name","pricetag-outline",1,"coupon-icon"],[1,"coupon-label"],["name","chevron-down-outline",1,"coupon-toggle-icon"],[1,"best-offer-suggestion",3,"click"],[1,"best-offer-info"],["name","gift-outline",1,"best-offer-icon"],[1,"best-offer-text"],[1,"best-offer-apply-btn",3,"click"],[1,"coupon-loading"],[1,"coupon-expanded"],[1,"coupon-expanded-header",3,"click"],["name","chevron-up-outline",1,"coupon-toggle-icon"],[1,"coupon-input-row"],["type","text","placeholder","Enter coupon code",1,"coupon-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"coupon-apply-btn",3,"click","disabled"],["class","offers-list",4,"ngIf"],["class","no-offers",4,"ngIf"],["class","offers-loading",4,"ngIf"],[1,"offers-list"],[1,"offers-list-title"],["class","offer-card-apply",4,"ngFor","ngForOf"],[1,"offer-card-apply"],[1,"offer-card-left"],[1,"offer-card-header"],[1,"offer-card-icon",3,"name"],[1,"offer-card-title"],[1,"offer-card-badge"],["class","offer-card-desc",4,"ngIf"],[1,"offer-card-meta"],["class","offer-code-tag",4,"ngIf"],["class","offer-min",4,"ngIf"],[1,"offer-saves"],["class","offer-vendor-badge",4,"ngIf"],[1,"offer-apply-btn",3,"click"],[1,"offer-card-desc"],[1,"offer-code-tag"],[1,"offer-min"],[1,"offer-vendor-badge"],[1,"no-offers"],[1,"no-offers-link",3,"click"],[1,"offers-loading"],[1,"coupon-applied"],["name","checkmark-circle",1,"applied-icon"],[1,"applied-info"],[1,"applied-code"],[1,"applied-savings"],[1,"applied-remove-btn",3,"click"],[1,"original-price"],[1,"summary-row","vendor-savings-row"],[1,"vendor-savings-label"],["name","storefront-outline",1,"vendor-savings-icon"],[1,"coupon-discount-amount"],[1,"summary-row","coupon-savings-row"],[1,"delivery-km"],[1,"free-badge-inline"],[1,"inline-spinner"],["class","tax-rate",4,"ngIf"],[1,"tax-rate"],[1,"view-details-link",3,"click"],[3,"name"],[1,"fee-details-expand"],[1,"fee-details-section"],[1,"fee-details-title"],["class","fee-detail-row",4,"ngFor","ngForOf"],[1,"fee-detail-row"],[1,"fee-detail-value"],["class","fee-detail-row",4,"ngIf"],["class","fee-detail-row fee-detail-note",4,"ngIf"],["class","fee-details-section",4,"ngIf"],[1,"fee-detail-row","fee-detail-note"],["name","checkmark-circle",1,"free-check-icon"],["name","information-circle-outline",1,"info-icon"],[1,"savings-text"],[1,"footer-wrap"],[1,"place-order-btn",3,"click"]],template:function(a,s){a&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),x("click",function(){return s.goBack()}),p(4,"ion-icon",3),i()(),n(5,"ion-title",4),r(6,"My Cart"),i(),n(7,"ion-buttons",5)(8,"ion-button"),p(9,"ion-icon",6),i()()()(),n(10,"ion-content",7),m(11,$e,8,0,"div",8)(12,qt,58,22,"div",9),i(),m(13,Wt,4,0,"ion-footer",10)),a&2&&(o(10),l("fullscreen",!0),o(),l("ngIf",s.isCartEmpty),o(),l("ngIf",!s.isCartEmpty),o(),l("ngIf",!s.isCartEmpty))},dependencies:[ae,z,le,de,fe,me,_e,ue,xe,ve,D,Ce,he,Oe,se],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: #fff;--border-width: 0}.cart-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:18px;color:#1a1a1a}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 32px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:72px;color:#ddd;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:20px;color:#1a1a1a;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   .empty-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#888;margin:0 0 28px}.empty-state[_ngcontent-%COMP%]   .browse-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:15px;border:none;border-radius:30px;padding:12px 36px;cursor:pointer}ion-content[_ngcontent-%COMP%]{--background: #f5f5f5}.cart-content[_ngcontent-%COMP%]{padding-bottom:20px}.section-block[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:8px 16px;padding:16px;box-shadow:0 2px 8px #0000000f}.section-heading[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:17px;color:#1a1a1a;margin:0 0 14px}.delivery-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;background:#fff;border:1px solid #eee;border-radius:12px;padding:14px;margin-bottom:12px}.delivery-card[_ngcontent-%COMP%]   .delivery-info[_ngcontent-%COMP%]{flex:1}.delivery-card[_ngcontent-%COMP%]   .delivery-distance[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;margin:0 0 4px}.delivery-card[_ngcontent-%COMP%]   .delivery-meta[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0}.link-btn[_ngcontent-%COMP%]{background:none;border:none;color:#f85c70;font-family:latoRegular,sans-serif;font-size:13px;cursor:pointer;white-space:nowrap;padding:0}.action-chips[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px}.chip-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:20px;padding:8px 16px;font-family:latoRegular,sans-serif;font-size:13px;color:#1a1a1a;cursor:pointer}.address-box[_ngcontent-%COMP%]{background:#fff0f1;border-radius:10px;padding:12px 14px}.address-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#f85c70;margin:0;line-height:1.4}.divider[_ngcontent-%COMP%]{height:8px;background:#f5f5f5}.vendor-group[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:8px 16px;padding:16px;box-shadow:0 2px 8px #0000000f}.vendor-group[_ngcontent-%COMP%]:last-child{border-bottom:none}.vendor-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;cursor:pointer}.vendor-header[_ngcontent-%COMP%]   .vendor-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}.vendor-header[_ngcontent-%COMP%]   .vendor-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.vendor-header[_ngcontent-%COMP%]   .vendor-info[_ngcontent-%COMP%]{flex:1;min-width:0}.vendor-header[_ngcontent-%COMP%]   .vendor-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vendor-header[_ngcontent-%COMP%]   .vendor-cuisine[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:2px 0 0}.vendor-header[_ngcontent-%COMP%]   .vendor-arrow[_ngcontent-%COMP%]{color:#999;font-size:18px;flex-shrink:0}.cart-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:14px 0;border-bottom:1px solid #f0f0f0}.cart-item[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.cart-item-left[_ngcontent-%COMP%]{flex:1;min-width:0}.item-type-row[_ngcontent-%COMP%]{margin-bottom:4px}.item-type-row[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{width:16px;height:16px}.cart-item-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a;margin:0 0 4px}.cart-item-customization[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0 0 6px}.cart-item-price-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.cart-item-price[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a}.cart-item-original[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999;text-decoration:line-through}.cart-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.qty-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;border:1px solid #eee;border-radius:8px;overflow:hidden}.qty-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#fff;border:none;cursor:pointer}.qty-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#f85c70}.qty-count[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;min-width:24px;text-align:center}.note-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:16px;padding:5px 14px;font-family:latoRegular,sans-serif;font-size:12px;color:#1a1a1a;cursor:pointer}.heart-btn[_ngcontent-%COMP%]{background:none;border:none;padding:4px;cursor:pointer}.heart-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#999}.cart-item-right[_ngcontent-%COMP%]{flex-shrink:0}.cart-item-right[_ngcontent-%COMP%]   .cart-item-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:12px;object-fit:cover}.add-more-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 0 4px;border-top:1px solid #f0f0f0;margin-top:4px}.add-more-row[_ngcontent-%COMP%]   .add-more-label[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a}.add-more-row[_ngcontent-%COMP%]   .add-more-btn[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #F85C70;border-radius:20px;padding:6px 20px;font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;cursor:pointer}.vendor-offer-area[_ngcontent-%COMP%]{margin-top:12px;border-top:1px dashed #e8e8e8;padding-top:12px}.vendor-offer-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 0 8px}.vendor-offer-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px}.vendor-offer-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#999}.vendor-offer-nudge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;background:#ff8c4214;border:1px solid rgba(255,140,66,.28);border-radius:10px;padding:10px 12px;margin-bottom:8px}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;flex:1;min-width:0}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-icon-wrap[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:8px;background:#ff8c4226;display:flex;align-items:center;justify-content:center;flex-shrink:0}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff8c42}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-headline[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#1a1a1a;line-height:1.45}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-headline[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-headline[_ngcontent-%COMP%]   .nudge-discount[_ngcontent-%COMP%]{color:#ff8c42}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-left[_ngcontent-%COMP%]   .nudge-text[_ngcontent-%COMP%]   .nudge-sub[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vendor-offer-nudge[_ngcontent-%COMP%]   .nudge-add-btn[_ngcontent-%COMP%]{background:#ff8c42;color:#fff;border:none;border-radius:16px;padding:6px 14px;font-family:latoBold,sans-serif;font-size:12px;cursor:pointer;white-space:nowrap;flex-shrink:0}.nudge-progress-wrap[_ngcontent-%COMP%]{height:3px;background:#ff8c4226;border-radius:2px;margin-bottom:10px;overflow:hidden}.nudge-progress-wrap[_ngcontent-%COMP%]   .nudge-progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ff8c42,#fc8c5c);border-radius:2px;max-width:100%;transition:width .4s ease}.vendor-offer-auto[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;background:linear-gradient(135deg,#2ecc7114,#27ae601f);border:1px solid rgba(46,204,113,.35);border-radius:10px;padding:10px 12px;margin-bottom:8px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;flex:1;min-width:0}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .offer-check-wrap[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:8px;background:#2ecc7126;display:flex;align-items:center;justify-content:center;flex-shrink:0}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .offer-check-wrap[_ngcontent-%COMP%]   .offer-check-icon[_ngcontent-%COMP%]{font-size:18px;color:#2ecc71}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:3px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-label[_ngcontent-%COMP%]{display:flex;align-items:center}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-label[_ngcontent-%COMP%]   .auto-badge[_ngcontent-%COMP%]{background:#2ecc71;color:#fff;font-family:latoBold,sans-serif;font-size:9px;padding:2px 7px;border-radius:4px;letter-spacing:.6px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-name[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#1a1a1a;line-height:1.3}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-savings[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-family:latoBold,sans-serif;font-size:12px;color:#2ecc71}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-auto-left[_ngcontent-%COMP%]   .vendor-offer-auto-text[_ngcontent-%COMP%]   .vendor-offer-auto-savings[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px}.vendor-offer-auto[_ngcontent-%COMP%]   .vendor-offer-remove-btn[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:11px;color:#999;cursor:pointer;padding:2px 0;flex-shrink:0;margin-top:2px}.vendor-subtotal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0 0;font-family:latoRegular,sans-serif;font-size:14px;color:#888}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-label[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif}.vendor-subtotal[_ngcontent-%COMP%]   .vendor-subtotal-prices[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-original[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999;text-decoration:line-through}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a}.vendor-subtotal[_ngcontent-%COMP%]   .subtotal-amount.amount-savings[_ngcontent-%COMP%]{color:#2ecc71}.coupon-section[_ngcontent-%COMP%]{background:#fff;border-radius:14px;margin:8px 16px;padding:0;box-shadow:0 2px 8px #0000000f;overflow:hidden}.coupon-collapsed[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;cursor:pointer}.coupon-collapsed-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.coupon-icon[_ngcontent-%COMP%]{font-size:20px;color:#f85c70}.coupon-label[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:15px;color:#1a1a1a}.coupon-toggle-icon[_ngcontent-%COMP%]{font-size:18px;color:#999}.best-offer-suggestion[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 16px 14px;cursor:pointer}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-icon[_ngcontent-%COMP%]{font-size:18px;color:#ff8c42;flex-shrink:0}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-text[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#888;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a}.best-offer-suggestion[_ngcontent-%COMP%]   .best-offer-apply-btn[_ngcontent-%COMP%]{background:none;border:1.5px solid #F85C70;border-radius:6px;padding:4px 14px;font-family:latoBold,sans-serif;font-size:12px;color:#f85c70;cursor:pointer;flex-shrink:0;margin-left:10px}.coupon-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:0 16px 14px}.coupon-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999}.coupon-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.coupon-expanded[_ngcontent-%COMP%]   .coupon-expanded-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;cursor:pointer;border-bottom:1px solid #f0f0f0}.coupon-input-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px 16px}.coupon-input-row[_ngcontent-%COMP%]   .coupon-input[_ngcontent-%COMP%]{flex:1;border:1.5px solid #e0e0e0;border-radius:10px;padding:10px 14px;font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a;outline:none;text-transform:uppercase}.coupon-input-row[_ngcontent-%COMP%]   .coupon-input[_ngcontent-%COMP%]::placeholder{text-transform:none;color:#999}.coupon-input-row[_ngcontent-%COMP%]   .coupon-input[_ngcontent-%COMP%]:focus{border-color:#f85c70}.coupon-input-row[_ngcontent-%COMP%]   .coupon-apply-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:13px;border:none;border-radius:10px;padding:10px 20px;cursor:pointer;white-space:nowrap}.coupon-input-row[_ngcontent-%COMP%]   .coupon-apply-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}.offers-list[_ngcontent-%COMP%]{padding:0 16px 14px}.offers-list[_ngcontent-%COMP%]   .offers-list-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#888;margin:0 0 12px}.offer-card-apply[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px;margin-bottom:10px;background:#fafafa;border-radius:12px;border-left:3px solid #F85C70}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-left[_ngcontent-%COMP%]{flex:1;min-width:0}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-icon[_ngcontent-%COMP%]{font-size:18px;color:#f85c70;flex-shrink:0}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:10px;padding:2px 8px;border-radius:4px;white-space:nowrap;flex-shrink:0}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-desc[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0 0 6px;line-height:1.4}.offer-card-apply[_ngcontent-%COMP%]   .offer-card-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.offer-card-apply[_ngcontent-%COMP%]   .offer-code-tag[_ngcontent-%COMP%]{background:#fff0f1;color:#f85c70;font-family:latoBold,sans-serif;font-size:11px;padding:2px 8px;border-radius:4px;letter-spacing:.3px}.offer-card-apply[_ngcontent-%COMP%]   .offer-min[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#999}.offer-card-apply[_ngcontent-%COMP%]   .offer-saves[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:11px;color:#2ecc71}.offer-card-apply[_ngcontent-%COMP%]   .offer-vendor-badge[_ngcontent-%COMP%]{background:#f0f0f0;font-family:latoRegular,sans-serif;font-size:10px;color:#888;padding:2px 6px;border-radius:4px}.offer-card-apply[_ngcontent-%COMP%]   .offer-apply-btn[_ngcontent-%COMP%]{background:none;border:1.5px solid #F85C70;border-radius:6px;padding:6px 16px;font-family:latoBold,sans-serif;font-size:12px;color:#f85c70;cursor:pointer;white-space:nowrap;flex-shrink:0;align-self:center}.no-offers[_ngcontent-%COMP%]{padding:16px;text-align:center}.no-offers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#999;margin:0 0 8px}.no-offers[_ngcontent-%COMP%]   .no-offers-link[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;cursor:pointer;padding:0}.offers-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:20px 16px}.offers-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#999}.offers-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.coupon-applied[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:8px 16px;padding:14px 16px;background:#eafaf1;border-radius:14px;border:1px solid #d4edda;box-shadow:0 2px 8px #0000000f}.coupon-applied[_ngcontent-%COMP%]   .applied-icon[_ngcontent-%COMP%]{font-size:22px;color:#2ecc71;flex-shrink:0}.coupon-applied[_ngcontent-%COMP%]   .applied-info[_ngcontent-%COMP%]{flex:1;min-width:0}.coupon-applied[_ngcontent-%COMP%]   .applied-code[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a}.coupon-applied[_ngcontent-%COMP%]   .applied-savings[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#2ecc71;margin-left:4px}.coupon-applied[_ngcontent-%COMP%]   .applied-remove-btn[_ngcontent-%COMP%]{background:none;border:none;font-family:latoBold,sans-serif;font-size:12px;color:#f85c70;cursor:pointer;padding:4px 8px;flex-shrink:0}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;font-family:latoRegular,sans-serif;font-size:14px;color:#1a1a1a}.summary-row[_ngcontent-%COMP%]   .summary-prices[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.summary-row[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{color:#999;text-decoration:line-through;font-size:13px}.summary-row[_ngcontent-%COMP%]   .free-text[_ngcontent-%COMP%]{color:#2ecc71;font-family:latoBold,sans-serif}.summary-row.vendor-savings-row[_ngcontent-%COMP%]{color:#2ecc71;font-family:latoRegular,sans-serif;font-size:13px}.summary-row.vendor-savings-row[_ngcontent-%COMP%]   .vendor-savings-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.summary-row.vendor-savings-row[_ngcontent-%COMP%]   .vendor-savings-label[_ngcontent-%COMP%]   .vendor-savings-icon[_ngcontent-%COMP%]{font-size:15px;color:#2ecc71}.summary-row.vendor-savings-row[_ngcontent-%COMP%]   .coupon-discount-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#2ecc71}.summary-row.coupon-savings-row[_ngcontent-%COMP%]{color:#2ecc71;font-family:latoRegular,sans-serif;font-size:13px}.summary-row.coupon-savings-row[_ngcontent-%COMP%]   .coupon-discount-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#2ecc71}.summary-row.total-row[_ngcontent-%COMP%]{padding-top:12px;margin-top:4px;border-top:1px solid #eee;font-family:latoBold,sans-serif;font-size:15px}.summary-row.total-row[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:16px}.view-details-link[_ngcontent-%COMP%]{background:none;border:none;padding:8px 0 0;font-family:latoRegular,sans-serif;font-size:13px;color:#f85c70;cursor:pointer;display:flex;align-items:center;gap:4px}.view-details-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;transition:transform .2s}.inline-spinner[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.inline-spinner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.free-badge-inline[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:12px;color:#2ecc71;background:#eafaf1;padding:2px 8px;border-radius:4px}.tax-rate[_ngcontent-%COMP%], .delivery-km[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#999}.fee-details-expand[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px dashed #e0e0e0;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}.fee-details-section[_ngcontent-%COMP%]{margin-bottom:14px}.fee-details-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.fee-details-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#888;margin-bottom:8px;text-transform:uppercase;letter-spacing:.3px}.fee-detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0;font-family:latoRegular,sans-serif;font-size:13px;color:#888}.fee-detail-row[_ngcontent-%COMP%]   .fee-detail-value[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#1a1a1a;font-size:13px}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]{justify-content:flex-start;gap:6px;padding:6px 0 2px;font-size:12px;color:#2ecc71}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]   .free-check-icon[_ngcontent-%COMP%]{font-size:16px;color:#2ecc71}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff8c42}.fee-detail-row.fee-detail-note[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:inherit}.payment-method[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:14px 16px;background:#fafafa;border-top:1px solid #f0f0f0}.payment-method[_ngcontent-%COMP%]   .wallet-icon[_ngcontent-%COMP%]{font-size:22px;color:#1a1a1a}.payment-method[_ngcontent-%COMP%]   .wallet-label[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#f85c70}.payment-method[_ngcontent-%COMP%]   .wallet-arrow[_ngcontent-%COMP%]{font-size:14px;color:#f85c70}.payment-method[_ngcontent-%COMP%]   .wallet-dot[_ngcontent-%COMP%]{color:#999;font-size:18px}.payment-method[_ngcontent-%COMP%]   .wallet-amount[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;margin-left:auto}.savings-text[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#f85c70;padding:10px 16px 0;margin:0}ion-footer[_ngcontent-%COMP%]{background:#fff}ion-footer[_ngcontent-%COMP%]   .footer-wrap[_ngcontent-%COMP%]{padding:10px 16px;padding-bottom:calc(10px + env(safe-area-inset-bottom))}.place-order-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#f85c70,#fc8c5c);color:#fff;font-family:latoBold,sans-serif;font-size:16px;border:none;border-radius:30px;padding:14px;cursor:pointer}"]})}}return t})();var Yt=[{path:"",component:Fe}],De=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=M({imports:[q.forChild(Yt),q]})}}return t})();var Mn=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=M({imports:[F,pe,A,De,Be,Se]})}}return t})();export{Mn as CartPageModule};
