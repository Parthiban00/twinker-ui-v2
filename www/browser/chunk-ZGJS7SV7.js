import{a as I}from"./chunk-2KTNZ4RA.js";import{a as re}from"./chunk-LDNKTUYY.js";import{a as ae}from"./chunk-UC7VOA4V.js";import{a as oe}from"./chunk-R23HIETB.js";import{b as ie}from"./chunk-MHL5TPBJ.js";import{a as k}from"./chunk-6VMG7IQ2.js";import{$ as w,A as S,B as g,Ba as H,C as T,D as r,E as i,F as o,Fa as D,G as d,Ga as q,H as y,I as P,Ia as Y,Ib as ee,J as F,K as C,Ka as G,L as m,M as f,Nb as te,Qa as J,R as O,S as z,T as s,U as _,V as h,W as V,X as L,Y as B,Z as R,Zb as ne,ia as $,ka as A,kb as K,la as N,m as M,ma as j,na as Q,o as x,oa as U,p as u,pb as X,qb as Z,ta as W,w as n,y as b,z as E}from"./chunk-AM2DXERQ.js";import"./chunk-B3I3XDBM.js";import"./chunk-QUJFQN2Y.js";import"./chunk-KSM42KW3.js";import"./chunk-KAYW723Y.js";import"./chunk-ZJWVYB4W.js";import"./chunk-WVHTM5RI.js";import"./chunk-IN6HLDFE.js";import"./chunk-GIMG75PD.js";import"./chunk-O5IUGFKF.js";import"./chunk-LHDZOLCP.js";import"./chunk-AEZ3F2AP.js";import"./chunk-7FY2OE2O.js";import"./chunk-5KM5ZX5B.js";import"./chunk-EAHJVID6.js";import"./chunk-FOH2II3V.js";import"./chunk-VZWY4NEG.js";import"./chunk-WI5MSH4N.js";import"./chunk-5SJVYNIP.js";import"./chunk-CKP3SGE2.js";import"./chunk-QLR5SVGL.js";import"./chunk-JHI3MBHO.js";var de=()=>[1,2,3,4],pe=()=>[1,2],ge=()=>[1,2,3];function _e(t,l){if(t&1&&(i(0,"p",20),s(1),o()),t&2){let e=f();n(),h(" ",e.totalOfferCount," offers available near you ")}}function me(t,l){t&1&&(i(0,"p",20),s(1,"Finding best deals..."),o())}function xe(t,l){t&1&&(i(0,"span"),s(1,"Search offers, coupons..."),o())}function ue(t,l){if(t&1){let e=C();i(0,"input",21),R("ngModelChange",function(c){x(e);let p=f();return B(p.searchQuery,c)||(p.searchQuery=c),u(c)}),m("input",function(){x(e);let c=f();return u(c.onSearchInput())}),o()}if(t&2){let e=f();L("ngModel",e.searchQuery)}}function he(t,l){if(t&1){let e=C();i(0,"ion-icon",22),m("click",function(c){return x(e),f().clearSearch(),u(c.stopPropagation())}),o()}}function ve(t,l){if(t&1&&(i(0,"div",25),d(1,"ion-icon",26),i(2,"span"),s(3),o()()),t&2){let e=f(2);n(3),h("",e.platformCoupons.length," Coupons")}}function Ce(t,l){if(t&1&&(i(0,"div",25),d(1,"ion-icon",27),i(2,"span"),s(3),o()()),t&2){let e=f(2);n(3),h("",e.restaurantOffers.length," Restaurant")}}function Oe(t,l){t&1&&(i(0,"div",25),d(1,"ion-icon",28),i(2,"span"),s(3,"New User"),o()())}function ye(t,l){t&1&&(i(0,"div",25),d(1,"ion-icon",29),i(2,"span"),s(3,"Local Deals"),o()())}function Pe(t,l){if(t&1&&(i(0,"div",23),g(1,ve,4,1,"div",24)(2,Ce,4,1,"div",24)(3,Oe,4,0,"div",24)(4,ye,4,0,"div",24),o()),t&2){let e=f();n(),r("ngIf",e.platformCoupons.length>0),n(),r("ngIf",e.restaurantOffers.length>0),n(),r("ngIf",e.firstOrderOffers.length>0),n(),r("ngIf",e.localityOffers.length>0)}}function be(t,l){t&1&&d(0,"ion-skeleton-text",39),t&2&&r("animated",!0)}function Me(t,l){t&1&&d(0,"ion-skeleton-text",40),t&2&&r("animated",!0)}function Se(t,l){t&1&&d(0,"ion-skeleton-text",41),t&2&&r("animated",!0)}function we(t,l){t&1&&(i(0,"div",30)(1,"div",31),d(2,"ion-skeleton-text",32),o(),i(3,"div",33),g(4,be,1,1,"ion-skeleton-text",34),o(),i(5,"div",35),g(6,Me,1,1,"ion-skeleton-text",36),o(),i(7,"div",37),g(8,Se,1,1,"ion-skeleton-text",38),o()()),t&2&&(n(2),r("animated",!0),n(2),r("ngForOf",w(4,de)),n(2),r("ngForOf",w(5,pe)),n(2),r("ngForOf",w(6,ge)))}function ke(t,l){t&1&&(i(0,"div",50),d(1,"ion-icon",51),i(2,"h3"),s(3,"No offers available"),o(),i(4,"p"),s(5,"Check back later for exciting deals and discounts!"),o()())}function Ie(t,l){if(t&1){let e=C();i(0,"div",65),m("click",function(c){x(e);let p=f().$implicit;return f(3).copyCode(p.code),u(c.stopPropagation())}),i(1,"span",66),s(2),o(),d(3,"ion-icon",67),o()}if(t&2){let e=f().$implicit;n(2),_(e.code)}}function De(t,l){if(t&1){let e=C();i(0,"swiper-slide")(1,"div",55),m("click",function(){let c=x(e).$implicit,p=f(3);return u(p.navigateToVendor(c))}),i(2,"div",56)(3,"div",57),s(4),o(),i(5,"h2",58),s(6),o(),i(7,"p",59),s(8),o(),i(9,"div",60),g(10,Ie,4,1,"div",61),i(11,"span",62),s(12),o()()(),i(13,"div",63),d(14,"ion-icon",64),o()()()}if(t&2){let e=l.$implicit,a=f(3);n(),O("background","linear-gradient(135deg, "+(e.accentColor||"#F85C70")+", "+(e.bgColor||"#FC8C5C")+")"),n(2),O("background-color",e.badgeColor||"#F85C70"),n(),h(" ",e.badgeText||a.getDiscountLabel(e)," "),n(2),_(e.title),n(2),_(e.description),n(2),r("ngIf",e.code),n(2),_(a.getExpiryText(e)),n(2),r("name",e.icon||"pricetag-outline")}}function Ee(t,l){if(t&1&&(i(0,"div",52)(1,"swiper-container",53),g(2,De,15,10,"swiper-slide",54),o()()),t&2){let e=f(2);n(),T("slides-per-view",1.15)("space-between",12)("autoplay-delay",3500)("autoplay-disable-on-interaction",!1)("loop",e.featured.length>1),n(),r("ngForOf",e.featured)}}function Te(t,l){if(t&1&&(i(0,"span",73),s(1),o()),t&2){let e=f().$implicit,a=f(3);n(),_(a.getFilterCount(e.key))}}function Fe(t,l){if(t&1){let e=C();i(0,"div",71),m("click",function(){let c=x(e).$implicit,p=f(3);return u(p.setFilter(c.key))}),d(1,"ion-icon",64),i(2,"span"),s(3),o(),g(4,Te,2,1,"span",72),o()}if(t&2){let e=l.$implicit,a=f(3);z("active",a.activeFilter===e.key),n(),r("name",e.icon),n(2),_(e.label),n(),r("ngIf",a.getFilterCount(e.key)>0)}}function ze(t,l){if(t&1&&(i(0,"div",68)(1,"div",69),g(2,Fe,5,5,"div",70),o()()),t&2){let e=f(2);n(2),r("ngForOf",e.filterChips)}}function Ve(t,l){if(t&1){let e=C();i(0,"div",79)(1,"div",80)(2,"div",81),d(3,"ion-icon",64),o(),i(4,"div",82)(5,"h4"),s(6),o(),i(7,"p"),s(8),o()()(),i(9,"div",83)(10,"div",84),m("click",function(){let c=x(e).$implicit,p=f(3);return u(p.copyCode(c.code))}),i(11,"span",85),s(12),o(),i(13,"span",86),s(14,"COPY"),o()(),i(15,"span",87),s(16),o()()()}if(t&2){let e=l.$implicit,a=f(3);O("border-left-color",e.accentColor||"#4A5BF5"),n(2),O("background-color",e.bgColor||"#F0F2FF"),n(),O("color",e.accentColor||"#4A5BF5"),r("name",e.icon||"ticket-outline"),n(3),_(e.title),n(2),_(e.description),n(4),_(e.code),n(4),_(a.getExpiryText(e))}}function Le(t,l){if(t&1&&(i(0,"div",74)(1,"h3",75),d(2,"ion-icon",76),s(3," Coupon Codes "),o(),i(4,"div",77),g(5,Ve,17,11,"div",78),o()()),t&2){let e=f(2);n(5),r("ngForOf",e.displayCoupons)}}function Be(t,l){if(t&1){let e=C();i(0,"div",96),m("click",function(){x(e);let c=f().$implicit,p=f(3);return u(p.copyCode(c.code))}),i(1,"span",97),s(2),o(),d(3,"ion-icon",67),o()}if(t&2){let e=f().$implicit;n(2),_(e.code)}}function Re(t,l){if(t&1&&(i(0,"div",90)(1,"div",91),d(2,"ion-icon",92),o(),i(3,"div",93)(4,"h4"),s(5),o(),i(6,"p"),s(7),o()(),g(8,Be,4,1,"div",94),i(9,"div",95),s(10),o()()),t&2){let e=l.$implicit,a=f(3);n(5),_(e.title),n(2),_(e.description),n(),r("ngIf",e.code),n(2),h(" ",e.badgeText||a.getDiscountLabel(e)," ")}}function $e(t,l){if(t&1&&(i(0,"div",88),g(1,Re,11,4,"div",89),o()),t&2){let e=f(2);n(),r("ngForOf",e.firstOrderOffers)}}function Ae(t,l){if(t&1&&(y(0),d(1,"ion-icon",100),s(2),P()),t&2){let e=f(3);n(2),V(" ",e.displayOffers.length," result",e.displayOffers.length!==1?"s":""," found ")}}function Ne(t,l){t&1&&(y(0),d(1,"ion-icon",104),s(2," All Offers "),P())}function je(t,l){t&1&&(y(0),d(1,"ion-icon",105),s(2," Restaurant Offers "),P())}function Qe(t,l){t&1&&(y(0),d(1,"ion-icon",76),s(2," Coupon Offers "),P())}function Ue(t,l){t&1&&(y(0),d(1,"ion-icon",106),s(2," New User Offers "),P())}function We(t,l){t&1&&(y(0),d(1,"ion-icon",107),s(2," Local Deals "),P())}function He(t,l){t&1&&F(0)}function qe(t,l){if(t&1&&(y(0)(1,101),g(2,Ne,3,0,"ng-container",102)(3,je,3,0,"ng-container",102)(4,Qe,3,0,"ng-container",102)(5,Ue,3,0,"ng-container",102)(6,We,3,0,"ng-container",102)(7,He,1,0,"ng-container",103),P()()),t&2){let e=f(3);n(),r("ngSwitch",e.activeFilter),n(),r("ngSwitchCase","all"),n(),r("ngSwitchCase","restaurant"),n(),r("ngSwitchCase","platform_coupon"),n(),r("ngSwitchCase","first_order"),n(),r("ngSwitchCase","locality_based")}}function Ye(t,l){if(t&1&&(i(0,"span",121),d(1,"ion-icon",122),s(2),o()),t&2){let e=f().$implicit;n(2),h(" ",e.vendor.name," ")}}function Ge(t,l){if(t&1&&(i(0,"span",123),s(1),o()),t&2){let e=f().$implicit;n(),h(" Min \u20B9",e.minOrderAmount," ")}}function Je(t,l){if(t&1&&(i(0,"span",124),s(1),o()),t&2){let e=f().$implicit;n(),h(" Up to \u20B9",e.maxDiscountCap," ")}}function Ke(t,l){if(t&1){let e=C();i(0,"div",125),m("click",function(c){x(e);let p=f().$implicit;return f(3).copyCode(p.code),u(c.stopPropagation())}),d(1,"ion-icon",67),i(2,"span"),s(3),o()()}if(t&2){let e=f().$implicit;n(3),_(e.code)}}function Xe(t,l){if(t&1){let e=C();i(0,"div",108),m("click",function(){let c=x(e).$implicit,p=f(3);return u(p.navigateToVendor(c))}),i(1,"div",109),d(2,"ion-icon",64),o(),i(3,"div",110)(4,"h4",111),s(5),o(),i(6,"p",112),s(7),o(),i(8,"div",113),g(9,Ye,3,1,"span",114)(10,Ge,2,1,"span",115)(11,Je,2,1,"span",116),o()(),i(12,"div",117)(13,"div",118),s(14),o(),g(15,Ke,4,1,"div",119),i(16,"span",120),s(17),o()()()}if(t&2){let e=l.$implicit,a=f(3);n(),O("background-color",e.bgColor||"#FFF0F2"),n(),O("color",e.accentColor||"#F85C70"),r("name",e.icon||"pricetag-outline"),n(3),_(e.title),n(2),_(e.description),n(2),r("ngIf",e.vendor==null?null:e.vendor.name),n(),r("ngIf",e.minOrderAmount>0),n(),r("ngIf",e.maxDiscountCap),n(2),O("background-color",e.badgeColor||"#F85C70"),n(),h(" ",e.badgeText||a.getDiscountLabel(e)," "),n(),r("ngIf",e.code),n(2),_(a.getExpiryText(e))}}function Ze(t,l){if(t&1&&(i(0,"div",98)(1,"h3",75),g(2,Ae,3,2,"ng-container",12)(3,qe,8,6,"ng-container",12),o(),g(4,Xe,18,15,"div",99),o()),t&2){let e=f(2);n(2),r("ngIf",e.isSearching),n(),r("ngIf",!e.isSearching),n(),r("ngForOf",e.displayOffers)}}function et(t,l){if(t&1&&(i(0,"p"),s(1),o()),t&2){let e=f(3);n(),h('No offers matching "',e.searchQuery,'"')}}function tt(t,l){t&1&&(i(0,"p"),s(1,"No offers in this category"),o())}function nt(t,l){if(t&1&&(i(0,"div",126),d(1,"ion-icon",64),g(2,et,2,1,"p",12)(3,tt,2,0,"p",12),o()),t&2){let e=f(2);n(),r("name",e.isSearching?"search-outline":"pricetag-outline"),n(),r("ngIf",e.isSearching),n(),r("ngIf",!e.isSearching)}}function it(t,l){if(t&1&&(i(0,"div",42),g(1,ke,6,0,"div",43)(2,Ee,3,6,"div",44)(3,ze,3,1,"div",45)(4,Le,6,1,"div",46)(5,$e,2,1,"div",47)(6,Ze,5,3,"div",48)(7,nt,4,3,"div",49),o()),t&2){let e=f();n(),r("ngIf",!e.hasAnyOffers),n(),r("ngIf",e.featured.length>0&&!e.isSearching),n(),r("ngIf",e.hasAnyOffers&&!e.isSearching),n(),r("ngIf",e.displayCoupons.length>0&&(e.activeFilter==="all"||e.activeFilter==="platform_coupon")&&!e.isSearching),n(),r("ngIf",e.firstOrderOffers.length>0&&(e.activeFilter==="all"||e.activeFilter==="first_order")&&!e.isSearching),n(),r("ngIf",e.displayOffers.length>0),n(),r("ngIf",!e.isLoading&&e.hasAnyOffers&&e.displayOffers.length===0&&e.displayCoupons.length===0)}}ae();var le=(()=>{class t{constructor(e,a,c,p,v,fe){this.router=e,this.storageService=a,this.homeService=c,this.dealsService=p,this.commonService=v,this.cdr=fe,this.isLoading=!0,this.localityId="",this.featured=[],this.platformCoupons=[],this.restaurantOffers=[],this.firstOrderOffers=[],this.localityOffers=[],this.generalOffers=[],this.userSpecificOffers=[],this.isSearching=!1,this.searchQuery="",this.activeFilter="all",this.filterChips=[{key:"all",label:"All Offers",icon:"grid-outline"},{key:"restaurant",label:"Restaurant",icon:"restaurant-outline"},{key:"platform_coupon",label:"Coupons",icon:"ticket-outline"},{key:"first_order",label:"New User",icon:"gift-outline"},{key:"locality_based",label:"Local Deals",icon:"location-outline"}]}ionViewWillEnter(){let e=this.storageService.getUser();e?._id?this.loadDefaultAddress(e._id):(this.isLoading=!1,this.cdr.detectChanges())}loadDefaultAddress(e){this.homeService.getDefaultAddressByUserId(e).subscribe({next:a=>{a.status&&a.data?.locality?._id?(this.localityId=a.data.locality._id,this.loadDeals()):(this.isLoading=!1,this.cdr.detectChanges())},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}loadDeals(){this.isLoading=!0,this.dealsService.getDealsPage(this.localityId).subscribe({next:e=>{e.status&&e.data&&(this.featured=e.data.featured||[],this.platformCoupons=e.data.platformCoupons||[],this.restaurantOffers=e.data.restaurantOffers||[],this.firstOrderOffers=e.data.firstOrderOffers||[],this.localityOffers=e.data.localityOffers||[],this.generalOffers=e.data.generalOffers||[],this.userSpecificOffers=e.data.userSpecificOffers||[]),this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}toggleSearch(){this.isSearching||(this.isSearching=!0,this.cdr.detectChanges())}clearSearch(){this.searchQuery="",this.isSearching=!1,this.cdr.detectChanges()}onSearchInput(){this.cdr.detectChanges()}matchesSearch(e){if(!this.searchQuery)return!0;let a=this.searchQuery.toLowerCase();return(e.title||"").toLowerCase().includes(a)||(e.description||"").toLowerCase().includes(a)||(e.code||"").toLowerCase().includes(a)||(e.vendor?.name||"").toLowerCase().includes(a)}setFilter(e){this.activeFilter=e,this.cdr.detectChanges()}get totalOfferCount(){let e=this.getAllOffersList(),a=new Set;return e.filter(c=>a.has(c._id)?!1:(a.add(c._id),!0)).length}getFilterCount(e){switch(e){case"all":return this.totalOfferCount;case"restaurant":return this.restaurantOffers.length;case"platform_coupon":return this.platformCoupons.length;case"first_order":return this.firstOrderOffers.length;case"locality_based":return this.localityOffers.length;default:return 0}}getAllOffersList(){return[...this.restaurantOffers,...this.platformCoupons,...this.firstOrderOffers,...this.localityOffers,...this.generalOffers,...this.userSpecificOffers]}get filteredOffers(){let e=[];(this.activeFilter==="all"||this.activeFilter==="restaurant")&&(e=e.concat(this.restaurantOffers)),(this.activeFilter==="all"||this.activeFilter==="platform_coupon")&&(e=e.concat(this.platformCoupons)),(this.activeFilter==="all"||this.activeFilter==="first_order")&&(e=e.concat(this.firstOrderOffers)),(this.activeFilter==="all"||this.activeFilter==="locality_based")&&(e=e.concat(this.localityOffers)),this.activeFilter==="all"&&(e=e.concat(this.generalOffers),e=e.concat(this.userSpecificOffers));let a=new Set;return e.filter(c=>a.has(c._id)?!1:(a.add(c._id),!0)).sort((c,p)=>(c.sortOrder||0)-(p.sortOrder||0))}get displayOffers(){if(this.isSearching&&this.searchQuery){let e=this.getAllOffersList(),a=new Set;return e.filter(c=>a.has(c._id)?!1:(a.add(c._id),this.matchesSearch(c))).sort((c,p)=>(c.sortOrder||0)-(p.sortOrder||0))}return this.filteredOffers}get displayCoupons(){return this.isSearching&&this.searchQuery?this.platformCoupons.filter(e=>this.matchesSearch(e)):this.platformCoupons}get hasAnyOffers(){return this.featured.length>0||this.platformCoupons.length>0||this.restaurantOffers.length>0||this.firstOrderOffers.length>0||this.localityOffers.length>0||this.generalOffers.length>0||this.userSpecificOffers.length>0}copyCode(e){e&&navigator.clipboard.writeText(e).then(()=>{this.commonService.presentToast("bottom",`Code ${e} copied!`,"success")}).catch(()=>{this.commonService.presentToast("bottom","Failed to copy code","danger")})}getDiscountLabel(e){return e.discountValue?e.discountType==="percentage"?`${e.discountValue}% OFF`:`\u20B9${e.discountValue} OFF`:""}getExpiryText(e){if(!e.endDate)return"";let a=new Date(e.endDate),c=new Date,p=a.getTime()-c.getTime(),v=Math.ceil(p/(1e3*60*60*24));return v<=0?"Expired":v===1?"Expires today":v<=3?`${v} days left`:v<=7?`${v} days left`:`Valid till ${a.toLocaleDateString("en-IN",{day:"numeric",month:"short"})}`}navigateToVendor(e){e.vendor?._id&&this.router.navigate(["/items"],{queryParams:{vendorId:e.vendor._id}})}navigateToNotifications(){}static{this.\u0275fac=function(a){return new(a||t)(b(H),b(k),b(re),b(I),b(oe),b($))}}static{this.\u0275cmp=E({type:t,selectors:[["app-deals"]],standalone:!1,decls:24,vars:8,consts:[[1,"ion-no-border"],[1,"header-gradient"],[1,"header-top-row"],[1,"header-title-block"],[1,"header-title"],["class","header-subtitle",4,"ngIf"],[1,"header-actions"],[1,"header-icon-btn",3,"click"],["name","notifications-outline"],[1,"header-search",3,"click"],[1,"search-bar"],["name","search-outline"],[4,"ngIf"],["type","text","placeholder","Search offers, coupons...","autofocus","",3,"ngModel","ngModelChange","input",4,"ngIf"],["name","close-circle","class","search-clear",3,"click",4,"ngIf"],["class","header-stats",4,"ngIf"],[1,"header-bg-deco"],["name","pricetag"],["class","skeleton-container",4,"ngIf"],["class","deals-content",4,"ngIf"],[1,"header-subtitle"],["type","text","placeholder","Search offers, coupons...","autofocus","",3,"ngModelChange","input","ngModel"],["name","close-circle",1,"search-clear",3,"click"],[1,"header-stats"],["class","stat-pill",4,"ngIf"],[1,"stat-pill"],["name","ticket-outline"],["name","restaurant-outline"],["name","gift-outline"],["name","location-outline"],[1,"skeleton-container"],[1,"skeleton-banner"],[2,"width","100%","height","170px","border-radius","14px",3,"animated"],[1,"skeleton-chips"],["style","width: 90px; height: 34px; border-radius: 20px;",3,"animated",4,"ngFor","ngForOf"],[1,"skeleton-coupons"],["style","width: 260px; height: 110px; border-radius: 14px;",3,"animated",4,"ngFor","ngForOf"],[1,"skeleton-list"],["style","width: 100%; height: 90px; border-radius: 14px; margin-bottom: 12px;",3,"animated",4,"ngFor","ngForOf"],[2,"width","90px","height","34px","border-radius","20px",3,"animated"],[2,"width","260px","height","110px","border-radius","14px",3,"animated"],[2,"width","100%","height","90px","border-radius","14px","margin-bottom","12px",3,"animated"],[1,"deals-content"],["class","empty-state",4,"ngIf"],["class","section featured-section",4,"ngIf"],["class","section filter-section",4,"ngIf"],["class","section coupon-section",4,"ngIf"],["class","section first-order-section",4,"ngIf"],["class","section offer-list-section",4,"ngIf"],["class","empty-filter",4,"ngIf"],[1,"empty-state"],["name","pricetag-outline",1,"empty-icon"],[1,"section","featured-section"],[2,"padding","0 16px"],[4,"ngFor","ngForOf"],[1,"featured-card",3,"click"],[1,"featured-content"],[1,"featured-badge"],[1,"featured-title"],[1,"featured-desc"],[1,"featured-bottom-row"],["class","featured-code",3,"click",4,"ngIf"],[1,"featured-expiry"],[1,"featured-icon-wrap"],[3,"name"],[1,"featured-code",3,"click"],[1,"code-text"],["name","copy-outline"],[1,"section","filter-section"],[1,"filter-chips-scroll"],["class","filter-chip",3,"active","click",4,"ngFor","ngForOf"],[1,"filter-chip",3,"click"],["class","chip-count",4,"ngIf"],[1,"chip-count"],[1,"section","coupon-section"],[1,"section-title"],["name","ticket-outline",1,"section-title-icon"],[1,"coupon-scroll"],["class","coupon-card",3,"border-left-color",4,"ngFor","ngForOf"],[1,"coupon-card"],[1,"coupon-top"],[1,"coupon-icon"],[1,"coupon-info"],[1,"coupon-bottom"],[1,"coupon-code-box",3,"click"],[1,"coupon-code-text"],[1,"copy-btn"],[1,"coupon-expiry"],[1,"section","first-order-section"],["class","first-order-banner",4,"ngFor","ngForOf"],[1,"first-order-banner"],[1,"fo-icon-wrap"],["name","gift"],[1,"fo-content"],["class","fo-action",3,"click",4,"ngIf"],[1,"fo-discount"],[1,"fo-action",3,"click"],[1,"fo-code"],[1,"section","offer-list-section"],["class","offer-card",3,"click",4,"ngFor","ngForOf"],["name","search-outline",1,"section-title-icon"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["name","flash-outline",1,"section-title-icon"],["name","restaurant-outline",1,"section-title-icon"],["name","gift-outline",1,"section-title-icon"],["name","location-outline",1,"section-title-icon"],[1,"offer-card",3,"click"],[1,"offer-icon-wrap"],[1,"offer-details"],[1,"offer-title"],[1,"offer-desc"],[1,"offer-meta"],["class","offer-vendor",4,"ngIf"],["class","offer-min",4,"ngIf"],["class","offer-cap",4,"ngIf"],[1,"offer-right"],[1,"offer-badge"],["class","offer-code-tap",3,"click",4,"ngIf"],[1,"offer-expiry"],[1,"offer-vendor"],["name","storefront-outline"],[1,"offer-min"],[1,"offer-cap"],[1,"offer-code-tap",3,"click"],[1,"empty-filter"]],template:function(a,c){a&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),s(6,"Deals & Offers"),o(),g(7,_e,2,1,"p",5)(8,me,2,0,"p",5),o(),i(9,"div",6)(10,"div",7),m("click",function(){return c.navigateToNotifications()}),d(11,"ion-icon",8),o()()(),i(12,"div",9),m("click",function(){return c.toggleSearch()}),i(13,"div",10),d(14,"ion-icon",11),g(15,xe,2,0,"span",12)(16,ue,1,1,"input",13)(17,he,1,0,"ion-icon",14),o()(),g(18,Pe,5,4,"div",15),i(19,"div",16),d(20,"ion-icon",17),o()()()(),i(21,"ion-content"),g(22,we,9,7,"div",18)(23,it,8,7,"div",19),o()),a&2&&(n(7),r("ngIf",!c.isLoading&&c.hasAnyOffers),n(),r("ngIf",c.isLoading),n(7),r("ngIf",!c.isSearching),n(),r("ngIf",c.isSearching),n(),r("ngIf",c.isSearching&&c.searchQuery),n(),r("ngIf",!c.isLoading&&c.hasAnyOffers),n(4),r("ngIf",c.isLoading),n(),r("ngIf",!c.isLoading))},dependencies:[A,N,j,Q,U,q,Y,G,K,X,Z,ee,te],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-width: 0;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--min-height: auto}.header-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f85c70,#fc8c5c);padding:calc(var(--ion-safe-area-top, 20px) + 10px) 16px 18px;position:relative;overflow:hidden}.header-top-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px}.header-title-block[_ngcontent-%COMP%]{flex:1}.header-title-block[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:24px;color:#fff;margin:0 0 3px;letter-spacing:.3px}.header-title-block[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#ffffffd9;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px;padding-top:2px}.header-icon-btn[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.header-icon-btn[_ngcontent-%COMP%]:active{background:#ffffff59}.header-icon-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff}.header-search[_ngcontent-%COMP%]{margin-bottom:12px}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{background:#fff3;backdrop-filter:blur(4px);border-radius:25px;padding:10px 16px;display:flex;align-items:center;gap:10px;border:1px solid rgba(255,255,255,.25);transition:background .2s}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]:active{background:#ffffff4d}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#ffffffe6;min-width:18px}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#ffffffbf}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;font-family:latoRegular,sans-serif;font-size:14px;color:#fff}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff9}.header-search[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{font-size:18px;color:#fffc;cursor:pointer}.header-stats[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}.header-stats[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.stat-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:5px 12px;background:#fff3;border-radius:16px;white-space:nowrap;flex-shrink:0}.stat-pill[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:13px;color:#fff}.stat-pill[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#fff;letter-spacing:.2px}.header-bg-deco[_ngcontent-%COMP%]{position:absolute;right:-15px;top:50%;transform:translateY(-50%) rotate(-15deg);opacity:.08;pointer-events:none}.header-bg-deco[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:140px;color:#fff}.skeleton-container[_ngcontent-%COMP%]{padding:16px}.skeleton-banner[_ngcontent-%COMP%]{margin-bottom:16px}.skeleton-chips[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;overflow-x:auto}.skeleton-coupons[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:20px;overflow-x:auto}.skeleton-list[_ngcontent-%COMP%]{margin-top:8px}ion-content[_ngcontent-%COMP%]{--background: #f5f5f5}.deals-content[_ngcontent-%COMP%]{padding-bottom:20px}.section[_ngcontent-%COMP%]{margin-bottom:20px}.section-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:16px;color:#1a1a1a;margin:0 16px 12px;display:flex;align-items:center;gap:6px}.section-title-icon[_ngcontent-%COMP%]{font-size:18px;color:#f85c70}.featured-section[_ngcontent-%COMP%]{margin-top:16px}.featured-card[_ngcontent-%COMP%]{border-radius:16px;padding:20px;min-height:170px;display:flex;justify-content:space-between;align-items:flex-start;position:relative;overflow:hidden;cursor:pointer;box-shadow:0 4px 16px #0000001f}.featured-content[_ngcontent-%COMP%]{flex:1;z-index:1}.featured-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 14px;border-radius:20px;font-family:latoBold,sans-serif;font-size:11px;color:#fff;margin-bottom:10px;letter-spacing:.5px;box-shadow:0 2px 6px #00000026}.featured-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:19px;color:#fff;margin:0 0 6px;text-shadow:0 1px 3px rgba(0,0,0,.15)}.featured-desc[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#ffffffe6;margin:0 0 12px;line-height:1.4}.featured-bottom-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.featured-code[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:#ffffff40;border:1.5px dashed rgba(255,255,255,.6);border-radius:8px;padding:5px 12px;cursor:pointer;transition:background .2s}.featured-code[_ngcontent-%COMP%]:active{background:#fff6}.featured-code[_ngcontent-%COMP%]   .code-text[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#fff;letter-spacing:1.5px}.featured-code[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#fff}.featured-expiry[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#ffffffb3}.featured-icon-wrap[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:16px;opacity:.12}.featured-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:90px;color:#fff}.filter-section[_ngcontent-%COMP%]{padding:0 16px}.filter-chips-scroll[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;padding:2px 0}.filter-chips-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:8px 14px;border-radius:20px;background:#fff;white-space:nowrap;cursor:pointer;transition:all .2s ease;border:1.5px solid #eee;box-shadow:0 1px 3px #0000000a}.filter-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px;color:#888}.filter-chip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:13px;color:#555}.filter-chip[_ngcontent-%COMP%]   .chip-count[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:11px;color:#999;background:#f0f0f0;padding:1px 6px;border-radius:10px;min-width:18px;text-align:center}.filter-chip.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff0f2,#ffede8);border-color:#f85c70}.filter-chip.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#f85c70}.filter-chip.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;color:#f85c70}.filter-chip.active[_ngcontent-%COMP%]   .chip-count[_ngcontent-%COMP%]{background:#f85c70;color:#fff}.coupon-section[_ngcontent-%COMP%]   .coupon-scroll[_ngcontent-%COMP%]{display:flex;gap:12px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;padding:0 16px}.coupon-section[_ngcontent-%COMP%]   .coupon-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.coupon-card[_ngcontent-%COMP%]{min-width:270px;max-width:290px;background:#fff;border-radius:14px;border-left:4px solid #4A5BF5;padding:14px 16px;box-shadow:0 2px 10px #0000000f;flex-shrink:0}.coupon-top[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-start;margin-bottom:12px}.coupon-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.coupon-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.coupon-info[_ngcontent-%COMP%]{flex:1}.coupon-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;margin:0 0 3px}.coupon-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0;line-height:1.3}.coupon-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.coupon-code-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;border:1.5px dashed #ddd;border-radius:8px;padding:5px 10px;cursor:pointer;transition:all .2s}.coupon-code-box[_ngcontent-%COMP%]:active{border-color:#f85c70;background:#fff5f5}.coupon-code-text[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:13px;color:#1a1a1a;letter-spacing:1px}.copy-btn[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:11px;color:#f85c70}.coupon-expiry[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#999}.first-order-section[_ngcontent-%COMP%]{padding:0 16px}.first-order-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:16px 18px;display:flex;align-items:center;gap:12px;position:relative;overflow:hidden;margin-bottom:8px;box-shadow:0 4px 14px #667eea4d}.fo-icon-wrap[_ngcontent-%COMP%]{width:44px;height:44px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.fo-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#fff}.fo-content[_ngcontent-%COMP%]{flex:1;min-width:0}.fo-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#fff;margin:0 0 2px}.fo-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#ffffffd9;margin:0;line-height:1.3}.fo-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:#fff3;border:1px dashed rgba(255,255,255,.5);border-radius:8px;padding:4px 10px;cursor:pointer;flex-shrink:0}.fo-action[_ngcontent-%COMP%]   .fo-code[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:11px;color:#fff;letter-spacing:1px}.fo-action[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px;color:#fff}.fo-discount[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;font-family:latoBold,sans-serif;font-size:10px;color:#fff;background:#ffffff40;padding:2px 8px;border-radius:10px}.offer-list-section[_ngcontent-%COMP%]{padding:0}.offer-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#fff;margin:0 16px 10px;padding:14px;border-radius:14px;box-shadow:0 2px 8px #0000000d;cursor:pointer;transition:transform .15s}.offer-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.offer-icon-wrap[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.offer-icon-wrap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}.offer-details[_ngcontent-%COMP%]{flex:1;min-width:0}.offer-title[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:14px;color:#1a1a1a;margin:0 0 3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.offer-desc[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:12px;color:#888;margin:0 0 5px;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.offer-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.offer-vendor[_ngcontent-%COMP%], .offer-min[_ngcontent-%COMP%], .offer-cap[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:11px;color:#999;display:flex;align-items:center;gap:3px}.offer-vendor[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .offer-min[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .offer-cap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.offer-cap[_ngcontent-%COMP%]{color:#2ecc71}.offer-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:5px;flex-shrink:0}.offer-badge[_ngcontent-%COMP%]{padding:3px 10px;border-radius:14px;font-family:latoBold,sans-serif;font-size:10px;color:#fff;letter-spacing:.3px;white-space:nowrap;box-shadow:0 1px 4px #0000001a}.offer-code-tap[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;cursor:pointer;padding:2px 0}.offer-code-tap[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px;color:#f85c70}.offer-code-tap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:10px;color:#f85c70;letter-spacing:.5px}.offer-expiry[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:10px;color:#bbb}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 24px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;color:#ddd;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:latoBold,sans-serif;font-size:18px;color:#1a1a1a;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#999;margin:0}.empty-filter[_ngcontent-%COMP%]{text-align:center;padding:40px 24px}.empty-filter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;color:#ddd;margin-bottom:10px;display:block}.empty-filter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:latoRegular,sans-serif;font-size:14px;color:#999;margin:0}"]})}}return t})();var ot=[{path:"",component:le}],se=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=M({imports:[D.forChild(ot),D]})}}return t})();var wt=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=M({providers:[I,ie,k],imports:[W,J,ne,se]})}}return t})();export{wt as DealsPageModule};
